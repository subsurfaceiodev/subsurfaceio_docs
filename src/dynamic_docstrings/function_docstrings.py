docstrings = {
    'base': {
        'get_below_water_table':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_below\\_water\\_table}(z, z_{w\\ present}, z_w) \\\\ \\hspace{1em} \\mathrm{below\\_water\\_table} \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( z, \\mathrm{False} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ z_{w\\ present} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{is\\_null} \\mathopen{}\\left( z_w \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"water\\_table missing"} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( \\mathrm{below\\_water\\_table}, z > z_w, \\mathrm{True} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{below\\_water\\_table} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\twater_table_present (bool): Indicates presence of water table\n\twater_table (float): Depth to water table below ground surface\n\n\nReturns:\n\tbelow_water_table (bool): Indicates if soil layer is below water table\n\n',
        'get_coefficient_of_consolidation__terzaghi1925principles':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_coefficient\\_of\\_consolidation\\_\\_terzaghi1925principles}(k, M) \\\\ \\hspace{1em} C_v \\gets 31536000 \\cdot \\frac{1000 k \\cdot M}{g} \\\\ \\hspace{1em} \\mathbf{return} \\ C_v \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpermeability (float): Soil permeability\n\tconstrained_modulus (float): Constrained modulus of soil\n\n\nReturns:\n\tcoefficient_of_consolidation (float): Coefficient of consolidation for soil\n\n',
        'get_coefficient_of_earth_pressure_at_rest__mayne1982ko':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_coefficient\\_of\\_earth\\_pressure\\_at\\_rest\\_\\_mayne1982ko}(ϕ, ϕ', OCR, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( ϕ, \\mathrm{is\\_fine\\_soil}, ϕ' \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( OCR, \\mathrm{is\\_null} \\mathopen{}\\left( OCR \\mathclose{}\\right) \\mathbin{\\&} \\mathord{\\sim} \\mathrm{is\\_fine\\_soil}, 1 \\mathclose{}\\right) \\\\ \\hspace{1em} K_o \\gets \\mathopen{}\\left( 1 - \\mathrm{sindg} \\mathopen{}\\left( ϕ \\mathclose{}\\right) \\mathclose{}\\right) OCR^{\\mathrm{sindg} \\mathopen{}\\left( ϕ \\mathclose{}\\right)} \\\\ \\hspace{1em} K_o \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( K_o \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ K_o \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfriction_angle (float): Friction angle of soil\n\tpeak_friction_angle (float): Peak friction angle of soil\n\toverconsolidation_ratio (float): Overconsolidation ratio of soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tcoefficient_of_earth_pressure_at_rest (float): Coefficient of lateral earth pressure at rest\n\n",
        'get_consolidation_state':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_consolidation\\_state}(OCR) \\\\ \\hspace{1em} \\mathrm{consolidation\\_state} \\gets \\mathrm{PARAMETERS}_{\\textrm{"overconsolidation\\_ratio"}}.\\mathrm{data\\_bins}_{\\textrm{"consolidation\\_state"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( OCR \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{consolidation\\_state} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\toverconsolidation_ratio (float): Overconsolidation ratio of soil\n\n\nReturns:\n\tconsolidation_state (str): Soil consolidation state description\n\n',
        'get_depth_middle':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_depth\\_middle}(z, H) \\\\ \\hspace{1em} z_{middle} \\gets z - \\frac{H}{2} \\\\ \\hspace{1em} \\mathbf{return} \\ z_{middle} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\tthickness (float): Thickness of soil layer\n\n\nReturns:\n\tdepth_middle (float): Depth below ground surface to middle of layer\n\n',
        'get_effective_stress':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_stress}(σ_v, u_0) \\\\ \\hspace{1em} σ_v' \\gets σ_v - u_0 \\\\ \\hspace{1em} \\mathbf{return} \\ σ_v' \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\ttotal_stress (float): Total vertical stress in soil\n\tpore_water_pressure (float): Pore water pressure in soil\n\n\nReturns:\n\teffective_stress (float): Effective vertical stress in soil\n\n",
        'get_elasticity_modulus_from_shear_modulus':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_elasticity\\_modulus\\_from\\_shear\\_modulus}(G_o, ν) \\\\ \\hspace{1em} E_s \\gets 2 G_o \\cdot \\mathopen{}\\left( 1 + ν \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ E_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsmall_strain_shear_modulus (float): Small strain shear modulus of soil\n\tpoisson_ratio (float): Poisson’s ratio of soil\n\n\nReturns:\n\telasticity_modulus (float): Modulus of elasticity of soil\n\n',
        'get_elevation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_elevation}(z, \\mathrm{surface\\_elevation}) \\\\ \\hspace{1em} \\mathrm{elevation} \\gets \\mathrm{surface\\_elevation} - z \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{elevation} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\tsurface_elevation (float): Ground surface elevation\n\n\nReturns:\n\televation (float): Elevation of ground surface or soil layer bottom depth\n\n',
        'get_overconsolidation_ratio__ladd1991stability':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overconsolidation\\_ratio\\_\\_ladd1991stability}(S_u, σ_v', s, m, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} OCR \\gets \\mathopen{}\\left( \\frac{S_u}{σ_v' \\cdot s} \\mathclose{}\\right)^{\\frac{1}{m}} \\\\ \\hspace{1em} \\mathbf{return} \\ OCR \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tshansep_method_s (float): SHANSEP method s parameter\n\tshansep_method_m (float): SHANSEP method m parameter\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\toverconsolidation_ratio (float): Overconsolidation ratio of soil\n\n",
        'get_pore_water_pressure':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pore\\_water\\_pressure}(z_{w\\ present}, z_w, z) \\\\ \\hspace{1em} \\mathbf{if} \\ z_{w\\ present} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{is\\_null} \\mathopen{}\\left( z_w \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"null water\\_table"} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{if} \\ z_w < 0 \\\\ \\hspace{3em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"negative water\\_table not supported"} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} u_0 \\gets \\mathopen{}\\left( z - z_w \\mathclose{}\\right) γ_w \\\\ \\hspace{2em} u_0 \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( u_0, 0, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} u_0 \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( z, 0 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ u_0 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\twater_table_present (bool): Indicates presence of water table\n\twater_table (float): Depth to water table below ground surface\n\tdepth (float): Depth below ground surface to bottom of layer\n\twater_unit_weight (float): Unit weight of water\n\n\nReturns:\n\tpore_water_pressure (float): Pore water pressure in soil\n\n',
        'get_shear_strength__terzaghi1943theoretical':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_strength\\_\\_terzaghi1943theoretical}(S_u, σ_v', ϕ) \\\\ \\hspace{1em} τ \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( S_u \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ τ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tfriction_angle (float): Friction angle of soil\n\n\nReturns:\n\tshear_strength (float): Shear strength of soil\n\n",
        'get_shear_velocity__landau1959theory':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_velocity\\_\\_landau1959theory}(G_o, γ) \\\\ \\hspace{1em} V_s \\gets \\mathopen{}\\left( \\frac{g \\cdot 1000 G_o}{γ} \\mathclose{}\\right)^{0.5} \\\\ \\hspace{1em} \\mathbf{return} \\ V_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsmall_strain_shear_modulus (float): Small strain shear modulus of soil\n\tunit_weight (float): Unit weight of soil\n\n\nReturns:\n\tshear_velocity (float): Shear wave velocity of soil\n\n',
        'get_small_strain_shear_modulus__landau1959theory':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_small\\_strain\\_shear\\_modulus\\_\\_landau1959theory}(γ, V_s) \\\\ \\hspace{1em} G_o \\gets \\frac{\\frac{γ}{g} \\cdot V_s^{2}}{1000} \\\\ \\hspace{1em} \\mathbf{return} \\ G_o \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tunit_weight (float): Unit weight of soil\n\tshear_velocity (float): Shear wave velocity of soil\n\n\nReturns:\n\tsmall_strain_shear_modulus (float): Small strain shear modulus of soil\n\n',
        'get_soil_type':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_type}(\\mathrm{uscs\\_symbol}) \\\\ \\hspace{1em} \\mathrm{soil\\_type} \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( \\mathrm{uscs\\_symbol}, \\mathrm{ReferenceData}.\\mathrm{USCSSoilTypes}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"key"}, \\textrm{"soil\\_type"} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{soil\\_type} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tuscs_symbol (str): Unified Soil Classification System symbol\n\n\nReturns:\n\tsoil_type (str): Primary soil type description\n\n',
        'get_soil_type2':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_type2}(\\mathrm{uscs\\_symbol}) \\\\ \\hspace{1em} \\mathrm{soil\\_type2} \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( \\mathrm{uscs\\_symbol}, \\mathrm{ReferenceData}.\\mathrm{USCSSoilTypes}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"key"}, \\textrm{"soil\\_type2"} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{soil\\_type2} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tuscs_symbol (str): Unified Soil Classification System symbol\n\n\nReturns:\n\tsoil_type2 (str): Secondary soil type description\n\n',
        'get_soil_type3':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_type3}(\\mathrm{uscs\\_symbol}) \\\\ \\hspace{1em} \\mathrm{soil\\_type3} \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( \\mathrm{uscs\\_symbol}, \\mathrm{ReferenceData}.\\mathrm{USCSSoilTypes}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"key"}, \\textrm{"soil\\_type3"} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{soil\\_type3} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tuscs_symbol (str): Unified Soil Classification System symbol\n\n\nReturns:\n\tsoil_type3 (str): Tertiary soil type description\n\n',
        'get_thickness':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_thickness}(z) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{ndim} \\mathopen{}\\left( z \\mathclose{}\\right) = 0 \\\\ \\hspace{2em} H \\gets z \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} H \\gets \\mathrm{np}.\\mathrm{diff} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{r\\_}_{\\mathopen{}\\left( 0, z \\mathclose{}\\right)} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ H \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\n\nReturns:\n\tthickness (float): Thickness of soil layer\n\n',
        'get_total_stress':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_total\\_stress}(γ, H) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{is\\_null} \\mathopen{}\\left( γ \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{warnings}.\\mathrm{warn} \\mathopen{}\\left( \\textrm{"total\\_stress: null unit\\_weight values found, will be replaced by \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( γ_{default} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} γ \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( γ \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} σ_v \\gets \\mathrm{np}.\\mathrm{cumsum} \\mathopen{}\\left( H \\cdot γ \\mathclose{}\\right) + σ_{v\\ inc} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{ndim} \\mathopen{}\\left( H \\cdot γ \\mathclose{}\\right) = 0 \\\\ \\hspace{2em} σ_v \\gets σ_v.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ σ_v \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tunit_weight (float): Unit weight of soil\n\tthickness (float): Thickness of soil layer\n\tdefault_unit_weight (float): Unit weight used for missing or undefined values\n\ttotal_stress_inc (float): Total stress in soil increment\n\n\nReturns:\n\ttotal_stress (float): Total vertical stress in soil\n\n',
        'get_undrained_shear_strength_ratio':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_undrained\\_shear\\_strength\\_ratio}(S_u, σ_v') \\\\ \\hspace{1em} S_{u\\ ratio} \\gets \\frac{S_u}{σ_v'} \\\\ \\hspace{1em} \\mathbf{return} \\ S_{u\\ ratio} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_stress (float): Effective vertical stress in soil\n\n\nReturns:\n\tundrained_shear_strength_ratio (float): Undrained shear strength to effective stress ratio\n\n"
    },
    'cpt': {
        'get_alternative_normalized_cone_resistance':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_alternative\\_normalized\\_cone\\_resistance}(q_t, σ_v, σ_v') \\\\ \\hspace{1em} Q_{t1} \\gets \\frac{q_t \\cdot 1000 - σ_v}{σ_v'} \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{t1} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\teffective_stress (float): Effective vertical stress in soil\n\n\nReturns:\n\talternative_normalized_cone_resistance (float): Alternative normalized cone resistance from CPT\n\n",
        'get_alternative_normalized_friction_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_alternative\\_normalized\\_friction\\_ratio}(f_s, q_c, σ_v) \\\\ \\hspace{1em} F \\gets \\mathrm{get\\_normalized\\_friction\\_ratio} \\mathopen{}\\left( f_s, q_c, σ_v \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ F \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsleeve_friction (float): Sleeve friction from CPT\n\tcone_tip_resistance (float): Cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\n\nReturns:\n\talternative_normalized_friction_ratio (float): Normalized friction ratio from cone tip resistance\n\n',
        'get_behaviour_correction_factor__robertson2022evaluation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_behaviour\\_correction\\_factor\\_\\_robertson2022evaluation}(I_c, \\mathrm{remove\\_loose\\_sand\\_criteria}, F_r, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets I_c \\ge 1.7 \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 1.8346 I_c^{5} - 23.673 I_c^{4} + 124.02 I_c^{3} - 320.616 I_c^{2} + 405.821 I_c - 199.97 \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets I_c < 1.7 \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets 1 \\\\ \\hspace{1em} K_c \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{remove\\_loose\\_sand\\_criteria} \\\\ \\hspace{2em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( K_c, \\mathopen{}\\left( I_c > 1.64 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( I_c < 2.36 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( F_r < 0.5 \\mathclose{}\\right), 1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ K_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tremove_loose_sand_criteria (bool): Sets K_c = 1.00 for I_c between 1.64 and 2.36 and F_r < 0.5\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tbehaviour_correction_factor (float): Correction factor for soil behavior\n\n',
        'get_clean_sand_normalized_cone_resistance_1atm_sr__idriss2003estimating':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_clean\\_sand\\_normalized\\_cone\\_resistance\\_1atm\\_sr\\_\\_idriss2003estimating}(q_{c1N}, Δq_{c1N-Sr}) \\\\ \\hspace{1em} q_{c1Ncs-Sr} \\gets q_{c1N} + Δq_{c1N-Sr} \\\\ \\hspace{1em} \\mathbf{return} \\ q_{c1Ncs-Sr} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_cone_resistance_1atm (float): Normalized cone resistance at 1 atm\n\tnormalized_cone_resistance_fines_inc_sr (float): Fines content increment to normalized cone resistance for residual shear strength\n\n\nReturns:\n\tclean_sand_normalized_cone_resistance_1atm_sr (float): Equivalent clean sand normalized cone resistance at 1 atm for residual shear strength\n\n',
        'get_clean_sand_normalized_cone_resistance__robertson2009interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_clean\\_sand\\_normalized\\_cone\\_resistance\\_\\_robertson2009interpretation}(K_c, Q_{tn}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} \\textrm{" Performance based earthquake design using the CPT by robertson (2009) "} \\\\ \\hspace{1em} \\textrm{" Evaluating cyclic liquefaction potential using the cone penetration test by robertson \\& Wride (1998) "} \\\\ \\hspace{1em} Q_{tncs} \\gets K_c \\cdot Q_{tn} \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{tncs} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tbehaviour_correction_factor (float): Correction factor for soil behavior\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tclean_sand_normalized_cone_resistance (float): Normalized cone resistance for clean sand\n\n',
        'get_clean_sand_normalized_cone_resistance__robertson2012interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_clean\\_sand\\_normalized\\_cone\\_resistance\\_\\_robertson2012interpretation}(K_d, I_D) \\\\ \\hspace{1em} Q_{tncs} \\gets 25 K_d \\\\ \\hspace{1em} Q_{tncs} \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( Q_{tncs} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( Q_{tncs}, \\mathord{\\sim} \\mathopen{}\\left( \\mathopen{}\\left( K_d > 2 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( K_d < 6 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( I_D > 1.2 \\mathclose{}\\right) \\mathclose{}\\right), \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{tncs} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\thorizontal_stress_index (float): Horizontal stress index from DMT\n\tmaterial_index (float): Dilatometer material index\n\n\nReturns:\n\tclean_sand_normalized_cone_resistance (float): Normalized cone resistance for clean sand\n\n',
        'get_constrained_modulus__robertson2009interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_constrained\\_modulus\\_\\_robertson2009interpretation}(I_c, Q_{tn}, q_t, σ_v, G_o) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets I_c > 2.2 \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( Q_{tn}, \\mathrm{None}, 14 \\mathclose{}\\right) \\cdot \\mathopen{}\\left( q_t - σ_v \\cdot 0.001 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets I_c \\le 2.2 \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets 1.6 G_o \\\\ \\hspace{1em} M \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ M \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\tsmall_strain_shear_modulus (float): Small strain shear modulus of soil\n\n\nReturns:\n\tconstrained_modulus (float): Constrained modulus of soil\n\n',
        'get_constrained_modulus__robertson2022evaluation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_constrained\\_modulus\\_\\_robertson2022evaluation}(I_c, Q_{tn}, q_t, σ_v, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} α_M \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( I_c > 2.2, Q_{tn}, 0.0188 \\cdot 10^{0.55 I_c + 1.68} \\mathclose{}\\right) \\\\ \\hspace{1em} α_M \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( α_M, \\mathrm{None}, 8 \\mathclose{}\\right) \\\\ \\hspace{1em} M \\gets α_M \\cdot \\mathopen{}\\left( q_t - σ_v \\cdot 0.001 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ M \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tconstrained_modulus (float): Constrained modulus of soil\n\n',
        'get_corrected_blow_count__robertson2012interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_corrected\\_blow\\_count\\_\\_robertson2012interpretation}(q_t, I_c, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} N_{60} \\gets \\frac{1000 q_t}{101.325} \\frac{1}{10^{1.1268 - 0.2817 I_c}} \\\\ \\hspace{1em} N_{60} \\gets \\mathrm{np}.\\mathrm{round} \\mathopen{}\\left( N_{60}, 0 \\mathclose{}\\right) \\\\ \\hspace{1em} N_{60} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( N_{60}, \\mathrm{None}, 100 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ N_{60} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tcorrected_blow_count (float): Blow count corrected for field conditions\n\n',
        'get_corrected_cone_tip_resistance':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_corrected\\_cone\\_tip\\_resistance}(q_c, u, a, \\mathrm{is\\_invalid\\_data}) \\\\ \\hspace{1em} q_t \\gets q_c + 0.001 u \\cdot \\mathopen{}\\left( 1 - a \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ q_t \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcone_tip_resistance (float): Cone tip resistance from CPT\n\tpore_pressure (float): Pore pressure in soil\n\tcone_area_ratio (float): Net area ratio for CPT cone\n\tis_invalid_data (bool): Indicates invalid input data\n\n\nReturns:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\n',
        'get_cyclic_resistance_ratio_magnitude_7_5__robertson2009interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio\\_magnitude\\_7\\_5\\_\\_robertson2009interpretation}(Q_{tncs}, \\mathrm{is\\_potentially\\_liquefiable}) \\\\ \\hspace{1em} \\textrm{" Performance based earthquake design using the CPT by robertson (2009) "} \\\\ \\hspace{1em} \\textrm{" Evaluating cyclic liquefaction potential using the cone penetration test by robertson \\& Wride (1998) "} \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathopen{}\\left( Q_{tncs} < 50 \\mathclose{}\\right) \\mathbin{\\&} \\mathrm{is\\_potentially\\_liquefiable} \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 0.833 \\frac{Q_{tncs}}{1000} + 0.05 \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathopen{}\\left( Q_{tncs} \\ge 50 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} < 160 \\mathclose{}\\right) \\mathbin{\\&} \\mathrm{is\\_potentially\\_liquefiable} \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets 93 \\mathopen{}\\left( \\frac{Q_{tncs}}{1000} \\mathclose{}\\right)^{3} + 0.08 \\\\ \\hspace{1em} CRR_{7.5} \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ CRR_{7.5} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance (float): Normalized cone resistance for clean sand\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n\nReturns:\n\tcyclic_resistance_ratio_magnitude_7_5 (float): Cyclic resistance ratio adjusted to moment magnitude 7.5\n\n',
        'get_cyclic_resistance_ratio_magnitude_7_5__saye2021common':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio\\_magnitude\\_7\\_5\\_\\_saye2021common}(m_{CRR}, q_{c1}, σ, PL_{liq}) \\\\ \\hspace{1em} \\textrm{"\n    From author:\n    σ = standard deviation and is equal to 0.24 if input parameters for a given soil layer are uncertain, or 0.20 if\n    input parameters for a given soil layer are certain. For most typical engineering applications, input parameters for\n     liquefaction triggering assessment are based on limited site exploration and laboratory testing data and therefore\n      justify σ = 0.24\n    Here, we recommend using PL = 35\\% with crr7.5 in Eq. (24) to define a deterministic liquefaction resistance\n    boundary for use in design\n    "} \\\\ \\hspace{1em} CRR_{7.5} \\gets 10^{\\frac{m_{CRR} \\cdot q_{c1}}{101.325} - 1.34 + σ \\cdot \\mathrm{norm} \\mathopen{}\\left( \\mathclose{}\\right).\\mathrm{ppf} \\mathopen{}\\left( \\frac{PL_{liq}}{100} \\mathclose{}\\right)} \\\\ \\hspace{1em} CRR_{7.5} \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( CRR_{7.5} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( CRR_{7.5}, \\mathopen{}\\left( m_{CRR} > 0.1 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( \\frac{q_{c1}}{101.325} > 180 \\mathclose{}\\right), \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} CRR_{7.5} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( CRR_{7.5}, \\mathrm{None}, 4 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ CRR_{7.5} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcyclic_resistance_ratio_slope (float): Slope of liquefaction resistance boundaries\n\toverburden_normalized_cone_resistance (float): Overburden normalized cone resistance from CPT\n\tstandard_deviation (float): Standard deviation for statistical analysis\n\tliquefaction_probability (float): Probability of liquefaction occurrence\n\n\nReturns:\n\tcyclic_resistance_ratio_magnitude_7_5 (float): Cyclic resistance ratio adjusted to moment magnitude 7.5\n\n',
        'get_cyclic_resistance_ratio_magnitude_7_5_cpt__boulanger2014cpt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio\\_magnitude\\_7\\_5\\_cpt\\_\\_boulanger2014cpt}(q_{c1Ncs}) \\\\ \\hspace{1em} CRR_{7.5} \\gets \\exp \\mathopen{}\\left( \\frac{q_{c1Ncs}}{113} + \\mathopen{}\\left( \\frac{q_{c1Ncs}}{1000} \\mathclose{}\\right)^{2} - \\mathopen{}\\left( \\frac{q_{c1Ncs}}{140} \\mathclose{}\\right)^{3} + \\mathopen{}\\left( \\frac{q_{c1Ncs}}{137} \\mathclose{}\\right)^{4} - 2.8 \\mathclose{}\\right) \\\\ \\hspace{1em} CRR_{7.5} \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( CRR_{7.5} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( CRR_{7.5}, q_{c1Ncs} \\ge 211, 2 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ CRR_{7.5} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance_1atm (float): Equivalent clean sand normalized cone resistance at 1 atm\n\n\nReturns:\n\tcyclic_resistance_ratio_magnitude_7_5 (float): Cyclic resistance ratio adjusted to moment magnitude 7.5\n\n',
        'get_cyclic_resistance_ratio_magnitude_7_5_cpt__idriss2006semi':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio\\_magnitude\\_7\\_5\\_cpt\\_\\_idriss2006semi}(q_{c1Ncs}, \\mathrm{is\\_potentially\\_liquefiable}) \\\\ \\hspace{1em} CRR_{7.5} \\gets \\exp \\mathopen{}\\left( \\frac{q_{c1Ncs}}{540} + \\mathopen{}\\left( \\frac{q_{c1Ncs}}{67} \\mathclose{}\\right)^{2} - \\mathopen{}\\left( \\frac{q_{c1Ncs}}{80} \\mathclose{}\\right)^{3} + \\mathopen{}\\left( \\frac{q_{c1Ncs}}{114} \\mathclose{}\\right)^{4} - 3 \\mathclose{}\\right) \\\\ \\hspace{1em} CRR_{7.5} \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( CRR_{7.5} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( CRR_{7.5}, q_{c1Ncs} \\ge 211, 2 \\mathclose{}\\right) \\\\ \\hspace{1em} CRR_{7.5} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( CRR_{7.5} \\mathclose{}\\right) \\mathbin{|} \\mathord{\\sim} \\mathrm{is\\_potentially\\_liquefiable}, 2, CRR_{7.5} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ CRR_{7.5} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance_1atm (float): Equivalent clean sand normalized cone resistance at 1 atm\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n\nReturns:\n\tcyclic_resistance_ratio_magnitude_7_5 (float): Cyclic resistance ratio adjusted to moment magnitude 7.5\n\n',
        'get_cyclic_resistance_ratio_slope__saye2021common':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio\\_slope\\_\\_saye2021common}(ΔQ) \\\\ \\hspace{1em} m_{CRR} \\gets \\frac{ΔQ}{178 ΔQ - 3349} \\\\ \\hspace{1em} m_{CRR} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( m_{CRR}, \\mathrm{None}, 0.1 \\mathclose{}\\right) \\\\ \\hspace{1em} m_{CRR} \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( m_{CRR} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( m_{CRR}, ΔQ < 20, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ m_{CRR} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_classification_index (float): Soil classification index per Saye\n\n\nReturns:\n\tcyclic_resistance_ratio_slope (float): Slope of liquefaction resistance boundaries\n\n',
        'get_diameter_at_50_percent_finer__saye2017linear':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_diameter\\_at\\_50\\_percent\\_finer\\_\\_saye2017linear}(ΔQ) \\\\ \\hspace{1em} D_{50} \\gets \\mathrm{DiameterAt50PercentFinerSaye2017Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( ΔQ \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ D_{50} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_classification_index (float): Soil classification index per Saye\n\n\nReturns:\n\tdiameter_at_50_percent_finer (float): Diameter at 50% finer from sieve analysis\n\n',
        'get_dry_unit_weight__barounis2018estimation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dry\\_unit\\_weight\\_\\_barounis2018estimation}(γ, w_c, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} γ_{dry} \\gets \\frac{γ}{1 + 0.01 w_c} \\\\ \\hspace{1em} \\mathbf{return} \\ γ_{dry} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tunit_weight (float): Unit weight of soil\n\twater_content (float): Natural water content of soil\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tdry_unit_weight (float): Unit weight of soil under dry conditions\n\n',
        'get_effective_cone_resistance__eslami1997pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_cone\\_resistance\\_\\_eslami1997pile}(q_t, u, \\mathrm{is\\_invalid\\_data}) \\\\ \\hspace{1em} q_E \\gets \\mathopen{}\\left| q_t - \\frac{u}{1000} \\mathclose{}\\right| \\\\ \\hspace{1em} q_E \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( q_E \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ q_E \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\tpore_pressure (float): Pore pressure in soil\n\tis_invalid_data (bool): Indicates invalid input data\n\n\nReturns:\n\teffective_cone_resistance (float): Effective cone resistance from CPT\n\n',
        'get_effective_cone_resistance_geometric_mean__eslami1997pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_cone\\_resistance\\_geometric\\_mean\\_\\_eslami1997pile}(z, q_E, D, \\mathrm{pile\\_toe\\_transition}) \\\\ \\hspace{1em} \\mathrm{z\\_top} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{pile\\_toe\\_transition} = \\textrm{"weak\\_to\\_dense"} \\\\ \\hspace{2em} \\mathrm{z\\_top} \\gets 8 D \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{pile\\_toe\\_transition} = \\textrm{"dense\\_to\\_weak"} \\\\ \\hspace{3em} \\mathrm{z\\_top} \\gets 2 D \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{z\\_bottom} \\gets 4 D \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{z\\_top\\_array}, \\mathrm{z\\_bottom\\_array} \\mathclose{}\\right) \\gets \\mathopen{}\\left( z - \\mathrm{z\\_top}, z + \\mathrm{z\\_bottom} \\mathclose{}\\right) \\\\ \\hspace{1em} q_{Eg} \\gets \\mathopen{}\\left[  \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathopen{}\\left( \\mathrm{z\\_top\\_}, \\mathrm{z\\_bottom\\_} \\mathclose{}\\right) \\in \\mathrm{zip} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( \\mathrm{z\\_top\\_array} \\mathclose{}\\right), \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( \\mathrm{z\\_bottom\\_array} \\mathclose{}\\right) \\mathclose{}\\right) \\ \\mathbf{do} \\\\ \\hspace{2em} \\mathrm{effective\\_cone\\_resistance\\_bin} \\gets \\mathrm{np}.\\mathrm{extract} \\mathopen{}\\left( \\mathopen{}\\left( \\mathrm{z\\_top\\_} \\le z \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( z \\le \\mathrm{z\\_bottom\\_} \\mathclose{}\\right), q_E \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{z\\_top\\_} \\le 0 \\\\ \\hspace{3em} \\mathrm{effective\\_cone\\_resistance\\_bin} \\gets \\mathrm{np}.\\mathrm{insert} \\mathopen{}\\left( \\mathrm{effective\\_cone\\_resistance\\_bin}, 0, 0 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( \\mathrm{effective\\_cone\\_resistance\\_bin}, \\mathrm{effective\\_cone\\_resistance\\_bin} = 0, 1e-06 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{effective\\_cone\\_resistance\\_bin} \\gets \\mathrm{np}.\\mathrm{extract} \\mathopen{}\\left( \\mathrm{effective\\_cone\\_resistance\\_bin} > 0, \\mathrm{effective\\_cone\\_resistance\\_bin} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{effective\\_cone\\_resistance\\_geometric\\_mean\\_bin} \\gets \\mathrm{gmean} \\mathopen{}\\left( \\mathrm{effective\\_cone\\_resistance\\_bin} \\mathclose{}\\right) \\\\ \\hspace{2em} q_{Eg}.\\mathrm{append} \\mathopen{}\\left( \\mathrm{effective\\_cone\\_resistance\\_geometric\\_mean\\_bin} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{return} \\ q_{Eg} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\teffective_cone_resistance (float): Effective cone resistance from CPT\n\tpile_diameter (float): Outside diameter of pile\n\tpile_toe_transition (str): Transition type at pile toe\n\n\nReturns:\n\teffective_cone_resistance_geometric_mean (float): Geometric mean of effective cone resistance over influence zone\n\n',
        'get_elasticity_modulus__robertson2012interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_elasticity\\_modulus\\_\\_robertson2012interpretation}(q_t, σ_v, I_c, \\mathrm{is\\_invalid\\_data}, SBT_n, \\mathrm{is\\_fine\\_soil}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} E_s \\gets \\mathopen{}\\left( q_t - 0.001 σ_v \\mathclose{}\\right) \\cdot 0.015 \\cdot 10^{0.55 I_c + 1.68} \\\\ \\hspace{1em} \\mathbf{return} \\ E_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tis_invalid_data (bool): Indicates invalid input data\n\tnormalized_soil_behavior_type (str): Normalized soil behavior type from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\telasticity_modulus (float): Modulus of elasticity of soil\n\n',
        'get_equivalent_cone_resistance__bustamante1982pile':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_equivalent\\_cone\\_resistance\\_\\_bustamante1982pile}(z, q_t, D) \\\\ \\hspace{1em} \\mathrm{z\\_offset} \\gets 1.5 D \\\\ \\hspace{1em} \\mathrm{primed} \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( z \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{normal} \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( z \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathopen{}\\left( i, z \\mathclose{}\\right) \\in \\mathrm{enumerate} \\mathopen{}\\left( z \\mathclose{}\\right) \\ \\mathbf{do} \\\\ \\hspace{2em} z_{top} \\gets z - \\mathrm{z\\_offset} \\\\ \\hspace{2em} z_{bottom} \\gets z + \\mathrm{z\\_offset} \\\\ \\hspace{2em} \\mathrm{mask} \\gets \\mathopen{}\\left( z_{top} \\le z \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( z \\le z_{bottom} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{qt\\_in\\_window} \\gets \\mathrm{np}.\\mathrm{extract} \\mathopen{}\\left( \\mathrm{mask}, q_t \\mathclose{}\\right) \\\\ \\hspace{2em} q'_{ca} \\gets \\mathrm{np}.\\mathrm{mean} \\mathopen{}\\left( \\mathrm{qt\\_in\\_window} \\mathclose{}\\right) \\\\ \\hspace{2em} q_{ca} \\gets \\mathrm{np}.\\mathrm{mean} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( \\mathrm{qt\\_in\\_window}, 0.7 q'_{ca}, 1.3 q'_{ca} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{primed}_{i} \\gets q'_{ca} \\\\ \\hspace{2em} \\mathrm{normal}_{i} \\gets q_{ca} \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{primed}, \\mathrm{normal} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\tpile_diameter (float): Outside diameter of pile\n\n\nReturns:\n\tequivalent_cone_resistance_primed (float): LCPC method mean cone resistance between -a and +a (a = 1.5D)\n\tequivalent_cone_resistance (float): LCPC method equivalent average cone resistance\n\n",
        'get_fines_content__boulanger2014cpt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_fines\\_content\\_\\_boulanger2014cpt}(I_c, C(FC)) \\\\ \\hspace{1em} FC \\gets 80 \\mathopen{}\\left( I_c + C(FC) \\mathclose{}\\right) - 137 \\\\ \\hspace{1em} FC \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( FC, 0, 100 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ FC \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tfines_content_fitting_parameter (float): Fines content fitting parameter for liquefaction\n\n\nReturns:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\n',
        'get_fines_content__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_fines\\_content\\_\\_idriss2008soil}(I_c) \\\\ \\hspace{1em} FC \\gets 2.8 I_c^{2.6} \\\\ \\hspace{1em} FC \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( FC, 0, 100 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ FC \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\n\nReturns:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\n',
        'get_fines_content__robertson1998evaluating':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_fines\\_content\\_\\_robertson1998evaluating}(I_c, F_r) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets I_c \\le 1.26 \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 0 \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathopen{}\\left( I_c > 1.26 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( I_c \\le 3.5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets 1.75 I_c^{3.25} - 3.7 \\\\ \\hspace{1em} \\mathrm{condition\\_3} \\gets I_c > 3.5 \\\\ \\hspace{1em} \\mathrm{choice\\_3} \\gets 100 \\\\ \\hspace{1em} \\mathrm{condition\\_4} \\gets \\mathopen{}\\left( I_c \\ge 1.64 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( I_c \\le 2.36 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( F_r < 0.5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_4} \\gets 5 \\\\ \\hspace{1em} FC \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3}, \\mathrm{condition\\_4} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3}, \\mathrm{choice\\_4} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} FC \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( FC, \\mathrm{None}, 100 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ FC \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\n\nReturns:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\n',
        'get_fines_content__saye2017linear':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_fines\\_content\\_\\_saye2017linear}(ΔQ) \\\\ \\hspace{1em} FC \\gets \\mathrm{FinesContentSaye2017Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( ΔQ \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ FC \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_classification_index (float): Soil classification index per Saye\n\n\nReturns:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\n',
        'get_friction_angle__kulhawy1990manual':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_friction\\_angle\\_\\_kulhawy1990manual}(Q_{tn}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} ϕ \\gets 17.6 + 11 \\log_{10} Q_{tn} \\\\ \\hspace{1em} \\mathbf{return} \\ ϕ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tfriction_angle (float): Friction angle of soil\n\n',
        'get_friction_angle__robertson2012interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_friction\\_angle\\_\\_robertson2012interpretation}(ϕ_{cv}, Q_{tncs}, \\mathrm{is\\_invalid\\_data}, SBT_n, \\mathrm{is\\_fine\\_soil}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} ϕ \\gets ϕ_{cv} + 15.84 \\log_{10} Q_{tncs} - 26.88 \\\\ \\hspace{1em} ϕ \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( ϕ, ϕ_{cv}, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ϕ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tconstant_volume_friction_angle (float): Constant volume friction angle of soil\n\tclean_sand_normalized_cone_resistance (float): Normalized cone resistance for clean sand\n\tis_invalid_data (bool): Indicates invalid input data\n\tnormalized_soil_behavior_type (str): Normalized soil behavior type from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tfriction_angle (float): Friction angle of soil\n\n',
        'get_friction_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_friction\\_ratio}(f_s, q_t) \\\\ \\hspace{1em} R_f \\gets \\frac{0.1 f_s}{q_t} \\\\ \\hspace{1em} \\mathbf{return} \\ R_f \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsleeve_friction (float): Sleeve friction from CPT\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\n\nReturns:\n\tfriction_ratio (float): Friction ratio from CPT\n\n',
        'get_is_fine_soil_bustamante1982fellenius':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_is\\_fine\\_soil\\_bustamante1982fellenius}(\\mathrm{soil\\_type\\_index}) \\\\ \\hspace{1em} \\mathrm{is\\_fine\\_soil} \\gets \\mathrm{np}.\\mathrm{isin} \\mathopen{}\\left( \\mathrm{soil\\_type\\_index}, \\mathopen{}\\left[ \\textrm{"0"}, \\textrm{"1"}, \\textrm{"2"}, \\textrm{"3"} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{is\\_fine\\_soil} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_type_index (str): Index for soil type classification\n\n\nReturns:\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n',
        'get_is_fine_soil_cpt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_is\\_fine\\_soil\\_cpt}(\\mathrm{is\\_fine\\_soil\\_criteria}, SBT_n, I_c, I_{c\\ cutoff}) \\\\ \\hspace{1em} \\mathrm{is\\_fine\\_soil} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{is\\_fine\\_soil\\_criteria} = \\textrm{"sbtn"} \\\\ \\hspace{2em} \\mathrm{is\\_fine\\_soil} \\gets \\mathrm{np}.\\mathrm{isin} \\mathopen{}\\left( SBT_n, \\mathopen{}\\left[ \\textrm{"1"}, \\textrm{"2"}, \\textrm{"3"}, \\textrm{"4"}, \\textrm{"9"} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{is\\_fine\\_soil\\_criteria} = \\textrm{"ic\\_cutoff"} \\\\ \\hspace{3em} \\mathrm{is\\_fine\\_soil} \\gets I_c > I_{c\\ cutoff} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{is\\_fine\\_soil} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tis_fine_soil_criteria (str): Criteria for fine soil classification\n\tnormalized_soil_behavior_type (str): Normalized soil behavior type from CPT\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tsoil_behavior_type_index_cutoff (float): Cutoff for fine soil criteria and transition layer detection\n\n\nReturns:\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n',
        'get_is_invalid_data':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_is\\_invalid\\_data}(q_c) \\\\ \\hspace{1em} \\mathrm{is\\_invalid\\_data} \\gets \\mathrm{np}.\\mathrm{isin} \\mathopen{}\\left( q_c, \\mathopen{}\\left[ -9999, -8888, -7777, -9876 \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{is\\_invalid\\_data} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcone_tip_resistance (float): Cone tip resistance from CPT\n\n\nReturns:\n\tis_invalid_data (bool): Indicates invalid input data\n\n',
        'get_is_potentially_liquefiable_cpt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_is\\_potentially\\_liquefiable\\_cpt}(\\mathrm{below\\_water\\_table}, z, LIQ_{max\\ z}, \\mathrm{is\\_fine\\_soil}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( LIQ_{max\\ z} \\mathclose{}\\right) \\\\ \\hspace{2em} LIQ_{max\\ z} \\gets \\mathrm{np}.\\mathrm{inf} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{is\\_potentially\\_liquefiable} \\gets \\mathrm{below\\_water\\_table} \\mathbin{\\&} \\mathopen{}\\left( z \\le LIQ_{max\\ z} \\mathclose{}\\right) \\mathbin{\\&} \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathord{\\sim} \\mathrm{soil\\_transition} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{is\\_potentially\\_liquefiable} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tbelow_water_table (bool): Indicates if soil layer is below water table\n\tdepth (float): Depth below ground surface to bottom of layer\n\tliquefaction_max_depth (float): Maximum depth for liquefaction analysis\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n',
        'get_iterative_parameters_cpt__boulanger2014cpt':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_iterative\\_parameters\\_cpt\\_\\_boulanger2014cpt}(q_c, FC, σ_v', \\mathrm{is\\_invalid\\_data}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} n \\gets \\mathrm{None} \\\\ \\hspace{1em} C_n \\gets \\mathrm{None} \\\\ \\hspace{1em} Δq_{c1N} \\gets \\mathrm{None} \\\\ \\hspace{1em} q_{c1Ncs} \\gets \\mathrm{None} \\\\ \\hspace{1em} q_{c1N} \\gets \\mathrm{np}.\\mathrm{ones\\_like} \\mathopen{}\\left( q_c \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathrm{\\_} \\in \\mathrm{range} \\mathopen{}\\left( \\mathrm{MAX\\_ITER} \\mathclose{}\\right) \\ \\mathbf{do} \\\\ \\hspace{2em} \\mathrm{normalized\\_cone\\_resistance\\_1atm\\_old} \\gets q_{c1N}.\\mathrm{copy} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{2em} Δq_{c1N} \\gets \\mathopen{}\\left( 11.9 + \\frac{q_{c1N}}{14.6} \\mathclose{}\\right) \\exp \\mathopen{}\\left( 1.63 - \\frac{9.7}{FC + 2} - \\mathopen{}\\left( \\frac{15.7}{FC + 2} \\mathclose{}\\right)^{2} \\mathclose{}\\right) \\\\ \\hspace{2em} Δq_{c1N} \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( Δq_{c1N} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( Δq_{c1N}, \\mathrm{np}.\\mathrm{isclose} \\mathopen{}\\left( Δq_{c1N}, 0 \\mathclose{}\\right), 0 \\mathclose{}\\right) \\\\ \\hspace{2em} q_{c1Ncs} \\gets q_{c1N} + Δq_{c1N} \\\\ \\hspace{2em} n \\gets 1.338 - 0.249 \\mathopen{}\\left( \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( q_{c1Ncs}, 21, 254 \\mathclose{}\\right) \\mathclose{}\\right)^{0.264} \\\\ \\hspace{2em} C_n \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( \\mathopen{}\\left( \\frac{101.325}{σ_v'} \\mathclose{}\\right)^{n}, 0, 1.7 \\mathclose{}\\right) \\\\ \\hspace{2em} q_{c1N} \\gets \\frac{q_c \\cdot 1000}{101.325} \\cdot C_n \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{nanmax} \\mathopen{}\\left( \\mathopen{}\\left| q_{c1N} - \\mathrm{normalized\\_cone\\_resistance\\_1atm\\_old} \\mathclose{}\\right| \\mathclose{}\\right) < \\mathrm{TOL} \\\\ \\hspace{3em} \\mathbf{break} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( n, C_n, q_{c1N}, Δq_{c1N}, q_{c1Ncs} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcone_tip_resistance (float): Cone tip resistance from CPT\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\teffective_stress (float): Effective vertical stress in soil\n\tis_invalid_data (bool): Indicates invalid input data\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\toverburden_stress_exponent (float): Stress exponent for overburden correction\n\toverburden_correction (float): Overburden correction factor for SPT\n\tnormalized_cone_resistance_1atm (float): Normalized cone resistance at 1 atm\n\tnormalized_cone_resistance_fines_inc (float): Fines content dependent increment to normalized cone resistance\n\tclean_sand_normalized_cone_resistance_1atm (float): Equivalent clean sand normalized cone resistance at 1 atm\n\n",
        'get_iterative_parameters_cpt__idriss2008soil':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_iterative\\_parameters\\_cpt\\_\\_idriss2008soil}(q_c, FC, σ_v', \\mathrm{is\\_invalid\\_data}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} n \\gets \\mathrm{None} \\\\ \\hspace{1em} C_n \\gets \\mathrm{None} \\\\ \\hspace{1em} Δq_{c1N} \\gets \\mathrm{None} \\\\ \\hspace{1em} q_{c1Ncs} \\gets \\mathrm{None} \\\\ \\hspace{1em} q_{c1N} \\gets \\mathrm{np}.\\mathrm{ones\\_like} \\mathopen{}\\left( q_c \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathrm{\\_} \\in \\mathrm{range} \\mathopen{}\\left( \\mathrm{MAX\\_ITER} \\mathclose{}\\right) \\ \\mathbf{do} \\\\ \\hspace{2em} \\mathrm{normalized\\_cone\\_resistance\\_1atm\\_old} \\gets q_{c1N}.\\mathrm{copy} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{2em} Δq_{c1N} \\gets \\mathopen{}\\left( 5.4 + \\frac{q_{c1N}}{16} \\mathclose{}\\right) \\exp \\mathopen{}\\left( 1.63 + \\frac{9.7}{FC + 0.01} - \\mathopen{}\\left( \\frac{15.7}{FC + 0.01} \\mathclose{}\\right)^{2} \\mathclose{}\\right) \\\\ \\hspace{2em} Δq_{c1N} \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( Δq_{c1N} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( Δq_{c1N}, \\mathrm{np}.\\mathrm{isclose} \\mathopen{}\\left( Δq_{c1N}, 0 \\mathclose{}\\right), 0 \\mathclose{}\\right) \\\\ \\hspace{2em} q_{c1Ncs} \\gets q_{c1N} + Δq_{c1N} \\\\ \\hspace{2em} n \\gets 1.338 - 0.249 \\mathopen{}\\left( \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( q_{c1Ncs}, 21, 254 \\mathclose{}\\right) \\mathclose{}\\right)^{0.264} \\\\ \\hspace{2em} C_n \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( \\mathopen{}\\left( \\frac{101.325}{σ_v'} \\mathclose{}\\right)^{n}, 0, 1.7 \\mathclose{}\\right) \\\\ \\hspace{2em} q_{c1N} \\gets \\frac{q_c \\cdot 1000}{101.325} \\cdot C_n \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{nanmax} \\mathopen{}\\left( \\mathopen{}\\left| q_{c1N} - \\mathrm{normalized\\_cone\\_resistance\\_1atm\\_old} \\mathclose{}\\right| \\mathclose{}\\right) < \\mathrm{TOL} \\\\ \\hspace{3em} \\mathbf{break} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( n, C_n, q_{c1N}, Δq_{c1N}, q_{c1Ncs} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcone_tip_resistance (float): Cone tip resistance from CPT\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\teffective_stress (float): Effective vertical stress in soil\n\tis_invalid_data (bool): Indicates invalid input data\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\toverburden_stress_exponent (float): Stress exponent for overburden correction\n\toverburden_correction (float): Overburden correction factor for SPT\n\tnormalized_cone_resistance_1atm (float): Normalized cone resistance at 1 atm\n\tnormalized_cone_resistance_fines_inc (float): Fines content dependent increment to normalized cone resistance\n\tclean_sand_normalized_cone_resistance_1atm (float): Equivalent clean sand normalized cone resistance at 1 atm\n\n",
        'get_magnitude_scaling_factor_max_cpt__boulanger2014cpt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_magnitude\\_scaling\\_factor\\_max\\_cpt\\_\\_boulanger2014cpt}(q_{c1Ncs}) \\\\ \\hspace{1em} MSF_{max} \\gets 1.09 + \\mathopen{}\\left( \\frac{q_{c1Ncs}}{180} \\mathclose{}\\right)^{3} \\\\ \\hspace{1em} MSF_{max} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( MSF_{max}, \\mathrm{None}, 2.2 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ MSF_{max} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance_1atm (float): Equivalent clean sand normalized cone resistance at 1 atm\n\n\nReturns:\n\tmagnitude_scaling_factor_max (float): Maximum magnitude scaling factor\n\n',
        'get_max_shear_strain__zhang2004estimating':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_max\\_shear\\_strain\\_\\_zhang2004estimating}(D_r, FS_{liq}) \\\\ \\hspace{1em} γ_{max} \\gets \\mathrm{\\_get\\_max\\_shear\\_strain\\_\\_zhang2004estimating\\_vec} \\mathopen{}\\left( FS_{liq}, D_r \\mathclose{}\\right) \\\\ \\hspace{1em} γ_{max} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( γ_{max} \\mathclose{}\\right) \\mathbin{|} \\mathopen{}\\left( FS_{liq} \\ge 2 \\mathclose{}\\right), 0, γ_{max} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ γ_{max} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\trelative_density (float): Relative density of soil\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\n\nReturns:\n\tmax_shear_strain (float): Maximum shear strain in soil\n\n',
        'get_max_shear_strain__zhang2004estimating_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_max\\_shear\\_strain\\_\\_zhang2004estimating\\_scalar}(FS_{liq}, D_r) \\\\ \\hspace{1em} \\mathrm{relative\\_density\\_\\_zhang2004estimating\\_list} \\gets \\mathopen{}\\left[ 40, 50, 60, 70, 80, 90 \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( FS_{liq} \\mathclose{}\\right) \\lor \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( D_r \\mathclose{}\\right) \\\\ \\hspace{2em} γ_{max} \\gets 0 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ D_r = 90 \\\\ \\hspace{3em} \\mathbf{if} \\ FS_{liq} < 0.7 \\\\ \\hspace{4em} γ_{max} \\gets 6.2 \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} γ_{max} \\gets 3.26 FS_{liq}^{-1.8} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ D_r = 80 \\\\ \\hspace{4em} \\mathbf{if} \\ FS_{liq} < 0.56 \\\\ \\hspace{5em} γ_{max} \\gets 10 \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} γ_{max} \\gets 3.22 FS_{liq}^{-2.08} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ D_r = 70 \\\\ \\hspace{5em} \\mathbf{if} \\ FS_{liq} < 0.59 \\\\ \\hspace{6em} γ_{max} \\gets 14.5 \\\\ \\hspace{5em} \\mathbf{else} \\\\ \\hspace{6em} γ_{max} \\gets 3.2 FS_{liq}^{-2.89} \\\\ \\hspace{5em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} \\mathbf{if} \\ D_r = 60 \\\\ \\hspace{6em} \\mathbf{if} \\ FS_{liq} < 0.66 \\\\ \\hspace{7em} γ_{max} \\gets 22.7 \\\\ \\hspace{6em} \\mathbf{else} \\\\ \\hspace{7em} γ_{max} \\gets 3.58 FS_{liq}^{-4.42} \\\\ \\hspace{6em} \\mathbf{end \\ if} \\\\ \\hspace{5em} \\mathbf{else} \\\\ \\hspace{6em} \\mathbf{if} \\ D_r = 50 \\\\ \\hspace{7em} \\mathbf{if} \\ FS_{liq} < 0.72 \\\\ \\hspace{8em} γ_{max} \\gets 34.1 \\\\ \\hspace{7em} \\mathbf{else} \\\\ \\hspace{8em} γ_{max} \\gets 4.22 FS_{liq}^{-6.39} \\\\ \\hspace{7em} \\mathbf{end \\ if} \\\\ \\hspace{6em} \\mathbf{else} \\\\ \\hspace{7em} \\mathbf{if} \\ D_r = 40 \\\\ \\hspace{8em} \\mathbf{if} \\ FS_{liq} < 0.81 \\\\ \\hspace{9em} γ_{max} \\gets 51.2 \\\\ \\hspace{8em} \\mathbf{else} \\\\ \\hspace{9em} \\mathbf{if} \\ FS_{liq} \\le 1 \\\\ \\hspace{10em} γ_{max} \\gets 250 \\mathopen{}\\left( 1 - FS_{liq} \\mathclose{}\\right) + 3.5 \\\\ \\hspace{9em} \\mathbf{else} \\\\ \\hspace{10em} γ_{max} \\gets \\mathrm{np}.\\mathrm{nan} \\\\ \\hspace{9em} \\mathbf{end \\ if} \\\\ \\hspace{8em} \\mathbf{end \\ if} \\\\ \\hspace{7em} \\mathbf{else} \\\\ \\hspace{8em} \\mathrm{idx} \\gets \\mathrm{np}.\\mathrm{searchsorted} \\mathopen{}\\left( \\mathrm{relative\\_density\\_\\_zhang2004estimating\\_list}, D_r \\mathclose{}\\right) \\\\ \\hspace{8em} \\mathrm{relative\\_density\\_bottom} \\gets \\mathrm{relative\\_density\\_\\_zhang2004estimating\\_list}_{\\mathrm{idx} - 1} \\\\ \\hspace{8em} \\mathrm{max\\_shear\\_strain\\_bottom} \\gets \\mathrm{get\\_max\\_shear\\_strain\\_\\_zhang2004estimating\\_scalar} \\mathopen{}\\left( FS_{liq}, \\mathrm{relative\\_density\\_bottom} \\mathclose{}\\right) \\\\ \\hspace{8em} \\mathrm{relative\\_density\\_top} \\gets \\mathrm{relative\\_density\\_\\_zhang2004estimating\\_list}_{\\mathrm{idx}} \\\\ \\hspace{8em} \\mathrm{max\\_shear\\_strain\\_top} \\gets \\mathrm{get\\_max\\_shear\\_strain\\_\\_zhang2004estimating\\_scalar} \\mathopen{}\\left( FS_{liq}, \\mathrm{relative\\_density\\_top} \\mathclose{}\\right) \\\\ \\hspace{8em} γ_{max} \\gets \\mathrm{np}.\\mathrm{interp} \\mathopen{}\\left( D_r, \\mathopen{}\\left[ \\mathrm{relative\\_density\\_bottom}, \\mathrm{relative\\_density\\_top} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{max\\_shear\\_strain\\_bottom}, \\mathrm{max\\_shear\\_strain\\_top} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{7em} \\mathbf{end \\ if} \\\\ \\hspace{6em} \\mathbf{end \\ if} \\\\ \\hspace{5em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ γ_{max} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\trelative_density (float): Relative density of soil\n\n\nReturns:\n\tmax_shear_strain (float): Maximum shear strain in soil\n\n',
        'get_max_shear_strain_f_alpha_term_cpt__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_max\\_shear\\_strain\\_f\\_alpha\\_term\\_cpt\\_\\_idriss2008soil}(q_{c1Ncs}) \\\\ \\hspace{1em} q_{c1Ncs} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( q_{c1Ncs}, 69, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} F_α \\gets -11.74 + 8.34 q_{c1Ncs}^{0.264} - 1.371 q_{c1Ncs}^{0.528} \\\\ \\hspace{1em} F_α \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( F_α \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ F_α \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance_1atm (float): Equivalent clean sand normalized cone resistance at 1 atm\n\n\nReturns:\n\tmax_shear_strain_f_alpha_term (float): Term for maximum shear strain calculation\n\n',
        'get_mean_corrected_cone_tip_resistance':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_mean\\_corrected\\_cone\\_tip\\_resistance}(D_f, z_{infl}, z, q_t) \\\\ \\hspace{1em} \\mathrm{depth\\_rounded} \\gets \\mathrm{np}.\\mathrm{round} \\mathopen{}\\left( z, 5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{flag1} \\gets \\mathrm{np}.\\mathrm{round} \\mathopen{}\\left( D_f, 5 \\mathclose{}\\right) \\le \\mathrm{depth\\_rounded} \\\\ \\hspace{1em} \\mathrm{flag2} \\gets \\mathrm{depth\\_rounded} \\le \\mathrm{np}.\\mathrm{round} \\mathopen{}\\left( z_{infl}, 5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{flag} \\gets \\mathrm{flag1} \\mathbin{\\&} \\mathrm{flag2} \\\\ \\hspace{1em} q_t \\gets \\mathrm{np}.\\mathrm{broadcast\\_to} \\mathopen{}\\left( q_t, \\mathrm{flag}.\\mathrm{shape} \\mathclose{}\\right).\\mathrm{copy} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( q_t, \\mathord{\\sim} \\mathrm{flag}, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} q_{t\\ mean} \\gets \\mathrm{np}.\\mathrm{nanmean} \\mathopen{}\\left( q_t \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ q_{t\\ mean} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_embedment (float): Depth of footing embedment\n\tfooting_influence_depth (float): Depth of influence for footing\n\tdepth (float): Depth below ground surface to bottom of layer\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\n\nReturns:\n\tmean_corrected_cone_tip_resistance (float): Corrected cone tip resistance averaged over footing influence depth\n\n',
        'get_modified_soil_behavior_type':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_modified\\_soil\\_behavior\\_type}(F_r, Q_{tn}) \\\\ \\hspace{1em} SBT_{n\\ mod} \\gets \\mathrm{ModifiedSoilBehaviourTypeFigure}.\\mathrm{assign\\_polygons\\_labels\\_from\\_xy\\_data} \\mathopen{}\\left( F_r, Q_{tn} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ SBT_{n\\ mod} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\n\nReturns:\n\tmodified_soil_behavior_type (str): Modified soil behavior type\n\n',
        'get_modified_soil_behavior_type_index':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_modified\\_soil\\_behavior\\_type\\_index}(Q_{tn}, F_r) \\\\ \\hspace{1em} I_B \\gets \\frac{100 \\mathopen{}\\left( Q_{tn} + 10 \\mathclose{}\\right)}{Q_{tn} \\cdot F_r + 70} \\\\ \\hspace{1em} \\mathbf{return} \\ I_B \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\n\nReturns:\n\tmodified_soil_behavior_type_index (float): Modified soil behaviour type index\n\n',
        'get_modified_soil_behavior_type_label':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_modified\\_soil\\_behavior\\_type\\_label}(SBT_{n\\ mod}) \\\\ \\hspace{1em} SBT_{n\\ mod\\ label} \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( SBT_{n\\ mod}, \\mathrm{PARAMETERS}.\\mathrm{get\\_pair\\_discrete\\_field\\_mapping} \\mathopen{}\\left( \\textrm{"modified\\_soil\\_behavior\\_type"}, \\textrm{"modified\\_soil\\_behavior\\_type\\_label"} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ SBT_{n\\ mod\\ label} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmodified_soil_behavior_type (str): Modified soil behavior type\n\n\nReturns:\n\tmodified_soil_behavior_type_label (str): Label for modified soil behavior type\n\n',
        'get_nature_of_soil__bustamante1982pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_nature\\_of\\_soil\\_\\_bustamante1982pile}(R_f, Q_{tn}) \\\\ \\hspace{1em} \\mathrm{nature\\_of\\_soil} \\gets \\mathrm{NatureOfSoilFigure}.\\mathrm{assign\\_polygons\\_labels\\_from\\_xy\\_data} \\mathopen{}\\left( R_f, Q_{tn} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( \\mathrm{nature\\_of\\_soil}, R_f < 0.1, \\textrm{"6"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{nature\\_of\\_soil} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfriction_ratio (float): Friction ratio from CPT\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\n\nReturns:\n\tnature_of_soil (str): Description of soil nature\n\n',
        'get_non_normalized_soil_behavior_type_index':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_non\\_normalized\\_soil\\_behavior\\_type\\_index}(q_t, R_f) \\\\ \\hspace{1em} I_{SBT} \\gets \\mathrm{get\\_soil\\_behavior\\_type\\_index} \\mathopen{}\\left( \\frac{1000 q_t}{101.325}, R_f \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ I_{SBT} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\tfriction_ratio (float): Friction ratio from CPT\n\n\nReturns:\n\tnon_normalized_soil_behavior_type_index (float): Non-normalized soil behavior type index\n\n',
        'get_normalized_cone_resistance':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_cone\\_resistance}(q_t) \\\\ \\hspace{1em} Q_t \\gets \\frac{1000 q_t}{101.325} \\\\ \\hspace{1em} \\mathbf{return} \\ Q_t \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\n\nReturns:\n\tnormalized_cone_resistance (float): Normalized cone resistance from CPT\n\n',
        'get_normalized_cone_resistance_fines_inc_sr__seed1987design':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_cone\\_resistance\\_fines\\_inc\\_sr\\_\\_seed1987design}(FC, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} Δq_{c1N-Sr} \\gets \\mathrm{NormalizedConeResistanceFinesIncSeed1987Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( FC \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ Δq_{c1N-Sr} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tnormalized_cone_resistance_fines_inc_sr (float): Fines content increment to normalized cone resistance for residual shear strength\n\n',
        'get_normalized_friction_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_friction\\_ratio}(f_s, q_t, σ_v) \\\\ \\hspace{1em} F_r \\gets \\frac{100 f_s}{\\frac{q_t}{0.001} - σ_v} \\\\ \\hspace{1em} \\mathbf{return} \\ F_r \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsleeve_friction (float): Sleeve friction from CPT\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\n\nReturns:\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\n',
        'get_normalized_pore_pressure':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_pore\\_pressure}(u, u_0, σ_v', \\mathrm{is\\_invalid\\_data}) \\\\ \\hspace{1em} U_2 \\gets \\frac{u - u_0}{σ_v'} \\\\ \\hspace{1em} \\mathbf{return} \\ U_2 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpore_pressure (float): Pore pressure in soil\n\tpore_water_pressure (float): Pore water pressure in soil\n\teffective_stress (float): Effective vertical stress in soil\n\tis_invalid_data (bool): Indicates invalid input data\n\n\nReturns:\n\tnormalized_pore_pressure (float): Normalized pore pressure from CPT\n\n",
        'get_normalized_pore_pressure_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_pore\\_pressure\\_ratio}(u, u_0, q_t, σ_v) \\\\ \\hspace{1em} B_q \\gets \\frac{u - u_0}{q_t \\cdot 1000 - σ_v} \\\\ \\hspace{1em} \\mathbf{return} \\ B_q \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpore_pressure (float): Pore pressure in soil\n\tpore_water_pressure (float): Pore water pressure in soil\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\n\nReturns:\n\tnormalized_pore_pressure_ratio (float): Normalized pore pressure ratio from CPT\n\n',
        'get_normalized_residual_shear_strength__robertson2022evaluation':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_residual\\_shear\\_strength\\_\\_robertson2022evaluation}(Q_{tncs}, I_c, f_s, σ_v', ϕ_{cv}, τ, SBT_n, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} \\mathrm{is\\_fine\\_soil} \\gets \\mathrm{get\\_is\\_fine\\_soil\\_cpt} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} S_{r\\ ratio} \\gets 0.0007 \\exp \\mathopen{}\\left( 0.084 Q_{tncs} \\mathclose{}\\right) + \\frac{0.3}{Q_{tncs}} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{use\\_constant\\_volume\\_friction\\_angle} \\\\ \\hspace{2em} ϕ \\gets ϕ_{cv} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} ϕ \\gets \\mathrm{get\\_friction\\_angle\\_\\_robertson2012interpretation} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathopen{}\\left( I_c < 3 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} < 20 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 0.02 \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathopen{}\\left( I_c < 3 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 20 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} < 80 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets S_{r\\ ratio} \\\\ \\hspace{1em} \\mathrm{condition\\_3} \\gets \\mathopen{}\\left( I_c < 3 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 80 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_3} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_fine\\_soil}, \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right), \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( σ_v' \\ne 0, \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( \\frac{τ}{σ_v'} \\mathclose{}\\right), \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right) \\mathclose{}\\right) \\mathclose{}\\right), \\mathrm{None}, S_{r\\ ratio} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_4} \\gets I_c \\ge 3 \\\\ \\hspace{1em} \\mathrm{choice\\_4} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( σ_v' \\ne 0, \\frac{f_s}{σ_v'}, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} S_{r\\ ratio} \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3}, \\mathrm{condition\\_4} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3}, \\mathrm{choice\\_4} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ S_{r\\ ratio} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance (float): Normalized cone resistance for clean sand\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tsleeve_friction (float): Sleeve friction from CPT\n\teffective_stress (float): Effective vertical stress in soil\n\tconstant_volume_friction_angle (float): Constant volume friction angle of soil\n\tshear_strength (float): Shear strength of soil\n\tnormalized_soil_behavior_type (str): Normalized soil behavior type from CPT\n\tsoil_transition (bool): Flag for soil type transition\n\tuse_constant_volume_friction_angle (bool): Uses constant volume friction angle for residual strength\n\n\nReturns:\n\tnormalized_residual_shear_strength (float): Post-liquefaction residual shear strength to effective stress ratio\n\n",
        'get_normalized_residual_shear_strength_cpt__idriss2007spt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_residual\\_shear\\_strength\\_cpt\\_\\_idriss2007spt}(q_{c1Ncs}, ϕ, \\mathrm{void\\_redistribution\\_is\\_significant}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} S_{r\\ ratio} \\gets \\exp \\mathopen{}\\left( \\frac{q_{c1Ncs}}{24.5} - \\mathopen{}\\left( \\frac{q_{c1Ncs}}{61.7} \\mathclose{}\\right)^{2} + \\mathopen{}\\left( \\frac{q_{c1Ncs}}{106} \\mathclose{}\\right)^{3} - 4.42 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{void\\_redistribution\\_is\\_significant} \\\\ \\hspace{2em} S_{r\\ ratio} \\gets S_{r\\ ratio} \\cdot \\mathopen{}\\left( 1 + \\exp \\mathopen{}\\left( \\frac{q_{c1Ncs}}{11.1} - 9.82 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} S_{r\\ ratio} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( S_{r\\ ratio}, 0, \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ S_{r\\ ratio} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance_1atm (float): Equivalent clean sand normalized cone resistance at 1 atm\n\tfriction_angle (float): Friction angle of soil\n\tvoid_redistribution_is_significant (bool): Applies for I&B residual shear strength calculations\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tnormalized_residual_shear_strength (float): Post-liquefaction residual shear strength to effective stress ratio\n\n',
        'get_normalized_residual_shear_strength_cpt__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_residual\\_shear\\_strength\\_cpt\\_\\_idriss2008soil}(q_{c1Ncs-Sr}, ϕ, \\mathrm{void\\_redistribution\\_is\\_significant}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{get\\_normalized\\_residual\\_shear\\_strength\\_cpt\\_\\_idriss2007spt} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance_1atm_sr (float): Equivalent clean sand normalized cone resistance at 1 atm for residual shear strength\n\tfriction_angle (float): Friction angle of soil\n\tvoid_redistribution_is_significant (bool): Applies for I&B residual shear strength calculations\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tnormalized_residual_shear_strength (float): Post-liquefaction residual shear strength to effective stress ratio\n\n',
        'get_normalized_residual_shear_strength_liq__robertson2022evaluation':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_residual\\_shear\\_strength\\_liq\\_\\_robertson2022evaluation}(Q_{tncs}, I_c, f_s, σ_v', ϕ_{cv}, τ, SBT_n) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{get\\_normalized\\_residual\\_shear\\_strength\\_\\_robertson2022evaluation} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance (float): Normalized cone resistance for clean sand\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tsleeve_friction (float): Sleeve friction from CPT\n\teffective_stress (float): Effective vertical stress in soil\n\tconstant_volume_friction_angle (float): Constant volume friction angle of soil\n\tshear_strength (float): Shear strength of soil\n\tnormalized_soil_behavior_type (str): Normalized soil behavior type from CPT\n\n\nReturns:\n\tnormalized_residual_shear_strength (float): Post-liquefaction residual shear strength to effective stress ratio\n\n",
        'get_normalized_soil_behavior_type':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_soil\\_behavior\\_type}(F_r, Q_{tn}) \\\\ \\hspace{1em} SBT_n \\gets \\mathrm{NormalizedSoilBehaviourTypeFigure}.\\mathrm{assign\\_polygons\\_labels\\_from\\_xy\\_data} \\mathopen{}\\left( F_r, Q_{tn} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ SBT_n \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\n\nReturns:\n\tnormalized_soil_behavior_type (str): Normalized soil behavior type from CPT\n\n',
        'get_normalized_soil_behavior_type_label':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_soil\\_behavior\\_type\\_label}(SBT_n) \\\\ \\hspace{1em} SBT_{n\\ label} \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( SBT_n, \\mathrm{PARAMETERS}.\\mathrm{get\\_pair\\_discrete\\_field\\_mapping} \\mathopen{}\\left( \\textrm{"normalized\\_soil\\_behavior\\_type"}, \\textrm{"normalized\\_soil\\_behavior\\_type\\_label"} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ SBT_{n\\ label} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_soil_behavior_type (str): Normalized soil behavior type from CPT\n\n\nReturns:\n\tnormalized_soil_behavior_type_label (str): Label for normalized soil behavior type\n\n',
        'get_overburden_correction_coefficient_cpt__idriss2006semi':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_correction\\_coefficient\\_cpt\\_\\_idriss2006semi}(q_{c1N}) \\\\ \\hspace{1em} q_{c1N} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( q_{c1N}, \\mathrm{None}, 211 \\mathclose{}\\right) \\\\ \\hspace{1em} C_σ \\gets \\frac{1}{37.3 - 8.27 q_{c1N}^{0.264}} \\\\ \\hspace{1em} \\mathbf{return} \\ C_σ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_cone_resistance_1atm (float): Normalized cone resistance at 1 atm\n\n\nReturns:\n\toverburden_correction_coefficient (float): Coefficient for overburden correction\n\n',
        'get_overburden_correction_coefficient_cpt__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_correction\\_coefficient\\_cpt\\_\\_idriss2008soil}(q_{c1Ncs}) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{get\\_overburden\\_correction\\_coefficient\\_cpt\\_\\_idriss2006semi} \\mathopen{}\\left( q_{c1Ncs} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance_1atm (float): Equivalent clean sand normalized cone resistance at 1 atm\n\n\nReturns:\n\toverburden_correction_coefficient (float): Coefficient for overburden correction\n\n',
        'get_overburden_normalized_cone_resistance__saye2021common':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_normalized\\_cone\\_resistance\\_\\_saye2021common}(q_c, C_n) \\\\ \\hspace{1em} q_{c1} \\gets q_c \\cdot 1000 C_n \\\\ \\hspace{1em} \\mathbf{return} \\ q_{c1} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcone_tip_resistance (float): Cone tip resistance from CPT\n\toverburden_correction (float): Overburden correction factor for SPT\n\n\nReturns:\n\toverburden_normalized_cone_resistance (float): Overburden normalized cone resistance from CPT\n\n',
        'get_overburden_stress_exponent__robertson2009interpretation':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_stress\\_exponent\\_\\_robertson2009interpretation}(q_t, σ_v, σ_v', F_r, \\mathrm{is\\_invalid\\_data}) \\\\ \\hspace{1em} n \\gets \\mathrm{np}.\\mathrm{ones\\_like} \\mathopen{}\\left( q_t \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathrm{\\_} \\in \\mathrm{range} \\mathopen{}\\left( \\mathrm{MAX\\_ITER} \\mathclose{}\\right) \\ \\mathbf{do} \\\\ \\hspace{2em} \\mathrm{overburden\\_stress\\_exponent\\_old} \\gets n.\\mathrm{copy} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{2em} Q_{tn} \\gets \\mathrm{get\\_stress\\_normalized\\_cone\\_resistance} \\mathopen{}\\left( q_t, σ_v, \\mathrm{get\\_overburden\\_correction\\_\\_liao1986overburden} \\mathopen{}\\left( n, σ_v' \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} I_c \\gets \\mathrm{get\\_soil\\_behavior\\_type\\_index} \\mathopen{}\\left( Q_{tn}, F_r \\mathclose{}\\right) \\\\ \\hspace{2em} n \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( 0.381 I_c + 0.05 \\frac{σ_v'}{101.325} - 0.15, 0, 1 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{nanmax} \\mathopen{}\\left( \\mathopen{}\\left| n - \\mathrm{overburden\\_stress\\_exponent\\_old} \\mathclose{}\\right| \\mathclose{}\\right) < \\mathrm{TOL} \\\\ \\hspace{3em} \\mathbf{break} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{return} \\ n \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\teffective_stress (float): Effective vertical stress in soil\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\tis_invalid_data (bool): Indicates invalid input data\n\n\nReturns:\n\toverburden_stress_exponent (float): Stress exponent for overburden correction\n\n",
        'get_overconsolidation_ratio__robertson2012interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overconsolidation\\_ratio\\_\\_robertson2012interpretation}(k, Q_{tn}, \\mathrm{is\\_fine\\_soil}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} OCR \\gets k \\cdot Q_{tn} \\\\ \\hspace{1em} \\mathbf{return} \\ OCR \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\toverconsolidation_ratio_factor (float): Factor for overconsolidation ratio\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\toverconsolidation_ratio (float): Overconsolidation ratio of soil\n\n',
        'get_overconsolidation_ratio_factor__robertson2012interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overconsolidation\\_ratio\\_factor\\_\\_robertson2012interpretation}(Q_{tn}, F_r, \\mathrm{is\\_fine\\_soil}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} k \\gets \\frac{Q_{tn}^{0.25}}{\\mathopen{}\\left( 2.625 + 1.75 \\log_{10} F_r \\mathclose{}\\right)^{1.25}} \\\\ \\hspace{1em} \\mathbf{return} \\ k \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\toverconsolidation_ratio_factor (float): Factor for overconsolidation ratio\n\n',
        'get_peak_friction_angle__mayne2005integrated':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_peak\\_friction\\_angle\\_\\_mayne2005integrated}(B_q, Q_{tn}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} ϕ' \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathopen{}\\left( B_q > 0.1 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( B_q < 1 \\mathclose{}\\right), 29.5 B_q^{0.121} \\cdot \\mathopen{}\\left( 0.256 + 0.336 B_q + \\log_{10} Q_{tn} \\mathclose{}\\right), \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ϕ' \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_pore_pressure_ratio (float): Normalized pore pressure ratio from CPT\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tpeak_friction_angle (float): Peak friction angle of soil\n\n",
        'get_peak_undrained_shear_strength_ratio__idriss2008soil':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_peak\\_undrained\\_shear\\_strength\\_ratio\\_\\_idriss2008soil}(I_c, q_{c1Ncs}, S_u, σ_v', ϕ_{cv}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} S_{u\\ ratio\\ peak} \\gets \\mathrm{get\\_peak\\_undrained\\_shear\\_strength\\_ratio\\_\\_robertson2022evaluation} \\mathopen{}\\left( I_c, q_{c1Ncs}, S_u, σ_v', ϕ_{cv} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ S_{u\\ ratio\\ peak} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tclean_sand_normalized_cone_resistance_1atm (float): Equivalent clean sand normalized cone resistance at 1 atm\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tconstant_volume_friction_angle (float): Constant volume friction angle of soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tpeak_undrained_shear_strength_ratio (float): Peak undrained shear strength to effective stress ratio\n\n",
        'get_peak_undrained_shear_strength_ratio__robertson2022evaluation':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_peak\\_undrained\\_shear\\_strength\\_ratio\\_\\_robertson2022evaluation}(I_c, Q_{tncs}, S_u, σ_v', ϕ_{cv}) \\\\ \\hspace{1em} ϕ \\gets \\mathrm{get\\_friction\\_angle\\_\\_robertson2012interpretation} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} S_{u\\ ratio\\ peak} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( I_c < 3, \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right), \\frac{S_u}{σ_v'} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ S_{u\\ ratio\\ peak} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tclean_sand_normalized_cone_resistance (float): Normalized cone resistance for clean sand\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tconstant_volume_friction_angle (float): Constant volume friction angle of soil\n\n\nReturns:\n\tpeak_undrained_shear_strength_ratio (float): Peak undrained shear strength to effective stress ratio\n\n",
        'get_permeability__robertson2010estimatingb':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_permeability\\_\\_robertson2010estimatingb}(I_c, \\mathrm{is\\_invalid\\_data}, SBT_n, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathopen{}\\left( I_c > 1 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( I_c \\le 3.27 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 10^{0.952 - 3.04 I_c} \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathopen{}\\left( I_c > 3.27 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( I_c \\le 4 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets 10^{-4.52 - 1.37 I_c} \\\\ \\hspace{1em} k \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ k \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tis_invalid_data (bool): Indicates invalid input data\n\tnormalized_soil_behavior_type (str): Normalized soil behavior type from CPT\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tpermeability (float): Soil permeability\n\n',
        'get_pile_friction_coefficient__bustamante1982fellenius':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_friction\\_coefficient\\_\\_bustamante1982fellenius}(q_c, \\mathrm{is\\_fine\\_soil}, \\mathrm{pile\\_type\\_category}) \\\\ \\hspace{1em} \\textrm{" steel if LCPC group equals IIB, else concrete "} \\\\ \\hspace{1em} \\mathrm{is\\_concrete} \\gets \\mathrm{pile\\_type\\_category} \\ne \\textrm{"IIB"} \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c < 1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_concrete}, 90, 30 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c < 5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_concrete}, 40, 80 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_3} \\gets \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c \\ge 5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_3} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_concrete}, 60, 120 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_4} \\gets \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c < 5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_4} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_concrete}, 60, 120 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_5} \\gets \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c < 12 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_5} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_concrete}, 100, 200 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_6} \\gets \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c \\ge 12 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_6} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_concrete}, 150, 200 \\mathclose{}\\right) \\\\ \\hspace{1em} α \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3}, \\mathrm{condition\\_4}, \\mathrm{condition\\_5}, \\mathrm{condition\\_6} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3}, \\mathrm{choice\\_4}, \\mathrm{choice\\_5}, \\mathrm{choice\\_6} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ α \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcone_tip_resistance (float): Cone tip resistance from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tpile_type_category (str): Category of pile type\n\n\nReturns:\n\tpile_friction_coefficient (float): Pile friction coefficient for shaft resistance\n\n',
        'get_pile_friction_coefficient__bustamante1982pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_friction\\_coefficient\\_\\_bustamante1982pile}(\\mathrm{nature\\_of\\_soil}, \\mathrm{pile\\_type\\_category}) \\\\ \\hspace{1em} α \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( \\mathrm{nature\\_of\\_soil}, \\mathrm{ReferenceData}.\\mathrm{PileFrictionCoefficientBustamante1982}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"nature\\_of\\_soil"}, \\mathrm{pile\\_type\\_category}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ α \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnature_of_soil (str): Description of soil nature\n\tpile_type_category (str): Category of pile type\n\n\nReturns:\n\tpile_friction_coefficient (float): Pile friction coefficient for shaft resistance\n\n',
        'get_pile_tip_resistance_coefficient__eslami1997pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_tip\\_resistance\\_coefficient\\_\\_eslami1997pile}(D) \\\\ \\hspace{1em} C_t \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( D > 0.4, \\frac{1}{3 D}, 1.0 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ C_t \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_diameter (float): Outside diameter of pile\n\n\nReturns:\n\tpile_tip_resistance_coefficient (float): Coefficient for pile tip resistance\n\n',
        'get_pile_tip_resistance_factor__bustamante1982fellenius':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_tip\\_resistance\\_factor\\_\\_bustamante1982fellenius}(q_{ca}, \\mathrm{is\\_fine\\_soil}, \\mathrm{pile\\_type\\_category}) \\\\ \\hspace{1em} \\textrm{" bored if main LCPC group equals I, else driven "} \\\\ \\hspace{1em} q_c \\gets q_{ca} \\\\ \\hspace{1em} \\mathrm{is\\_bored} \\gets \\mathrm{np}.\\mathrm{isin} \\mathopen{}\\left( \\mathrm{pile\\_type\\_category}, \\mathopen{}\\left( \\textrm{"IA"}, \\textrm{"IB"} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c < 1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_bored}, 0.4, 0.5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c \\ge 1 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( q_c < 5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_bored}, 0.35, 0.45 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_3} \\gets \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c \\ge 5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_3} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_bored}, 0.45, 0.55 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_4} \\gets \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c < 5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_4} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_bored}, 0.2, 0.4 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_5} \\gets \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c \\ge 5 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( q_c < 12 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_5} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_bored}, 0.4, 0.5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_6} \\gets \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c \\ge 12 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_6} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_bored}, 0.3, 0.4 \\mathclose{}\\right) \\\\ \\hspace{1em} k_c \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3}, \\mathrm{condition\\_4}, \\mathrm{condition\\_5}, \\mathrm{condition\\_6} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3}, \\mathrm{choice\\_4}, \\mathrm{choice\\_5}, \\mathrm{choice\\_6} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ k_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tequivalent_cone_resistance (float): LCPC method equivalent average cone resistance\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tpile_type_category (str): Category of pile type\n\n\nReturns:\n\tpile_tip_resistance_factor (float): LCPC method bearing capacity factor for pile tip\n\n',
        'get_pile_tip_resistance_factor__bustamante1982pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_tip\\_resistance\\_factor\\_\\_bustamante1982pile}(\\mathrm{nature\\_of\\_soil}, \\mathrm{pile\\_type\\_category}) \\\\ \\hspace{1em} k_c \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( \\mathrm{nature\\_of\\_soil}, \\mathrm{ReferenceData}.\\mathrm{PileTipResistanceFactorBustamante1982}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"nature\\_of\\_soil"}, \\mathrm{pile\\_type\\_category}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ k_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnature_of_soil (str): Description of soil nature\n\tpile_type_category (str): Category of pile type\n\n\nReturns:\n\tpile_tip_resistance_factor (float): LCPC method bearing capacity factor for pile tip\n\n',
        'get_pile_unit_tip_resistance__bustamante1982pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_unit\\_tip\\_resistance\\_\\_bustamante1982pile}(q_{ca}, k_c) \\\\ \\hspace{1em} q_p \\gets q_{ca} \\cdot k_c \\\\ \\hspace{1em} q_p \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( q_p, \\mathrm{None}, 15 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ q_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tequivalent_cone_resistance (float): LCPC method equivalent average cone resistance\n\tpile_tip_resistance_factor (float): LCPC method bearing capacity factor for pile tip\n\n\nReturns:\n\tpile_unit_tip_resistance (float): Unit tip resistance of pile\n\n',
        'get_pile_unit_tip_resistance__eslami1997pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_unit\\_tip\\_resistance\\_\\_eslami1997pile}(q_{Eg}, C_t) \\\\ \\hspace{1em} q_p \\gets q_{Eg} \\cdot C_t \\\\ \\hspace{1em} \\mathbf{return} \\ q_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\teffective_cone_resistance_geometric_mean (float): Geometric mean of effective cone resistance over influence zone\n\tpile_tip_resistance_coefficient (float): Coefficient for pile tip resistance\n\n\nReturns:\n\tpile_unit_tip_resistance (float): Unit tip resistance of pile\n\n',
        'get_plasticity_index__ramsey2023estimating':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_plasticity\\_index\\_\\_ramsey2023estimating}(F_r, B_q, Q_{t1}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} PI \\gets \\frac{12 F_r \\cdot \\mathopen{}\\left( 1 + B_q \\mathclose{}\\right)^{1.2}}{\\mathopen{}\\left( \\frac{Q_{t1}}{3} \\mathclose{}\\right)^{0.3}} \\\\ \\hspace{1em} \\mathbf{return} \\ PI \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\tnormalized_pore_pressure_ratio (float): Normalized pore pressure ratio from CPT\n\talternative_normalized_cone_resistance (float): Alternative normalized cone resistance from CPT\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tplasticity_index (float): Plasticity index of soil\n\n',
        'get_porosity__barounis2018estimation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_porosity\\_\\_barounis2018estimation}(e, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} n \\gets \\frac{e}{1 + e} \\\\ \\hspace{1em} \\mathbf{return} \\ n \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvoid_ratio (float): Void ratio of soil\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tporosity (float): Fraction of soil volume taken up by pore space\n\n',
        'get_relative_density__robertson2012guide':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_relative\\_density\\_\\_robertson2012guide}(Q_{tn}, k_{D_r}, \\mathrm{is\\_invalid\\_data}, SBT_n, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} D_r \\gets 100 \\mathopen{}\\left( \\frac{Q_{tn}}{k_{D_r}} \\mathclose{}\\right)^{0.5} \\\\ \\hspace{1em} D_r \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( D_r, \\mathrm{None}, 100 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ D_r \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\trelative_density_constant (float): Constant for relative density calculation\n\tis_invalid_data (bool): Indicates invalid input data\n\tnormalized_soil_behavior_type (str): Normalized soil behavior type from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\trelative_density (float): Relative density of soil\n\n',
        'get_relative_density__robertson2024guide':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_relative\\_density\\_\\_robertson2024guide}(Q_{tncs}, k_{D_r}, \\mathrm{is\\_invalid\\_data}, SBT_n, \\mathrm{is\\_fine\\_soil}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} D_r \\gets 100 \\mathopen{}\\left( \\frac{Q_{tncs}}{k_{D_r}} \\mathclose{}\\right)^{0.5} \\\\ \\hspace{1em} D_r \\gets \\mathrm{np}.\\mathrm{round} \\mathopen{}\\left( D_r, 0 \\mathclose{}\\right) \\\\ \\hspace{1em} D_r \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( D_r, \\mathrm{None}, 100 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ D_r \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance (float): Normalized cone resistance for clean sand\n\trelative_density_constant (float): Constant for relative density calculation\n\tis_invalid_data (bool): Indicates invalid input data\n\tnormalized_soil_behavior_type (str): Normalized soil behavior type from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\trelative_density (float): Relative density of soil\n\n',
        'get_relative_density__tatsuoka1990evaluation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_relative\\_density\\_\\_tatsuoka1990evaluation}(Q_{tn}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} D_r \\gets -85 + 76 \\log_{10} Q_{tn} \\\\ \\hspace{1em} D_r \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( D_r \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( D_r, \\mathopen{}\\left( Q_{tn} > 200 \\mathclose{}\\right) \\mathbin{|} \\mathopen{}\\left( D_r \\le 0 \\mathclose{}\\right), \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} D_r \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{around} \\mathopen{}\\left( D_r \\mathclose{}\\right), 40, 90 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ D_r \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\trelative_density (float): Relative density of soil\n\n',
        'get_sensitivity__robertson2009interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_sensitivity\\_\\_robertson2009interpretation}(N_S, F_r, \\mathrm{is\\_fine\\_soil}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} S_t \\gets \\frac{N_S}{F_r} \\\\ \\hspace{1em} \\mathbf{return} \\ S_t \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsensitivity_constant (float): Constant for sensitivity calculation\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tsensitivity (float): Sensitivity of soil\n\n',
        'get_shear_modulus__robertson2009interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_modulus\\_\\_robertson2009interpretation}(q_t, σ_v, I_c) \\\\ \\hspace{1em} G_o \\gets \\mathopen{}\\left( q_t - σ_v \\cdot 0.001 \\mathclose{}\\right) \\cdot 0.0188 \\cdot 10^{0.55 I_c + 1.68} \\\\ \\hspace{1em} \\mathbf{return} \\ G_o \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\n\nReturns:\n\tsmall_strain_shear_modulus (float): Small strain shear modulus of soil\n\n',
        'get_shear_strain_limit_cpt__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_strain\\_limit\\_cpt\\_\\_idriss2008soil}(q_{c1Ncs}) \\\\ \\hspace{1em} γ_{lim} \\gets 100 \\cdot 1.859 \\mathopen{}\\left( 2.163 - 0.478 q_{c1Ncs}^{0.264} \\mathclose{}\\right)^{3} \\\\ \\hspace{1em} γ_{lim} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( γ_{lim}, 0, 50 \\mathclose{}\\right) \\\\ \\hspace{1em} γ_{lim} \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( γ_{lim} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ γ_{lim} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance_1atm (float): Equivalent clean sand normalized cone resistance at 1 atm\n\n\nReturns:\n\tshear_strain_limit (float): Limiting value of shear strain\n\n',
        'get_shear_velocity__robertson2022evaluation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_velocity\\_\\_robertson2022evaluation}(q_t, σ_v, I_c, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} α_{vs} \\gets 10^{0.55 I_c + 1.68} \\\\ \\hspace{1em} V_s \\gets \\mathopen{}\\left( \\frac{α_{vs} \\cdot \\mathopen{}\\left( q_t \\cdot 1000 - σ_v \\mathclose{}\\right)}{101.325} \\mathclose{}\\right)^{0.5} \\\\ \\hspace{1em} \\mathbf{return} \\ V_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tshear_velocity (float): Shear wave velocity of soil\n\n',
        'get_soil_behavior_type':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_behavior\\_type}(R_f, Q_t) \\\\ \\hspace{1em} SBT \\gets \\mathrm{SoilBehaviourTypeFigure}.\\mathrm{assign\\_polygons\\_labels\\_from\\_xy\\_data} \\mathopen{}\\left( R_f, Q_t \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ SBT \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfriction_ratio (float): Friction ratio from CPT\n\tnormalized_cone_resistance (float): Normalized cone resistance from CPT\n\n\nReturns:\n\tsoil_behavior_type (str): Soil behavior type from CPT\n\n',
        'get_soil_behavior_type_index':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_behavior\\_type\\_index}(Q_{tn}, F_r) \\\\ \\hspace{1em} I_c \\gets \\mathopen{}\\left( \\mathopen{}\\left( 3.47 - \\log_{10} Q_{tn} \\mathclose{}\\right)^{2} + \\mathopen{}\\left( \\log_{10} F_r + 1.22 \\mathclose{}\\right)^{2} \\mathclose{}\\right)^{0.5} \\\\ \\hspace{1em} I_c \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( I_c, \\mathrm{None}, 4.06 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ I_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\n\nReturns:\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\n',
        'get_soil_behavior_type_label':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_behavior\\_type\\_label}(SBT) \\\\ \\hspace{1em} SBT_{label} \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( SBT, \\mathrm{PARAMETERS}.\\mathrm{get\\_pair\\_discrete\\_field\\_mapping} \\mathopen{}\\left( \\textrm{"soil\\_behavior\\_type"}, \\textrm{"soil\\_behavior\\_type\\_label"} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ SBT_{label} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type (str): Soil behavior type from CPT\n\n\nReturns:\n\tsoil_behavior_type_label (str): Label for soil behavior type\n\n',
        'get_soil_behavior_type_schneider':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_behavior\\_type\\_schneider}(U_2, Q_{t1}) \\\\ \\hspace{1em} SBT_{Schneider} \\gets \\mathrm{SoilBehaviourTypeSchneiderFigure}.\\mathrm{assign\\_polygons\\_labels\\_from\\_xy\\_data} \\mathopen{}\\left( U_2, Q_{t1} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ SBT_{Schneider} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_pore_pressure (float): Normalized pore pressure from CPT\n\talternative_normalized_cone_resistance (float): Alternative normalized cone resistance from CPT\n\n\nReturns:\n\tsoil_behavior_type_schneider (str): Soil behavior type per Schneider classification\n\n',
        'get_soil_behavior_type_schneider_label':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_behavior\\_type\\_schneider\\_label}(SBT_{Schneider}) \\\\ \\hspace{1em} SBT_{Schneider\\ label} \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( SBT_{Schneider}, \\mathrm{PARAMETERS}.\\mathrm{get\\_pair\\_discrete\\_field\\_mapping} \\mathopen{}\\left( \\textrm{"soil\\_behavior\\_type\\_schneider"}, \\textrm{"soil\\_behavior\\_type\\_schneider\\_label"} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ SBT_{Schneider\\ label} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type_schneider (str): Soil behavior type per Schneider classification\n\n\nReturns:\n\tsoil_behavior_type_schneider_label (str): Label for Schneider soil behavior type\n\n',
        'get_soil_classification_index__saye2017linear':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_index\\_\\_saye2017linear}(Q_{t1}, f_s, σ_v') \\\\ \\hspace{1em} ΔQ \\gets \\frac{Q_{t1} + 10}{\\frac{f_s}{σ_v'} + 0.67} \\\\ \\hspace{1em} \\mathbf{return} \\ ΔQ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\talternative_normalized_cone_resistance (float): Alternative normalized cone resistance from CPT\n\tsleeve_friction (float): Sleeve friction from CPT\n\teffective_stress (float): Effective vertical stress in soil\n\n\nReturns:\n\tsoil_classification_index (float): Soil classification index per Saye\n\n",
        'get_soil_classification_index_label__saye2017linear':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_index\\_label\\_\\_saye2017linear}(ΔQ) \\\\ \\hspace{1em} ΔQ_{label} \\gets \\mathrm{PARAMETERS}_{\\textrm{"soil\\_classification\\_index"}}.\\mathrm{data\\_bins}_{\\textrm{"soil\\_classification\\_index\\_label"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( ΔQ \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ΔQ_{label} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_classification_index (float): Soil classification index per Saye\n\n\nReturns:\n\tsoil_classification_index_label (str): Label for soil classification index\n\n',
        'get_soil_classification_index_uscs_symbol__saye2017linear':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_index\\_uscs\\_symbol\\_\\_saye2017linear}(ΔQ) \\\\ \\hspace{1em} \\mathrm{uscs\\_symbol} \\gets \\mathrm{PARAMETERS}_{\\textrm{"soil\\_classification\\_index"}}.\\mathrm{data\\_bins}_{\\textrm{"soil\\_classification\\_index\\_uscs\\_symbol"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( ΔQ \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{uscs\\_symbol} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_classification_index (float): Soil classification index per Saye\n\n\nReturns:\n\tsoil_classification_index_uscs_symbol (str): USCS symbol for soil classification index\n\n',
        'get_soil_transition':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_transition}(I_c, z, I_{c\\ min}, I_{c\\ max}, \\mathrm{soil\\_transition\\_min\\_rate\\_of\\_change}, I_{c\\ min\\ points}, \\mathrm{soil\\_transition\\_detection}) \\\\ \\hspace{1em} \\textrm{" Defines Ic transition zones based on rate of change in Ic "} \\\\ \\hspace{1em} \\mathrm{soil\\_transition} \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( I_c \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{soil\\_transition\\_detection} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathrm{soil\\_transition} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} I_{c\\ cutoff} \\gets 2.6 \\\\ \\hspace{1em} \\mathrm{diff} \\gets \\mathrm{np}.\\mathrm{diff} \\mathopen{}\\left( I_c \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{is\\_increasing} \\gets \\mathrm{diff} > 0 \\\\ \\hspace{1em} \\mathrm{is\\_decreasing} \\gets \\mathrm{diff} < 0 \\\\ \\hspace{1em} \\mathrm{cpt\\_delta\\_ic\\_ratio} \\gets \\frac{0.01 \\mathopen{}\\left| \\mathrm{diff} \\mathclose{}\\right|}{\\mathopen{}\\left| \\mathrm{np}.\\mathrm{diff} \\mathopen{}\\left( z \\mathclose{}\\right) \\mathclose{}\\right|} \\\\ \\hspace{1em} \\mathrm{mask\\_range} \\gets \\mathopen{}\\left( I_c \\ge I_{c\\ min} \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( I_c \\le I_{c\\ max} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{mask\\_cpt\\_delta\\_ic\\_ratio} \\gets \\mathrm{cpt\\_delta\\_ic\\_ratio} \\ge \\mathrm{soil\\_transition\\_min\\_rate\\_of\\_change} \\\\ \\hspace{1em} \\mathrm{is\\_in\\_range\\_and\\_valid\\_delta\\_ic\\_ratio} \\gets \\mathrm{mask\\_range} \\mathbin{\\&} \\mathrm{mask\\_cpt\\_delta\\_ic\\_ratio} \\\\ \\hspace{1em} I_{c\\ min\\ points} \\gets \\left\\{ \\begin{array}{ll} I_{c\\ min\\ points}, & \\mathrm{if} \\ I_{c\\ min\\ points} \\ge 2 \\\\ 2, & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathrm{soil\\_behavior\\_type\\_index\\_is\\_} \\in \\mathopen{}\\left[ \\mathrm{is\\_increasing}, \\mathrm{is\\_decreasing} \\mathclose{}\\right] \\ \\mathbf{do} \\\\ \\hspace{2em} \\mathrm{soil\\_behavior\\_type\\_index\\_is\\_\\_mask} \\gets \\mathrm{is\\_in\\_range\\_and\\_valid\\_delta\\_ic\\_ratio} \\mathbin{\\&} \\mathrm{soil\\_behavior\\_type\\_index\\_is\\_} \\\\ \\hspace{2em} \\mathopen{}\\left( \\mathrm{run\\_values}, \\mathrm{run\\_starts}, \\mathrm{run\\_lengths} \\mathclose{}\\right) \\gets \\mathrm{find\\_runs} \\mathopen{}\\left( \\mathrm{soil\\_behavior\\_type\\_index\\_is\\_\\_mask} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{for} \\ \\mathopen{}\\left( \\mathrm{value}, \\mathrm{starts}, \\mathrm{length} \\mathclose{}\\right) \\in \\mathrm{zip} \\mathopen{}\\left( \\mathrm{run\\_values}, \\mathrm{run\\_starts}, \\mathrm{run\\_lengths} \\mathclose{}\\right) \\ \\mathbf{do} \\\\ \\hspace{3em} \\mathbf{if} \\ \\mathrm{value} \\\\ \\hspace{4em} \\mathbf{if} \\ \\mathrm{starts} > 0 \\land \\mathrm{np}.\\mathrm{take} \\mathopen{}\\left( \\mathrm{mask\\_range}, \\mathrm{starts} - 1 \\mathclose{}\\right) \\\\ \\hspace{5em} \\mathrm{starts} \\gets \\mathrm{starts} - 1 \\\\ \\hspace{5em} \\mathrm{length} \\gets \\mathrm{length} + 1 \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathrm{ends} \\gets \\mathrm{starts} + \\mathrm{length} \\\\ \\hspace{4em} \\mathrm{indices} \\gets \\mathrm{np}.\\mathrm{arange} \\mathopen{}\\left( \\mathrm{starts}, \\mathrm{ends} \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathrm{soil\\_behavior\\_type\\_index\\_} \\gets \\mathrm{np}.\\mathrm{take} \\mathopen{}\\left( I_c, \\mathrm{indices} \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathopen{}\\left( \\mathrm{soil\\_behavior\\_type\\_index\\_min}, \\mathrm{soil\\_behavior\\_type\\_index\\_max} \\mathclose{}\\right) \\gets \\mathopen{}\\left( \\mathrm{np}.\\mathrm{min} \\mathopen{}\\left( \\mathrm{soil\\_behavior\\_type\\_index\\_} \\mathclose{}\\right), \\mathrm{np}.\\mathrm{max} \\mathopen{}\\left( \\mathrm{soil\\_behavior\\_type\\_index\\_} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathrm{crosses\\_cutoff} \\gets \\mathopen{}\\left( \\mathrm{soil\\_behavior\\_type\\_index\\_min} < I_{c\\ cutoff} \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( I_{c\\ cutoff} < \\mathrm{soil\\_behavior\\_type\\_index\\_max} \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathbf{if} \\ \\mathrm{length} \\ge I_{c\\ min\\ points} \\land \\mathrm{crosses\\_cutoff} \\\\ \\hspace{5em} \\mathrm{np}.\\mathrm{put} \\mathopen{}\\left( \\mathrm{soil\\_transition}, \\mathrm{indices}, \\mathrm{True} \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{soil\\_transition} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_behavior_type_index (float): Normalized soil behavior type index from CPT\n\tdepth (float): Depth below ground surface to bottom of layer\n\tsoil_transition_min_index (float): Minimum I_c for soil type transition\n\tsoil_transition_max_index (float): Maximum I_c for soil type transition\n\tsoil_transition_min_rate_of_change (float): Minimum rate of change for soil transition\n\tsoil_transition_min_points (int): Minimum points for soil transition detection\n\tsoil_transition_detection (bool): Detection of soil type transition\n\n\nReturns:\n\tsoil_transition (bool): Flag for soil type transition\n\n',
        'get_soil_type_index':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_type\\_index}(f_s, q_E) \\\\ \\hspace{1em} \\mathrm{soil\\_type\\_index} \\gets \\mathrm{SoilTypeIndexFigure}.\\mathrm{assign\\_polygons\\_labels\\_from\\_xy\\_data} \\mathopen{}\\left( f_s.\\mathrm{clip} \\mathopen{}\\left( 1.5, \\mathrm{None} \\mathclose{}\\right), q_E.\\mathrm{clip} \\mathopen{}\\left( 0.15, \\mathrm{None} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{soil\\_type\\_index} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsleeve_friction (float): Sleeve friction from CPT\n\teffective_cone_resistance (float): Effective cone resistance from CPT\n\n\nReturns:\n\tsoil_type_index (str): Index for soil type classification\n\n',
        'get_soil_type_index_label':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_type\\_index\\_label}(\\mathrm{soil\\_type\\_index}) \\\\ \\hspace{1em} \\mathrm{soil\\_type\\_index\\_label} \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( \\mathrm{soil\\_type\\_index}, \\mathrm{PARAMETERS}.\\mathrm{get\\_pair\\_discrete\\_field\\_mapping} \\mathopen{}\\left( \\textrm{"soil\\_type\\_index"}, \\textrm{"soil\\_type\\_index\\_label"} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{soil\\_type\\_index\\_label} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_type_index (str): Index for soil type classification\n\n\nReturns:\n\tsoil_type_index_label (str): Label for soil type index\n\n',
        'get_state_parameter__robertson2012interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_state\\_parameter\\_\\_robertson2012interpretation}(Q_{tncs}, \\mathrm{is\\_invalid\\_data}, SBT_n, \\mathrm{is\\_fine\\_soil}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} ψ \\gets 0.56 - 0.33 \\log_{10} Q_{tncs} \\\\ \\hspace{1em} \\mathbf{return} \\ ψ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_cone_resistance (float): Normalized cone resistance for clean sand\n\tis_invalid_data (bool): Indicates invalid input data\n\tnormalized_soil_behavior_type (str): Normalized soil behavior type from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tstate_parameter (float): State parameter for soil\n\n',
        'get_stress_normalized_cone_resistance':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stress\\_normalized\\_cone\\_resistance}(q_t, σ_v, C_n) \\\\ \\hspace{1em} Q_{tn} \\gets \\frac{q_t \\cdot 1000 - σ_v}{101.325} \\cdot C_n \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{tn} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\toverburden_correction (float): Overburden correction factor for SPT\n\n\nReturns:\n\tstress_normalized_cone_resistance (float): Stress-normalized cone resistance from CPT\n\n',
        'get_ultimate_bearing_capacity_cpt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_ultimate\\_bearing\\_capacity\\_cpt}(R_k, q_{t\\ mean}) \\\\ \\hspace{1em} Q_{ult} \\gets 1000 R_k \\cdot q_{t\\ mean} \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{ult} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tbearing_capacity_factor (float): Bearing capacity factor\n\tmean_corrected_cone_tip_resistance (float): Corrected cone tip resistance averaged over footing influence depth\n\n\nReturns:\n\tultimate_bearing_capacity (float): Ultimate bearing capacity of foundation\n\n',
        'get_undrained_shear_strength__robertson2012interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_undrained\\_shear\\_strength\\_\\_robertson2012interpretation}(q_t, σ_v, N_{kt}, \\mathrm{is\\_fine\\_soil}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} S_u \\gets \\frac{1000 q_t - σ_v}{N_{kt}} \\\\ \\hspace{1em} \\mathbf{return} \\ S_u \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\ttotal_stress (float): Total vertical stress in soil\n\tundrained_shear_strength_factor (float): Factor for undrained shear strength\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\n',
        'get_undrained_shear_strength_factor__robertson2012interpretation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_undrained\\_shear\\_strength\\_factor\\_\\_robertson2012interpretation}(F_r, \\mathrm{is\\_fine\\_soil}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} N_{kt} \\gets 10.5 + 7 \\log_{10} F_r \\\\ \\hspace{1em} \\mathbf{return} \\ N_{kt} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_friction_ratio (float): Normalized friction ratio from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tsoil_transition (bool): Flag for soil type transition\n\n\nReturns:\n\tundrained_shear_strength_factor (float): Factor for undrained shear strength\n\n',
        'get_unit_side_friction__bustamante1982pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_side\\_friction\\_\\_bustamante1982pile}(q_t, α, f_{p\\ lim}) \\\\ \\hspace{1em} f_p \\gets \\frac{q_t}{α} \\\\ \\hspace{1em} f_p \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( f_p, \\mathrm{None}, f_{p\\ lim} \\mathclose{}\\right) \\\\ \\hspace{1em} f_p \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( f_p \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ f_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\tpile_friction_coefficient (float): Pile friction coefficient for shaft resistance\n\tunit_side_friction_limit (float): Limit for pile unit side friction\n\n\nReturns:\n\tunit_side_friction (float): Pile unit side friction\n\n',
        'get_unit_side_friction__eslami1997pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_side\\_friction\\_\\_eslami1997pile}(C_s, q_E) \\\\ \\hspace{1em} f_p \\gets C_s \\cdot q_E \\\\ \\hspace{1em} \\mathbf{return} \\ f_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tunit_side_friction_coefficient (float): Coefficient for pile unit side friction\n\teffective_cone_resistance (float): Effective cone resistance from CPT\n\n\nReturns:\n\tunit_side_friction (float): Pile unit side friction\n\n',
        'get_unit_side_friction_coefficient__eslami1997pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_side\\_friction\\_coefficient\\_\\_eslami1997pile}(\\mathrm{soil\\_type\\_index}) \\\\ \\hspace{1em} C_s \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( \\mathrm{soil\\_type\\_index}, \\mathrm{ReferenceData}.\\mathrm{UnitSideFrictionCoefficientEslami1997}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"soil\\_type\\_index"}, \\textrm{"unit\\_side\\_friction\\_coefficient"} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ C_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_type_index (str): Index for soil type classification\n\n\nReturns:\n\tunit_side_friction_coefficient (float): Coefficient for pile unit side friction\n\n',
        'get_unit_side_friction_limit__bustamante1982fellenius':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_side\\_friction\\_limit\\_\\_bustamante1982fellenius}(q_c, \\mathrm{is\\_fine\\_soil}, f_{p\\ clip}) \\\\ \\hspace{1em} \\mathbf{if} \\ f_{p\\ clip} \\\\ \\hspace{2em} \\mathrm{condition\\_1} \\gets \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c < 1 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{choice\\_1} \\gets 15 \\\\ \\hspace{2em} \\mathrm{condition\\_2} \\gets \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c < 5 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{choice\\_2} \\gets 35 \\\\ \\hspace{2em} \\mathrm{condition\\_3} \\gets \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c \\ge 5 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{choice\\_3} \\gets 35 \\\\ \\hspace{2em} \\mathrm{condition\\_4} \\gets \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c < 5 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{choice\\_4} \\gets 35 \\\\ \\hspace{2em} \\mathrm{condition\\_5} \\gets \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c < 12 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{choice\\_5} \\gets 80 \\\\ \\hspace{2em} \\mathrm{condition\\_6} \\gets \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathopen{}\\left( q_c \\ge 12 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{choice\\_6} \\gets 120 \\\\ \\hspace{2em} f_{p\\ lim} \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3}, \\mathrm{condition\\_4}, \\mathrm{condition\\_5}, \\mathrm{condition\\_6} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3}, \\mathrm{choice\\_4}, \\mathrm{choice\\_5}, \\mathrm{choice\\_6} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{2em} f_{p\\ lim} \\gets f_{p\\ lim} \\cdot 0.001 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathrm{np}.\\mathrm{inf} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ f_{p\\ lim} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcone_tip_resistance (float): Cone tip resistance from CPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tunit_side_friction_clip (bool): Applies clip to pile unit side friction\n\n\nReturns:\n\tunit_side_friction_limit (float): Limit for pile unit side friction\n\n',
        'get_unit_side_friction_limit__bustamante1982pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_side\\_friction\\_limit\\_\\_bustamante1982pile}(\\mathrm{nature\\_of\\_soil}, \\mathrm{pile\\_type\\_category}, \\mathrm{careful\\_execution}, f_{p\\ clip}) \\\\ \\hspace{1em} \\mathbf{if} \\ f_{p\\ clip} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{careful\\_execution} \\\\ \\hspace{3em} \\mathrm{ref} \\gets \\mathrm{ReferenceData}.\\mathrm{UnitSideFrictionLimitCareBustamante1982} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathrm{ref} \\gets \\mathrm{ReferenceData}.\\mathrm{UnitSideFrictionLimitBustamante1982} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} f_{p\\ lim} \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( \\mathrm{nature\\_of\\_soil}, \\mathrm{ref}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"nature\\_of\\_soil"}, \\mathrm{pile\\_type\\_category}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathrm{np}.\\mathrm{inf} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ f_{p\\ lim} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnature_of_soil (str): Description of soil nature\n\tpile_type_category (str): Category of pile type\n\tcareful_execution (bool): Indicates careful execution with minimal soil disturbance\n\tunit_side_friction_clip (bool): Applies clip to pile unit side friction\n\n\nReturns:\n\tunit_side_friction_limit (float): Limit for pile unit side friction\n\n',
        'get_unit_weight__robertson2010estimatinga':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_weight\\_\\_robertson2010estimatinga}(R_f, q_t, \\mathrm{is\\_invalid\\_data}) \\\\ \\hspace{1em} γ \\gets \\frac{γ_w \\cdot G_s}{2.65} \\cdot \\mathopen{}\\left( 0.27 \\log_{10} R_f + 0.36 \\log_{10} \\mathopen{}\\left( \\frac{1000 q_t}{101.325} \\mathclose{}\\right) + 1.236 \\mathclose{}\\right) \\\\ \\hspace{1em} γ \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( γ, 1.4 g, 2.2 g \\mathclose{}\\right) \\\\ \\hspace{1em} γ \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( γ \\mathclose{}\\right) \\\\ \\hspace{1em} γ \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( γ \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( γ, \\mathrm{is\\_invalid\\_data}, 18 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ γ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfriction_ratio (float): Friction ratio from CPT\n\tcorrected_cone_tip_resistance (float): Corrected cone tip resistance from CPT\n\tis_invalid_data (bool): Indicates invalid input data\n\tspecific_gravity (float): Specific gravity of soil solids\n\twater_unit_weight (float): Unit weight of water\n\n\nReturns:\n\tunit_weight (float): Unit weight of soil\n\n',
        'get_void_ratio__barounis2018estimation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_void\\_ratio\\_\\_barounis2018estimation}(w_c, \\mathrm{below\\_water\\_table}, G_s, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} e \\gets \\frac{0.01 w_c \\cdot G_s}{S_r} \\\\ \\hspace{1em} e \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( e \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( e, \\mathord{\\sim} \\mathrm{below\\_water\\_table}, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ e \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\twater_content (float): Natural water content of soil\n\tbelow_water_table (bool): Indicates if soil layer is below water table\n\tspecific_gravity (float): Specific gravity of soil solids\n\tsoil_transition (bool): Flag for soil type transition\n\tsaturation_ratio (float): Ratio of water volume to total void space\n\n\nReturns:\n\tvoid_ratio (float): Void ratio of soil\n\n',
        'get_volumetric_strain__zhang2002estimating':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_volumetric\\_strain\\_\\_zhang2002estimating}(FS_{liq}, Q_{tncs}) \\\\ \\hspace{1em} FS_{liq} \\gets \\mathrm{np}.\\mathrm{around} \\mathopen{}\\left( FS_{liq} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathopen{}\\left( FS_{liq} \\le 0.5 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 33 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 200 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 102 Q_{tncs}^{-0.82} \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathopen{}\\left( FS_{liq} = 0.6 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 33 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 147 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets 102 Q_{tncs}^{-0.82} \\\\ \\hspace{1em} \\mathrm{condition\\_3} \\gets \\mathopen{}\\left( FS_{liq} = 0.6 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} > 147 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 200 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_3} \\gets 2411 Q_{tncs}^{-1.45} \\\\ \\hspace{1em} \\mathrm{condition\\_4} \\gets \\mathopen{}\\left( FS_{liq} = 0.7 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 33 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 110 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_4} \\gets 102 Q_{tncs}^{-0.82} \\\\ \\hspace{1em} \\mathrm{condition\\_5} \\gets \\mathopen{}\\left( FS_{liq} = 0.7 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} > 110 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 200 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_5} \\gets 1701 Q_{tncs}^{-1.42} \\\\ \\hspace{1em} \\mathrm{condition\\_6} \\gets \\mathopen{}\\left( FS_{liq} = 0.8 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 33 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 80 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_6} \\gets 102 Q_{tncs}^{-0.82} \\\\ \\hspace{1em} \\mathrm{condition\\_7} \\gets \\mathopen{}\\left( FS_{liq} = 0.8 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} > 80 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 200 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_7} \\gets 1690 Q_{tncs}^{-1.46} \\\\ \\hspace{1em} \\mathrm{condition\\_8} \\gets \\mathopen{}\\left( FS_{liq} = 0.9 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 33 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 60 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_8} \\gets 102 Q_{tncs}^{-0.82} \\\\ \\hspace{1em} \\mathrm{condition\\_9} \\gets \\mathopen{}\\left( FS_{liq} = 0.9 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} > 60 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 200 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_9} \\gets 1430 Q_{tncs}^{-1.48} \\\\ \\hspace{1em} \\mathrm{condition\\_10} \\gets \\mathopen{}\\left( FS_{liq} = 1.0 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 33 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 200 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_10} \\gets 64 Q_{tncs}^{-0.93} \\\\ \\hspace{1em} \\mathrm{condition\\_11} \\gets \\mathopen{}\\left( FS_{liq} = 1.1 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 33 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 200 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_11} \\gets 11 Q_{tncs}^{-0.65} \\\\ \\hspace{1em} \\mathrm{condition\\_12} \\gets \\mathopen{}\\left( FS_{liq} = 1.2 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 33 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 200 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_12} \\gets 9.7 Q_{tncs}^{-0.69} \\\\ \\hspace{1em} \\mathrm{condition\\_13} \\gets \\mathopen{}\\left( FS_{liq} = 1.3 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 33 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 200 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_13} \\gets 7.6 Q_{tncs}^{-0.71} \\\\ \\hspace{1em} \\mathrm{condition\\_14} \\gets \\mathopen{}\\left( FS_{liq} = 2.0 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\ge 33 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( Q_{tncs} \\le 200 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_14} \\gets 0.0 \\\\ \\hspace{1em} ε_v \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3}, \\mathrm{condition\\_4}, \\mathrm{condition\\_5}, \\mathrm{condition\\_6}, \\mathrm{condition\\_7}, \\mathrm{condition\\_8}, \\mathrm{condition\\_9}, \\mathrm{condition\\_10}, \\mathrm{condition\\_11}, \\mathrm{condition\\_12}, \\mathrm{condition\\_13}, \\mathrm{condition\\_14} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3}, \\mathrm{choice\\_4}, \\mathrm{choice\\_5}, \\mathrm{choice\\_6}, \\mathrm{choice\\_7}, \\mathrm{choice\\_8}, \\mathrm{choice\\_9}, \\mathrm{choice\\_10}, \\mathrm{choice\\_11}, \\mathrm{choice\\_12}, \\mathrm{choice\\_13}, \\mathrm{choice\\_14} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} ε_v \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( ε_v \\mathclose{}\\right) \\mathbin{|} \\mathopen{}\\left( FS_{liq} \\ge 2 \\mathclose{}\\right), 0, ε_v \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ε_v \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\tclean_sand_normalized_cone_resistance (float): Normalized cone resistance for clean sand\n\n\nReturns:\n\tvolumetric_strain (float): Volumetric strain in soil\n\n',
        'get_volumetric_strain_cpt__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_volumetric\\_strain\\_cpt\\_\\_idriss2008soil}(γ_{max}, q_{c1Ncs}) \\\\ \\hspace{1em} q_{c1Ncs} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( q_{c1Ncs}, 21, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} γ_{max} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( γ_{max}, \\mathrm{None}, 100 \\cdot 0.08 \\mathclose{}\\right) \\\\ \\hspace{1em} ε_v \\gets 1.5 \\exp \\mathopen{}\\left( 2.551 - 1.147 q_{c1Ncs}^{0.264} \\mathclose{}\\right) γ_{max} \\\\ \\hspace{1em} ε_v \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( ε_v \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ε_v \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmax_shear_strain (float): Maximum shear strain in soil\n\tclean_sand_normalized_cone_resistance_1atm (float): Equivalent clean sand normalized cone resistance at 1 atm\n\n\nReturns:\n\tvolumetric_strain (float): Volumetric strain in soil\n\n',
        'get_water_content__barounis2018estimation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_water\\_content\\_\\_barounis2018estimation}(γ, \\mathrm{below\\_water\\_table}, \\mathrm{soil\\_transition}) \\\\ \\hspace{1em} w_c \\gets \\frac{100 \\mathopen{}\\left( G_s \\cdot γ_w - γ \\mathclose{}\\right)}{G_s \\cdot γ - G_s \\cdot γ_w} \\\\ \\hspace{1em} w_c \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( w_c \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( w_c, \\mathord{\\sim} \\mathrm{below\\_water\\_table}, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ w_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tunit_weight (float): Unit weight of soil\n\tbelow_water_table (bool): Indicates if soil layer is below water table\n\tsoil_transition (bool): Flag for soil type transition\n\tspecific_gravity (float): Specific gravity of soil solids\n\twater_unit_weight (float): Unit weight of water\n\n\nReturns:\n\twater_content (float): Natural water content of soil\n\n'
    },
    'dmt': {
        'get_coefficient_of_earth_pressure_at_rest__marchetti1981flat':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_coefficient\\_of\\_earth\\_pressure\\_at\\_rest\\_\\_marchetti1981flat}(K_d, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} K_o \\gets \\mathopen{}\\left( \\frac{K_d}{1.5} \\mathclose{}\\right)^{0.47} - 0.6 \\\\ \\hspace{1em} K_o \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( K_o, 0.3, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ K_o \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\thorizontal_stress_index (float): Horizontal stress index from DMT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tcoefficient_of_earth_pressure_at_rest (float): Coefficient of lateral earth pressure at rest\n\n',
        'get_constrained_modulus__marchetti1981flat':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_constrained\\_modulus\\_\\_marchetti1981flat}(I_D, K_d, E_d) \\\\ \\hspace{1em} \\mathrm{rm0} \\gets 0.14 + \\frac{0.36 \\mathopen{}\\left( I_D - 0.6 \\mathclose{}\\right)}{2.4} \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets I_D \\le 0.6 \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 0.14 + 2.36 \\log_{10} K_d \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets I_D < 3 \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets \\mathrm{rm0} + \\mathopen{}\\left( 2.5 - \\mathrm{rm0} \\mathclose{}\\right) \\log_{10} K_d \\\\ \\hspace{1em} \\mathrm{condition\\_3} \\gets I_D \\ge 3 \\\\ \\hspace{1em} \\mathrm{choice\\_3} \\gets 0.5 + 2 \\log_{10} K_d \\\\ \\hspace{1em} R_M \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} R_M \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( R_M, 0.85, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} M \\gets R_M \\cdot E_d \\\\ \\hspace{1em} \\mathbf{return} \\ M \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmaterial_index (float): Dilatometer material index\n\thorizontal_stress_index (float): Horizontal stress index from DMT\n\tdilatometer_modulus (float): Dilatometer modulus from DMT\n\n\nReturns:\n\tconstrained_modulus (float): Constrained modulus of soil\n\n',
        'get_corrected_pressure_p0':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_corrected\\_pressure\\_p0}(A, B, Z_{M\\ A}, ΔA, ΔB) \\\\ \\hspace{1em} P_0 \\gets 1.05 \\mathopen{}\\left( A - Z_{M\\ A} + ΔA \\mathclose{}\\right) - 0.05 \\mathopen{}\\left( B - Z_{M\\ A} - ΔB \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ P_0 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\traw_a_reading (float): First dilatometer reading\n\traw_b_reading (float): Second dilatometer reading\n\tvented_control_unit_reading_a (float): Control unit reading when system is vented for A\n\tfree_air_correction_a_reading (float): Free air correction for dilatometer A reading\n\tfree_air_correction_b_reading (float): Free air correction for dilatometer B reading\n\n\nReturns:\n\tcorrected_pressure_p0 (float): Corrected first dilatometer reading\n\n',
        'get_corrected_pressure_p1':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_corrected\\_pressure\\_p1}(B, Z_{M\\ B}, ΔB) \\\\ \\hspace{1em} P_1 \\gets B - Z_{M\\ B} - ΔB \\\\ \\hspace{1em} \\mathbf{return} \\ P_1 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\traw_b_reading (float): Second dilatometer reading\n\tvented_control_unit_reading_b (float): Control unit reading when system is vented for B\n\tfree_air_correction_b_reading (float): Free air correction for dilatometer B reading\n\n\nReturns:\n\tcorrected_pressure_p1 (float): Corrected second dilatometer reading\n\n',
        'get_corrected_pressure_p2':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_corrected\\_pressure\\_p2}(C, ΔA) \\\\ \\hspace{1em} P_2 \\gets C + ΔA \\\\ \\hspace{1em} \\mathbf{return} \\ P_2 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\traw_c_reading (float): Third dilatometer reading\n\tfree_air_correction_a_reading (float): Free air correction for dilatometer A reading\n\n\nReturns:\n\tcorrected_pressure_p2 (float): Corrected third dilatometer reading\n\n',
        'get_dilatometer_modulus':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dilatometer\\_modulus}(P_0, P_1) \\\\ \\hspace{1em} E_d \\gets 34.7 \\mathopen{}\\left( P_1 - P_0 \\mathclose{}\\right) \\\\ \\hspace{1em} E_d \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( E_d \\le 0, \\mathrm{np}.\\mathrm{nan}, E_d \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\frac{1}{1000} \\cdot E_d \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_pressure_p0 (float): Corrected first dilatometer reading\n\tcorrected_pressure_p1 (float): Corrected second dilatometer reading\n\n\nReturns:\n\tdilatometer_modulus (float): Dilatometer modulus from DMT\n\n',
        'get_elasticity_modulus__marchetti1981flat':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_elasticity\\_modulus\\_\\_marchetti1981flat}(M, E_s\\ /\\ M) \\\\ \\hspace{1em} E_s \\gets E_s\\ /\\ M \\cdot M \\\\ \\hspace{1em} \\mathbf{return} \\ E_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tconstrained_modulus (float): Constrained modulus of soil\n\telasticity_to_constrained_modulus_ratio (float): Ratio of elasticity modulus to constrained modulus\n\n\nReturns:\n\telasticity_modulus (float): Modulus of elasticity of soil\n\n',
        'get_friction_angle__marchetti1997flat':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_friction\\_angle\\_\\_marchetti1997flat}(K_d, I_D) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( K_d, I_D \\le 1.8, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} ϕ \\gets 28 + 14.6 \\log_{10} K_d - 2.1 \\mathopen{}\\left( \\log_{10} K_d \\mathclose{}\\right)^{2} \\\\ \\hspace{1em} \\mathbf{return} \\ ϕ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\thorizontal_stress_index (float): Horizontal stress index from DMT\n\tmaterial_index (float): Dilatometer material index\n\n\nReturns:\n\tfriction_angle (float): Friction angle of soil\n\n',
        'get_horizontal_stress_index':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_horizontal\\_stress\\_index}(P_0, u_0, σ_v') \\\\ \\hspace{1em} K_d \\gets \\frac{P_0 - u_0}{σ_v'} \\\\ \\hspace{1em} \\mathbf{return} \\ K_d \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_pressure_p0 (float): Corrected first dilatometer reading\n\tpore_water_pressure (float): Pore water pressure in soil\n\teffective_stress (float): Effective vertical stress in soil\n\n\nReturns:\n\thorizontal_stress_index (float): Horizontal stress index from DMT\n\n",
        'get_is_fine_soil_dmt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_is\\_fine\\_soil\\_dmt}(I_D) \\\\ \\hspace{1em} \\mathrm{is\\_fine\\_soil} \\gets I_D < 1.2 \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{is\\_fine\\_soil} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmaterial_index (float): Dilatometer material index\n\n\nReturns:\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n',
        'get_material_description':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_material\\_description}(I_D, E_d) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( I_D, E_d < 1.2, \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( I_D < 0.1, -1.5, -0.5 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{material\\_description} \\gets \\mathrm{PARAMETERS}_{\\textrm{"material\\_index"}}.\\mathrm{data\\_bins}_{\\textrm{"material\\_description"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( I_D \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{material\\_description} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmaterial_index (float): Dilatometer material index\n\tdilatometer_modulus (float): Dilatometer modulus from DMT\n\n\nReturns:\n\tmaterial_description (str): Dilatometer material description\n\n',
        'get_material_index':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_material\\_index}(P_0, P_1, u_0) \\\\ \\hspace{1em} I_D \\gets \\frac{P_1 - P_0}{P_0 - u_0} \\\\ \\hspace{1em} I_D \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( I_D \\le 0, \\mathrm{np}.\\mathrm{nan}, I_D \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ I_D \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_pressure_p0 (float): Corrected first dilatometer reading\n\tcorrected_pressure_p1 (float): Corrected second dilatometer reading\n\tpore_water_pressure (float): Pore water pressure in soil\n\n\nReturns:\n\tmaterial_index (float): Dilatometer material index\n\n',
        'get_overconsolidation_ratio__marchetti1981flat':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overconsolidation\\_ratio\\_\\_marchetti1981flat}(K_d, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} OCR \\gets \\mathopen{}\\left( 0.5 K_d \\mathclose{}\\right)^{1.56} \\\\ \\hspace{1em} OCR \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( OCR, 0.8, 99.9 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ OCR \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\thorizontal_stress_index (float): Horizontal stress index from DMT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\toverconsolidation_ratio (float): Overconsolidation ratio of soil\n\n',
        'get_pore_pressure_index':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pore\\_pressure\\_index}(P_0, P_2, u_0) \\\\ \\hspace{1em} U_D \\gets \\frac{P_2 - u_0}{P_0 - u_0} \\\\ \\hspace{1em} \\mathbf{return} \\ U_D \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_pressure_p0 (float): Corrected first dilatometer reading\n\tcorrected_pressure_p2 (float): Corrected third dilatometer reading\n\tpore_water_pressure (float): Pore water pressure in soil\n\n\nReturns:\n\tpore_pressure_index (float): Pore pressure index from DMT\n\n',
        'get_relative_density__reyna1991dilatometer':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_relative\\_density\\_\\_reyna1991dilatometer}(K_d, I_D) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( K_d, I_D \\le 1.8, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} D_r \\gets \\mathrm{RelativeDensityReyna1991Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( K_d \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ D_r \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\thorizontal_stress_index (float): Horizontal stress index from DMT\n\tmaterial_index (float): Dilatometer material index\n\n\nReturns:\n\trelative_density (float): Relative density of soil\n\n',
        'get_shear_modulus__amoroso2013prediction':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_modulus\\_\\_amoroso2013prediction}(I_D, K_d, M) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets I_D \\le 0.6 \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets M \\cdot 26.177 K_d^{-1.0066} \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathopen{}\\left( I_D \\ge 0.6 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( I_D < 1.8 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets M \\cdot 15.686 K_d^{-0.921} \\\\ \\hspace{1em} \\mathrm{condition\\_3} \\gets I_D \\ge 1.8 \\\\ \\hspace{1em} \\mathrm{choice\\_3} \\gets M \\cdot 4.5613 K_d^{-0.7967} \\\\ \\hspace{1em} G_o \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ G_o \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmaterial_index (float): Dilatometer material index\n\thorizontal_stress_index (float): Horizontal stress index from DMT\n\tconstrained_modulus (float): Constrained modulus of soil\n\n\nReturns:\n\tsmall_strain_shear_modulus (float): Small strain shear modulus of soil\n\n',
        'get_undrained_shear_strength__marchetti1981flat':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_undrained\\_shear\\_strength\\_\\_marchetti1981flat}(K_d, σ_v', \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} S_u \\gets 0.22 σ_v' \\cdot \\mathopen{}\\left( 0.5 K_d \\mathclose{}\\right)^{1.25} \\\\ \\hspace{1em} \\mathbf{return} \\ S_u \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\thorizontal_stress_index (float): Horizontal stress index from DMT\n\teffective_stress (float): Effective vertical stress in soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\n",
        'get_unit_weight__marchetti1981flat':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_weight\\_\\_marchetti1981flat}(I_D, E_d) \\\\ \\hspace{1em} n \\gets \\begin{bmatrix} 1.737 \\\\ 2.013 \\\\ 2.289 \\\\ 2.564 \\end{bmatrix} \\\\ \\hspace{1em} m \\gets \\begin{bmatrix} 0.585 \\\\ 0.621 \\\\ 0.657 \\\\ 0.694 \\end{bmatrix} \\\\ \\hspace{1em} \\mathrm{gamma\\_table} \\gets \\begin{bmatrix} 1.6 & 1.6 & 1.7 \\\\ 1.7 & 1.7 & 1.8 \\\\ 1.8 & 1.8 & 1.9 \\\\ 1.9 & 1.95 & 2.0 \\\\ 2.05 & 2.1 & 2.15 \\end{bmatrix} \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathopen{}\\left( E_d < 1.2 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( I_D < 0.1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 1.4 \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathopen{}\\left( E_d < 1.2 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( I_D \\ge 0.1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets 1.5 \\\\ \\hspace{1em} γ \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{flag} \\gets E_d \\ge 1.2 \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{flag} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{thresholds} \\gets n + m \\cdot \\log_{10} I_D + \\log_{10} 0.1 \\\\ \\hspace{2em} \\mathrm{table\\_i} \\gets \\sum \\mathopen{}\\left( \\log_{10} E_d \\ge \\mathrm{thresholds} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{condition\\_1} \\gets I_D > 1.8 \\\\ \\hspace{2em} \\mathrm{choice\\_1} \\gets 2 \\\\ \\hspace{2em} \\mathrm{condition\\_2} \\gets I_D > 0.6 \\\\ \\hspace{2em} \\mathrm{choice\\_2} \\gets 1 \\\\ \\hspace{2em} \\mathrm{condition\\_3} \\gets I_D > 0.0 \\\\ \\hspace{2em} \\mathrm{choice\\_3} \\gets 0 \\\\ \\hspace{2em} \\mathrm{table\\_j} \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{mask} \\gets \\mathrm{flag} \\mathbin{\\&} \\mathopen{}\\left( \\mathrm{table\\_j} \\ge 0 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( γ, \\mathrm{mask}, \\mathrm{gamma\\_table}_{\\mathopen{}\\left( \\mathrm{table\\_i}, \\mathrm{table\\_j} \\mathclose{}\\right), \\mathrm{mask}} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ γ \\cdot 9.81 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmaterial_index (float): Dilatometer material index\n\tdilatometer_modulus (float): Dilatometer modulus from DMT\n\n\nReturns:\n\tunit_weight (float): Unit weight of soil\n\n'
    },
    'footing': {
        'get_average_friction_angle__bowles1996foundation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_average\\_friction\\_angle\\_\\_bowles1996foundation}(H, ϕ, H) \\\\ \\hspace{1em} ϕ \\gets \\mathrm{np}.\\mathrm{rad2deg} \\mathopen{}\\left( \\arctan \\mathopen{}\\left( \\frac{\\mathrm{np}.\\mathrm{dot} \\mathopen{}\\left( H, \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right) \\mathclose{}\\right)}{H} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ϕ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tthickness (float): Thickness of soil layer\n\tfriction_angle (float): Friction angle of soil\n\teffective_shear_depth (float): Effective footing shear depth\n\n\nReturns:\n\tfriction_angle (float): Friction angle of soil\n\n',
        'get_average_parameters__bowles1996foundation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_average\\_parameters\\_\\_bowles1996foundation}(B, D_f, z, ϕ, S_u) \\\\ \\hspace{1em} \\mathrm{ignore\\_flag} \\gets z < D_f \\\\ \\hspace{1em} z \\gets \\mathrm{np}.\\mathrm{extract} \\mathopen{}\\left( \\mathord{\\sim} \\mathrm{ignore\\_flag}, z \\mathclose{}\\right) \\\\ \\hspace{1em} ϕ \\gets \\mathrm{np}.\\mathrm{extract} \\mathopen{}\\left( \\mathord{\\sim} \\mathrm{ignore\\_flag}, ϕ \\mathclose{}\\right) \\\\ \\hspace{1em} S_u \\gets \\mathrm{np}.\\mathrm{extract} \\mathopen{}\\left( \\mathord{\\sim} \\mathrm{ignore\\_flag}, S_u \\mathclose{}\\right) \\\\ \\hspace{1em} ϕ \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( ϕ \\mathclose{}\\right) \\\\ \\hspace{1em} S_u \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( S_u \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{depth\\_from\\_embedment} \\gets z - D_f \\\\ \\hspace{1em} \\mathrm{average\\_friction\\_angle} \\gets \\mathrm{np}.\\mathrm{take} \\mathopen{}\\left( ϕ, 0 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{effective\\_shear\\_depth\\_previous} \\gets 0 \\\\ \\hspace{1em} \\mathbf{while} \\ \\mathrm{True} \\\\ \\hspace{2em} H \\gets \\mathrm{get\\_effective\\_shear\\_depth} \\mathopen{}\\left( B, \\mathrm{average\\_friction\\_angle} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{max\\_depth\\_from\\_embedment} \\gets \\mathrm{np}.\\mathrm{max} \\mathopen{}\\left( \\mathrm{depth\\_from\\_embedment} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{max\\_depth\\_from\\_embedment} < H \\\\ \\hspace{3em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"max\\_depth\\_from\\_embedment=\\{\\} < effective\\_shear\\_depth=\\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{max\\_depth\\_from\\_embedment}, H \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathrm{depth\\_in\\_range} \\gets \\mathrm{depth\\_from\\_embedment}_{\\mathrm{depth\\_from\\_embedment} < H} \\\\ \\hspace{2em} \\mathrm{depth\\_in\\_range} \\gets \\mathrm{np}.\\mathrm{append} \\mathopen{}\\left( \\mathrm{depth\\_in\\_range}, H \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{indices} \\gets \\mathrm{np}.\\mathrm{searchsorted} \\mathopen{}\\left( \\mathrm{depth\\_from\\_embedment}, \\mathrm{depth\\_in\\_range} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{thickness\\_from\\_embedment} \\gets \\mathrm{get\\_thickness} \\mathopen{}\\left( \\mathrm{depth\\_in\\_range} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{average\\_friction\\_angle} \\gets \\mathrm{get\\_average\\_friction\\_angle\\_\\_bowles1996foundation} \\mathopen{}\\left( \\mathrm{thickness\\_from\\_embedment}, \\mathrm{friction\\_angle}_{\\mathrm{indices}}, H \\mathclose{}\\right) \\\\ \\hspace{2em} S_{u30} \\gets \\mathrm{get\\_average\\_undrained\\_shear\\_strength\\_\\_bowles1996foundation} \\mathopen{}\\left( \\mathrm{thickness\\_from\\_embedment}, \\mathrm{undrained\\_shear\\_strength}_{\\mathrm{indices}}, H \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathopen{}\\left| H - \\mathrm{effective\\_shear\\_depth\\_previous} \\mathclose{}\\right| < 0.0001 \\\\ \\hspace{3em} \\mathbf{break} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathrm{effective\\_shear\\_depth\\_previous} \\gets H \\\\ \\hspace{1em} \\mathbf{end \\ while} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( H, \\mathrm{average\\_friction\\_angle}, S_{u30} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tfooting_embedment (float): Depth of footing embedment\n\tdepth (float): Depth below ground surface to bottom of layer\n\tfriction_angle (float): Friction angle of soil\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\n\nReturns:\n\teffective_shear_depth (float): Effective footing shear depth\n\tfriction_angle (float): Friction angle of soil\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\n',
        'get_average_undrained_shear_strength__bowles1996foundation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_average\\_undrained\\_shear\\_strength\\_\\_bowles1996foundation}(H, S_u, H) \\\\ \\hspace{1em} S_u \\gets \\frac{\\mathrm{np}.\\mathrm{dot} \\mathopen{}\\left( H, S_u \\mathclose{}\\right)}{H} \\\\ \\hspace{1em} \\mathbf{return} \\ S_u \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tthickness (float): Thickness of soil layer\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_shear_depth (float): Effective footing shear depth\n\n\nReturns:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\n',
        'get_bearing_capacity_factor_cohesion__terzaghi1943theoretical':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_bearing\\_capacity\\_factor\\_cohesion\\_\\_terzaghi1943theoretical}(ϕ, N_q) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{equal} \\mathopen{}\\left( ϕ, 0 \\mathclose{}\\right) \\\\ \\hspace{2em} N_c \\gets 5.7 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} N_c \\gets \\frac{N_q - 1}{\\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right)} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ N_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfriction_angle (float): Friction angle of soil\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\n\nReturns:\n\tbearing_capacity_factor_cohesion (float): Bearing capacity factor for cohesion\n\n',
        'get_bearing_capacity_factor_cohesion__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_bearing\\_capacity\\_factor\\_cohesion\\_\\_vesic1975bearing}(ϕ, N_q) \\\\ \\hspace{1em} \\mathbf{if} \\ ϕ = 0 \\\\ \\hspace{2em} N_c \\gets 5.14 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} N_c \\gets \\frac{N_q - 1}{\\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right)} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ N_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfriction_angle (float): Friction angle of soil\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\n\nReturns:\n\tbearing_capacity_factor_cohesion (float): Bearing capacity factor for cohesion\n\n',
        'get_bearing_capacity_factor_cohesion_bottom_layer__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_bearing\\_capacity\\_factor\\_cohesion\\_bottom\\_layer\\_\\_vesic1975bearing}() \\\\ \\hspace{1em} N_{c\\ bottom} \\gets 5.14 \\\\ \\hspace{1em} \\mathbf{return} \\ N_{c\\ bottom} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\n\nReturns:\n\tbearing_capacity_factor_cohesion_bottom_layer (float): Bearing capacity factor for cohesion of soil beneath foundation\n\n',
        'get_bearing_capacity_factor_surcharge__terzaghi1943theoretical':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_bearing\\_capacity\\_factor\\_surcharge\\_\\_terzaghi1943theoretical}(ϕ) \\\\ \\hspace{1em} α_θ \\gets \\exp \\mathopen{}\\left( \\mathrm{np}.\\pi \\cdot \\mathopen{}\\left( 0.75 - \\frac{ϕ}{360} \\mathclose{}\\right) \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} N_q \\gets \\frac{α_θ^{2}}{2 \\mathopen{}\\left( \\mathrm{cosdg} \\mathopen{}\\left( 45 + \\frac{ϕ}{2} \\mathclose{}\\right) \\mathclose{}\\right)^{2}} \\\\ \\hspace{1em} \\mathbf{return} \\ N_q \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfriction_angle (float): Friction angle of soil\n\n\nReturns:\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\n',
        'get_bearing_capacity_factor_surcharge__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_bearing\\_capacity\\_factor\\_surcharge\\_\\_vesic1975bearing}(ϕ) \\\\ \\hspace{1em} N_q \\gets \\exp \\mathopen{}\\left( \\mathrm{np}.\\pi \\cdot \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right) \\mathclose{}\\right) \\cdot \\mathopen{}\\left( \\mathrm{tandg} \\mathopen{}\\left( 45 + \\frac{ϕ}{2} \\mathclose{}\\right) \\mathclose{}\\right)^{2} \\\\ \\hspace{1em} \\mathbf{return} \\ N_q \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfriction_angle (float): Friction angle of soil\n\n\nReturns:\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\n',
        'get_bearing_capacity_factor_surcharge_bottom_layer__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_bearing\\_capacity\\_factor\\_surcharge\\_bottom\\_layer\\_\\_vesic1975bearing}(ϕ_{bottom}) \\\\ \\hspace{1em} N_{q\\ bottom} \\gets \\mathrm{get\\_bearing\\_capacity\\_factor\\_surcharge\\_\\_vesic1975bearing} \\mathopen{}\\left( ϕ_{bottom} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ N_{q\\ bottom} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfriction_angle_bottom_layer (float): Friction angle of sand layer beneath foundation\n\n\nReturns:\n\tbearing_capacity_factor_surcharge_bottom_layer (float): Bearing capacity factor for surcharge of soil beneath foundation\n\n',
        'get_bearing_capacity_factor_unit_weight__terzaghi1943theoretical':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_bearing\\_capacity\\_factor\\_unit\\_weight\\_\\_terzaghi1943theoretical}(N_q, ϕ) \\\\ \\hspace{1em} N_γ \\gets \\frac{2 \\mathopen{}\\left( N_q + 1 \\mathclose{}\\right) \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right)}{1 + 0.4 \\mathrm{sindg} \\mathopen{}\\left( 4 ϕ \\mathclose{}\\right)} \\\\ \\hspace{1em} \\mathbf{return} \\ N_γ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\tfriction_angle (float): Friction angle of soil\n\n\nReturns:\n\tbearing_capacity_factor_unit_weight (float): Bearing capacity factor for unit weight\n\n',
        'get_bearing_capacity_factor_unit_weight__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_bearing\\_capacity\\_factor\\_unit\\_weight\\_\\_vesic1975bearing}(N_q, ϕ) \\\\ \\hspace{1em} N_γ \\gets 2 \\mathopen{}\\left( N_q + 1 \\mathclose{}\\right) \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ N_γ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\tfriction_angle (float): Friction angle of soil\n\n\nReturns:\n\tbearing_capacity_factor_unit_weight (float): Bearing capacity factor for unit weight\n\n',
        'get_bearing_capacity_factor_unit_weight_bottom_layer__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_bearing\\_capacity\\_factor\\_unit\\_weight\\_bottom\\_layer\\_\\_vesic1975bearing}(N_{q\\ bottom}, ϕ_{bottom}) \\\\ \\hspace{1em} N_{γ\\ bottom} \\gets \\mathrm{get\\_bearing\\_capacity\\_factor\\_unit\\_weight\\_\\_vesic1975bearing} \\mathopen{}\\left( N_{q\\ bottom}, ϕ_{bottom} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ N_{γ\\ bottom} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tbearing_capacity_factor_surcharge_bottom_layer (float): Bearing capacity factor for surcharge of soil beneath foundation\n\tfriction_angle_bottom_layer (float): Friction angle of sand layer beneath foundation\n\n\nReturns:\n\tbearing_capacity_factor_unit_weight_bottom_layer (float): Bearing capacity factor for unit weight of soil beneath foundation\n\n',
        'get_bearing_capacity_ratio_case1__meyerhof1978ultimate':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_bearing\\_capacity\\_ratio\\_case1\\_\\_meyerhof1978ultimate}(S_{u\\ bottom}, N_{c\\ bottom}, γ', B, N_γ) \\\\ \\hspace{1em} {q_2}/{q_1} \\gets \\frac{S_{u\\ bottom} \\cdot N_{c\\ bottom}}{0.5 γ' \\cdot B \\cdot N_γ} \\\\ \\hspace{1em} \\mathbf{return} \\ {q_2}/{q_1} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tundrained_shear_strength_bottom_layer (float): Undrained shear strength of clay beneath foundation\n\tbearing_capacity_factor_cohesion_bottom_layer (float): Bearing capacity factor for cohesion of soil beneath foundation\n\teffective_unit_weight (float): Effective unit weight of soil\n\tfooting_width (float): Footing width (small plan dimension)\n\tbearing_capacity_factor_unit_weight (float): Bearing capacity factor for unit weight\n\n\nReturns:\n\tbearing_capacity_ratio (float): Ratio of bearing capacities q_2 to q_1\n\n",
        'get_bearing_capacity_ratio_case2__meyerhof1978ultimate':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_bearing\\_capacity\\_ratio\\_case2\\_\\_meyerhof1978ultimate}(γ_{bottom}', N_{γ\\ bottom}, γ', N_γ) \\\\ \\hspace{1em} {q_2}/{q_1} \\gets \\frac{γ_{bottom}' \\cdot N_{γ\\ bottom}}{γ' \\cdot N_γ} \\\\ \\hspace{1em} \\mathbf{return} \\ {q_2}/{q_1} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\teffective_unit_weight_bottom_layer (float): Effective unit weight of soil beneath foundation\n\tbearing_capacity_factor_unit_weight_bottom_layer (float): Bearing capacity factor for unit weight of soil beneath foundation\n\teffective_unit_weight (float): Effective unit weight of soil\n\tbearing_capacity_factor_unit_weight (float): Bearing capacity factor for unit weight\n\n\nReturns:\n\tbearing_capacity_ratio (float): Ratio of bearing capacities q_2 to q_1\n\n",
        'get_depth_factor_cohesion__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_depth\\_factor\\_cohesion\\_\\_vesic1975bearing}(k) \\\\ \\hspace{1em} d_c \\gets 1 + 0.4 k \\\\ \\hspace{1em} \\mathbf{return} \\ d_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_embedment_to_width_ratio (float): Ratio of footing embedment to width\n\n\nReturns:\n\tdepth_factor_cohesion (float): Depth factor for cohesion in bearing capacity\n\n',
        'get_depth_factor_surcharge__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_depth\\_factor\\_surcharge\\_\\_vesic1975bearing}(k, ϕ) \\\\ \\hspace{1em} d_q \\gets 1 + 2 k \\cdot \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right) \\mathopen{}\\left( 1 - \\mathrm{sindg} \\mathopen{}\\left( ϕ \\mathclose{}\\right) \\mathclose{}\\right)^{2} \\\\ \\hspace{1em} \\mathbf{return} \\ d_q \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_embedment_to_width_ratio (float): Ratio of footing embedment to width\n\tfriction_angle (float): Friction angle of soil\n\n\nReturns:\n\tdepth_factor_surcharge (float): Depth factor for surcharge in bearing capacity\n\n',
        'get_depth_factor_unit_weight__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_depth\\_factor\\_unit\\_weight\\_\\_vesic1975bearing}() \\\\ \\hspace{1em} d_γ \\gets 1 \\\\ \\hspace{1em} \\mathbf{return} \\ d_γ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\n\nReturns:\n\tdepth_factor_unit_weight (float): Depth factor for unit weight in bearing capacity\n\n',
        'get_effective_shear_depth':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_shear\\_depth}(B, ϕ) \\\\ \\hspace{1em} H \\gets 0.5 B \\cdot \\mathrm{tandg} \\mathopen{}\\left( 45 + \\frac{ϕ}{2} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ H \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tfriction_angle (float): Friction angle of soil\n\n\nReturns:\n\teffective_shear_depth (float): Effective footing shear depth\n\n',
        'get_effective_unit_weight__vesic1973analysis':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_unit\\_weight\\_\\_vesic1973analysis}(γ, z_{w\\ present}, z_w, D_f, B) \\\\ \\hspace{1em} γ' \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot z_{w\\ present} \\\\ \\hspace{2em} γ' \\gets γ \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ z_w \\le D_f \\\\ \\hspace{3em} γ' \\gets γ - γ_w \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ D_f + B > z_w \\\\ \\hspace{4em} γ' \\gets γ - γ_w \\cdot \\mathopen{}\\left( 1 - \\frac{z_w - D_f}{B} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ D_f + B \\le z_w \\\\ \\hspace{5em} γ' \\gets γ \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ γ' \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tunit_weight (float): Unit weight of soil\n\twater_table_present (bool): Indicates presence of water table\n\twater_table (float): Depth to water table below ground surface\n\tfooting_embedment (float): Depth of footing embedment\n\tfooting_width (float): Footing width (small plan dimension)\n\twater_unit_weight (float): Unit weight of water\n\n\nReturns:\n\teffective_unit_weight (float): Effective unit weight of soil\n\n",
        'get_effective_unit_weight_bottom_layer__vesic1973analysis':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_unit\\_weight\\_bottom\\_layer\\_\\_vesic1973analysis}(γ_{bottom}, z_{w\\ present}, D_f, H_{top}, z_w, B) \\\\ \\hspace{1em} γ_{bottom}' \\gets \\mathrm{get\\_effective\\_unit\\_weight\\_\\_vesic1973analysis} \\mathopen{}\\left( γ_{bottom}, z_{w\\ present}, z_w, D_f + H_{top}, B, γ_w \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ γ_{bottom}' \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tunit_weight_bottom_layer (float): Unit weight of soil beneath foundation\n\twater_table_present (bool): Indicates presence of water table\n\tfooting_embedment (float): Depth of footing embedment\n\tthickness_top_layer (float): Thickness of top soil layer from beneath foundation embedment\n\twater_table (float): Depth to water table below ground surface\n\tfooting_width (float): Footing width (small plan dimension)\n\twater_unit_weight (float): Unit weight of water\n\n\nReturns:\n\teffective_unit_weight_bottom_layer (float): Effective unit weight of soil beneath foundation\n\n",
        'get_footing_creep_settlement_inc':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_creep\\_settlement\\_inc}(\\mathrm{consider\\_creep\\_settlement}, H, M, σ_v', t, t_p) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{consider\\_creep\\_settlement} \\\\ \\hspace{2em} S_{creep} \\gets 0.01 \\frac{σ_v'}{M} \\cdot H \\cdot \\log_{10} \\mathopen{}\\left( \\frac{t}{t_p} \\mathclose{}\\right) \\\\ \\hspace{2em} S_{creep} \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( S_{creep} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} S_{creep} \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( H, 0 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ S_{creep} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tconsider_creep_settlement (bool): Indicates if creep settlement is considered in calculations\n\tthickness (float): Thickness of soil layer\n\tconstrained_modulus (float): Constrained modulus of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tconsolidation_time (float): Time for soil consolidation\n\tprimary_consolidation_time (float): Time for primary consolidation\n\n\nReturns:\n\tfooting_creep_settlement_inc (float): Incremental creep settlement of footing\n\n",
        'get_footing_creep_settlement_sum':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_creep\\_settlement\\_sum}(S_{creep}) \\\\ \\hspace{1em} ΣS_{creep} \\gets \\sum S_{creep} \\\\ \\hspace{1em} \\mathbf{return} \\ ΣS_{creep} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_creep_settlement_inc (float): Incremental creep settlement of footing\n\n\nReturns:\n\tfooting_creep_settlement_sum (float): Sum of footing creep settlement increments\n\n',
        'get_footing_effective_stress':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_effective\\_stress}(σ_v, u_0) \\\\ \\hspace{1em} σ_v' \\gets \\mathrm{get\\_effective\\_stress} \\mathopen{}\\left( σ_v, u_0 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ σ_v' \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\ttotal_stress (float): Total vertical stress in soil\n\tpore_water_pressure (float): Pore water pressure in soil\n\n\nReturns:\n\teffective_stress (float): Effective vertical stress in soil\n\n",
        'get_footing_embedment_to_width_ratio__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_embedment\\_to\\_width\\_ratio\\_\\_vesic1975bearing}(D_f, B) \\\\ \\hspace{1em} k \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\frac{D_f}{B} \\le 1, \\frac{D_f}{B}, \\arctan \\mathopen{}\\left( \\frac{D_f}{B} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ k \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_embedment (float): Depth of footing embedment\n\tfooting_width (float): Footing width (small plan dimension)\n\n\nReturns:\n\tfooting_embedment_to_width_ratio (float): Ratio of footing embedment to width\n\n',
        'get_footing_influence_depth':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_influence\\_depth}(B, D_f, IF) \\\\ \\hspace{1em} z_{infl} \\gets D_f + IF \\cdot B \\\\ \\hspace{1em} \\mathbf{return} \\ z_{infl} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tfooting_embedment (float): Depth of footing embedment\n\tfooting_influence_width_factor (float): Footing depth of influence width factor\n\n\nReturns:\n\tfooting_influence_depth (float): Depth of influence for footing\n\n',
        'get_footing_pore_water_pressure':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_pore\\_water\\_pressure}(z_{w\\ present}, D_f, z_w) \\\\ \\hspace{1em} u_0 \\gets \\mathrm{get\\_pore\\_water\\_pressure} \\mathopen{}\\left( z_{w\\ present}, z_w, D_f \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ u_0 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\twater_table_present (bool): Indicates presence of water table\n\tfooting_embedment (float): Depth of footing embedment\n\twater_table (float): Depth to water table below ground surface\n\n\nReturns:\n\tpore_water_pressure (float): Pore water pressure in soil\n\n',
        'get_footing_settlement':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_settlement}(S_i) \\\\ \\hspace{1em} S \\gets \\mathrm{reverse\\_cumsum} \\mathopen{}\\left( S_i \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ S \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_settlement_inc (float): Incremental settlement of footing\n\n\nReturns:\n\tfooting_settlement (float): Settlement of footing\n\n',
        'get_footing_settlement_inc':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_settlement\\_inc}(H, M, Δ_σ, \\mathrm{apply\\_20\\_percent\\_rule}, σ_v') \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{apply\\_20\\_percent\\_rule} \\\\ \\hspace{2em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( Δ_σ, 0.2 σ_v' > Δ_σ, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} S_i \\gets \\frac{0.1 H \\cdot Δ_σ}{M} \\\\ \\hspace{1em} S_i \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( S_i \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ S_i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tthickness (float): Thickness of soil layer\n\tconstrained_modulus (float): Constrained modulus of soil\n\timposed_stress (float): Imposed stress on soil\n\tapply_20_percent_rule (bool): Ignores settlements where 20% of effective stress exceeds applied stress change\n\teffective_stress (float): Effective vertical stress in soil\n\n\nReturns:\n\tfooting_settlement_inc (float): Incremental settlement of footing\n\n",
        'get_footing_settlement_sum':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_settlement\\_sum}(S_i) \\\\ \\hspace{1em} ΣS \\gets \\sum S_i \\\\ \\hspace{1em} \\mathbf{return} \\ ΣS \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_settlement_inc (float): Incremental settlement of footing\n\n\nReturns:\n\tfooting_settlement_sum (float): Sum of footing settlement increments\n\n',
        'get_footing_total_stress':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_total\\_stress}(γ, D_f) \\\\ \\hspace{1em} σ_v \\gets \\mathrm{get\\_total\\_stress} \\mathopen{}\\left( γ, D_f \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ σ_v \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tunit_weight (float): Unit weight of soil\n\tfooting_embedment (float): Depth of footing embedment\n\n\nReturns:\n\ttotal_stress (float): Total vertical stress in soil\n\n',
        'get_imposed_stress':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_imposed\\_stress}(q_o, I_z) \\\\ \\hspace{1em} Δ_σ \\gets q_o \\cdot I_z \\\\ \\hspace{1em} \\mathbf{return} \\ Δ_σ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_applied_load (float): Applied pressure or load on footing\n\tstress_influence_factor (float): Stress influence factor below footing center\n\n\nReturns:\n\timposed_stress (float): Imposed stress on soil\n\n',
        'get_punching_shear_coefficient__meyerhof1978ultimate':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_punching\\_shear\\_coefficient\\_\\_meyerhof1978ultimate}({q_2}/{q_1}, ϕ) \\\\ \\hspace{1em} K_s \\gets \\mathrm{PunchingShearCoefficientMeyerhof1978Figure}.\\mathrm{as\\_reference\\_data} \\mathopen{}\\left( \\mathclose{}\\right).\\mathrm{interpolate\\_at\\_index\\_column} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ K_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tbearing_capacity_ratio (float): Ratio of bearing capacities q_2 to q_1\n\tfriction_angle (float): Friction angle of soil\n\n\nReturns:\n\tpunching_shear_coefficient (float): Punching shear coefficient for foundation\n\n',
        'get_shape_factor_cohesion__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shape\\_factor\\_cohesion\\_\\_vesic1975bearing}(B, N_q, N_c, L, \\mathrm{footing\\_shape}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{footing\\_shape} = \\textrm{"continuous"} \\\\ \\hspace{2em} \\mathbf{return} \\ 1 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{footing\\_shape} \\in \\mathopen{}\\left( \\textrm{"square"}, \\textrm{"circular"} \\mathclose{}\\right) \\\\ \\hspace{3em} L \\gets B \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} s_c \\gets 1 + \\frac{B}{L} \\frac{N_q}{N_c} \\\\ \\hspace{1em} \\mathbf{return} \\ s_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\tbearing_capacity_factor_cohesion (float): Bearing capacity factor for cohesion\n\tfooting_length (float): Footing length (large plan dimension)\n\tfooting_shape (str): Shape of footing\n\n\nReturns:\n\tshape_factor_cohesion (float): Shape factor for cohesion in bearing capacity\n\n',
        'get_shape_factor_surcharge__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shape\\_factor\\_surcharge\\_\\_vesic1975bearing}(B, ϕ, L, \\mathrm{footing\\_shape}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{footing\\_shape} = \\textrm{"continuous"} \\\\ \\hspace{2em} \\mathbf{return} \\ 1 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{footing\\_shape} \\in \\mathopen{}\\left( \\textrm{"square"}, \\textrm{"circular"} \\mathclose{}\\right) \\\\ \\hspace{3em} L \\gets B \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} s_q \\gets 1 + \\frac{B}{L} \\cdot \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ s_q \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tfriction_angle (float): Friction angle of soil\n\tfooting_length (float): Footing length (large plan dimension)\n\tfooting_shape (str): Shape of footing\n\n\nReturns:\n\tshape_factor_surcharge (float): Shape factor for surcharge in bearing capacity\n\n',
        'get_shape_factor_surcharge_bottom_layer__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shape\\_factor\\_surcharge\\_bottom\\_layer\\_\\_vesic1975bearing}(B, ϕ_{bottom}, L, \\mathrm{footing\\_shape}) \\\\ \\hspace{1em} s_{q\\ bottom} \\gets \\mathrm{get\\_shape\\_factor\\_surcharge\\_\\_vesic1975bearing} \\mathopen{}\\left( B, ϕ_{bottom}, L, \\mathrm{footing\\_shape} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ s_{q\\ bottom} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tfriction_angle_bottom_layer (float): Friction angle of sand layer beneath foundation\n\tfooting_length (float): Footing length (large plan dimension)\n\tfooting_shape (str): Shape of footing\n\n\nReturns:\n\tshape_factor_surcharge_bottom_layer (float): Shape factor for surcharge of soil beneath foundation\n\n',
        'get_shape_factor_unit_weight__vesic1975bearing':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shape\\_factor\\_unit\\_weight\\_\\_vesic1975bearing}(B, L, \\mathrm{footing\\_shape}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{footing\\_shape} = \\textrm{"continuous"} \\\\ \\hspace{2em} \\mathbf{return} \\ 1 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{footing\\_shape} \\in \\mathopen{}\\left( \\textrm{"square"}, \\textrm{"circular"} \\mathclose{}\\right) \\\\ \\hspace{3em} L \\gets B \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} s_γ \\gets 1 - 0.4 \\frac{B}{L} \\\\ \\hspace{1em} \\mathbf{return} \\ s_γ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tfooting_length (float): Footing length (large plan dimension)\n\tfooting_shape (str): Shape of footing\n\n\nReturns:\n\tshape_factor_unit_weight (float): Shape factor for unit weight in bearing capacity\n\n',
        'get_stress_influence_factor':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stress\\_influence\\_factor}(\\mathrm{footing\\_shape}, B, L, z, D_f) \\\\ \\hspace{1em} I_z \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{footing\\_shape} = \\textrm{"square"} \\\\ \\hspace{2em} L \\gets B \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( D_f \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( z, z < D_f, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( z, z \\ge D_f, z - D_f \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{footing\\_shape} = \\textrm{"circular"} \\\\ \\hspace{2em} I_z \\gets 1 - \\frac{1}{\\mathopen{}\\left( 1 + \\mathopen{}\\left( \\frac{B}{2 z} \\mathclose{}\\right)^{2} \\mathclose{}\\right)^{\\frac{3}{2}}} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{footing\\_shape} \\in \\mathopen{}\\left( \\textrm{"square"}, \\textrm{"rectangular"} \\mathclose{}\\right) \\\\ \\hspace{3em} m \\gets \\frac{L}{B} \\\\ \\hspace{3em} n \\gets \\frac{z}{\\frac{B}{2}} \\\\ \\hspace{3em} I_z \\gets \\frac{2}{\\mathrm{np}.\\pi} \\cdot \\mathopen{}\\left( \\frac{\\frac{m n}{\\sqrt{ 1 + m^{2} + n^{2} }} \\cdot \\mathopen{}\\left( 1 + m^{2} + 2 n^{2} \\mathclose{}\\right)}{\\mathopen{}\\left( 1 + n^{2} \\mathclose{}\\right) \\mathopen{}\\left( m^{2} + n^{2} \\mathclose{}\\right)} + \\arcsin \\mathopen{}\\left( \\frac{m}{\\sqrt{ m^{2} + n^{2} } \\cdot \\sqrt{ 1 + n^{2} }} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ I_z \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_shape (str): Shape of footing\n\tfooting_width (float): Footing width (small plan dimension)\n\tfooting_length (float): Footing length (large plan dimension)\n\tdepth (float): Depth below ground surface to bottom of layer\n\tfooting_embedment (float): Depth of footing embedment\n\n\nReturns:\n\tstress_influence_factor (float): Stress influence factor below footing center\n\n',
        'get_stress_influence_factor_at_corner':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stress\\_influence\\_factor\\_at\\_corner}(B, L, z) \\\\ \\hspace{1em} m \\gets \\frac{B}{z} \\\\ \\hspace{1em} n \\gets \\frac{L}{z} \\\\ \\hspace{1em} I_z \\gets \\frac{1}{4 \\mathrm{np}.\\pi} \\cdot \\mathopen{}\\left( \\frac{2 m n \\cdot \\sqrt{ m^{2} + n^{2} + 1 }}{m^{2} + n^{2} + m^{2} n^{2} + 1} \\frac{m^{2} + n^{2} + 2}{m^{2} + n^{2} + 1} + \\mathrm{np}.\\mathrm{arctan2} \\mathopen{}\\left( 2 m n \\cdot \\sqrt{ m^{2} + n^{2} + 1 }, m^{2} + n^{2} - m^{2} n^{2} + 1 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ I_z \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tfooting_length (float): Footing length (large plan dimension)\n\tdepth (float): Depth below ground surface to bottom of layer\n\n\nReturns:\n\tstress_influence_factor (float): Stress influence factor below footing center\n\n',
        'get_ultimate_bearing_capacity__terzaghi1943theoretical':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_ultimate\\_bearing\\_capacity\\_\\_terzaghi1943theoretical}(\\mathrm{footing\\_shape}, B, S_u, σ_v\', γ\', N_c, N_q, N_γ) \\\\ \\hspace{1em} \\textrm{" From coduto2015foundation: terzaghi’s method is still often used, primarily because it is simple and familiar.\n    However, it does not consider special cases, such as rectangular footings, inclined loads,\n    or footings with large depth-to-width ratios "} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{footing\\_shape} = \\textrm{"square"} \\\\ \\hspace{2em} \\mathrm{c1} \\gets 1.3 \\\\ \\hspace{2em} \\mathrm{c2} \\gets 0.4 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{footing\\_shape} = \\textrm{"continuous"} \\\\ \\hspace{3em} \\mathrm{c1} \\gets 1 \\\\ \\hspace{3em} \\mathrm{c2} \\gets 0.5 \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ \\mathrm{footing\\_shape} = \\textrm{"circular"} \\\\ \\hspace{4em} \\mathrm{c1} \\gets 1.3 \\\\ \\hspace{4em} \\mathrm{c2} \\gets 0.3 \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"\\{\\} shape not supported for this method"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{footing\\_shape} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} Q_{ult} \\gets \\mathrm{c1} \\cdot S_u \\cdot N_c + σ_v\' \\cdot N_q + \\mathrm{c2} \\cdot γ\' \\cdot B \\cdot N_γ \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{ult} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_shape (str): Shape of footing\n\tfooting_width (float): Footing width (small plan dimension)\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_stress (float): Effective vertical stress in soil\n\teffective_unit_weight (float): Effective unit weight of soil\n\tbearing_capacity_factor_cohesion (float): Bearing capacity factor for cohesion\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\tbearing_capacity_factor_unit_weight (float): Bearing capacity factor for unit weight\n\n\nReturns:\n\tultimate_bearing_capacity (float): Ultimate bearing capacity of foundation\n\n',
        'get_ultimate_bearing_capacity__vesic1975bearing':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_ultimate\\_bearing\\_capacity\\_\\_vesic1975bearing}(B, S_u, σ_v', γ', N_c, N_q, N_γ, s_c, s_q, s_γ, d_c, d_q, d_γ) \\\\ \\hspace{1em} Q_{ult} \\gets S_u \\cdot N_c \\cdot s_c \\cdot d_c + σ_v' \\cdot N_q \\cdot s_q \\cdot d_q + 0.5 γ' \\cdot B \\cdot N_γ \\cdot s_γ \\cdot d_γ \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{ult} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_stress (float): Effective vertical stress in soil\n\teffective_unit_weight (float): Effective unit weight of soil\n\tbearing_capacity_factor_cohesion (float): Bearing capacity factor for cohesion\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\tbearing_capacity_factor_unit_weight (float): Bearing capacity factor for unit weight\n\tshape_factor_cohesion (float): Shape factor for cohesion in bearing capacity\n\tshape_factor_surcharge (float): Shape factor for surcharge in bearing capacity\n\tshape_factor_unit_weight (float): Shape factor for unit weight in bearing capacity\n\tdepth_factor_cohesion (float): Depth factor for cohesion in bearing capacity\n\tdepth_factor_surcharge (float): Depth factor for surcharge in bearing capacity\n\tdepth_factor_unit_weight (float): Depth factor for unit weight in bearing capacity\n\n\nReturns:\n\tultimate_bearing_capacity (float): Ultimate bearing capacity of foundation\n\n",
        'get_ultimate_bearing_capacity_case1__meyerhof1978ultimate':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_ultimate\\_bearing\\_capacity\\_case1\\_\\_meyerhof1978ultimate}(B, D_f, K_s, S_{u\\ bottom}, σ_v\', γ\', H_{top}, ϕ, Q_{ult\\ lim}, L, \\mathrm{footing\\_shape}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{footing\\_shape} = \\textrm{"continuous"} \\\\ \\hspace{2em} L \\gets \\mathrm{np}.\\mathrm{inf} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{footing\\_shape} \\in \\mathopen{}\\left( \\textrm{"square"}, \\textrm{"circular"} \\mathclose{}\\right) \\\\ \\hspace{3em} L \\gets B \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} Q_{ult} \\gets \\mathopen{}\\left( 1 + 0.2 \\frac{B}{L} \\mathclose{}\\right) \\cdot 5.14 S_{u\\ bottom} + γ\' \\cdot H_{top}^{2} \\cdot \\mathopen{}\\left( 1 + \\frac{B}{L} \\mathclose{}\\right) \\mathopen{}\\left( 1 + \\frac{2 D_f}{H_{top}} \\mathclose{}\\right) \\frac{K_s \\cdot \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right)}{B} + σ_v\' \\\\ \\hspace{1em} Q_{ult} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( Q_{ult}, \\mathrm{None}, Q_{ult\\ lim} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{ult} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tfooting_embedment (float): Depth of footing embedment\n\tpunching_shear_coefficient (float): Punching shear coefficient for foundation\n\tundrained_shear_strength_bottom_layer (float): Undrained shear strength of clay beneath foundation\n\teffective_stress (float): Effective vertical stress in soil\n\teffective_unit_weight (float): Effective unit weight of soil\n\tthickness_top_layer (float): Thickness of top soil layer from beneath foundation embedment\n\tfriction_angle (float): Friction angle of soil\n\tultimate_bearing_capacity_limit (float): Limit for ultimate bearing capacity\n\tfooting_length (float): Footing length (large plan dimension)\n\tfooting_shape (str): Shape of footing\n\n\nReturns:\n\tultimate_bearing_capacity (float): Ultimate bearing capacity of foundation\n\n',
        'get_ultimate_bearing_capacity_case2__meyerhof1978ultimate':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_ultimate\\_bearing\\_capacity\\_case2\\_\\_meyerhof1978ultimate}(ϕ, \\mathrm{footing\\_shape}, B, D_f, H_{top}, γ\', K_s, N_{q\\ bottom}, s_{q\\ bottom}, N_{γ\\ bottom}, s_γ, γ_{bottom}\', Q_{ult\\ lim}, L) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{footing\\_shape} \\in \\mathopen{}\\left( \\textrm{"square"}, \\textrm{"circular"} \\mathclose{}\\right) \\\\ \\hspace{2em} L \\gets B \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} Q_{ult} \\gets γ\' \\cdot \\mathopen{}\\left( D_f + H_{top} \\mathclose{}\\right) N_{q\\ bottom} \\cdot s_{q\\ bottom} + 0.5 γ_{bottom}\' \\cdot B \\cdot N_{γ\\ bottom} \\cdot s_γ + γ\' \\cdot H_{top}^{2} \\cdot \\mathopen{}\\left( 1 + \\frac{B}{L} \\mathclose{}\\right) \\mathopen{}\\left( 1 + \\frac{2 D_f}{H_{top}} \\mathclose{}\\right) \\frac{K_s \\cdot \\mathrm{tandg} \\mathopen{}\\left( ϕ \\mathclose{}\\right)}{B} - γ\' \\cdot H_{top} \\\\ \\hspace{1em} Q_{ult} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( Q_{ult}, \\mathrm{None}, Q_{ult\\ lim} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{ult} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfriction_angle (float): Friction angle of soil\n\tfooting_shape (str): Shape of footing\n\tfooting_width (float): Footing width (small plan dimension)\n\tfooting_embedment (float): Depth of footing embedment\n\tthickness_top_layer (float): Thickness of top soil layer from beneath foundation embedment\n\teffective_unit_weight (float): Effective unit weight of soil\n\tpunching_shear_coefficient (float): Punching shear coefficient for foundation\n\tbearing_capacity_factor_surcharge_bottom_layer (float): Bearing capacity factor for surcharge of soil beneath foundation\n\tshape_factor_surcharge_bottom_layer (float): Shape factor for surcharge of soil beneath foundation\n\tbearing_capacity_factor_unit_weight_bottom_layer (float): Bearing capacity factor for unit weight of soil beneath foundation\n\tshape_factor_unit_weight (float): Shape factor for unit weight in bearing capacity\n\teffective_unit_weight_bottom_layer (float): Effective unit weight of soil beneath foundation\n\tultimate_bearing_capacity_limit (float): Limit for ultimate bearing capacity\n\tfooting_length (float): Footing length (large plan dimension)\n\n\nReturns:\n\tultimate_bearing_capacity (float): Ultimate bearing capacity of foundation\n\n',
        'get_ultimate_bearing_capacity_case3__meyerhof1978ultimate':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_ultimate\\_bearing\\_capacity\\_case3\\_\\_meyerhof1978ultimate}(B, c_α, S_{u\\ bottom}, σ_v\', H_{top}, Q_{ult\\ lim}, L, \\mathrm{footing\\_shape}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{footing\\_shape} = \\textrm{"continuous"} \\\\ \\hspace{2em} L \\gets \\mathrm{np}.\\mathrm{inf} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{footing\\_shape} \\in \\mathopen{}\\left( \\textrm{"square"}, \\textrm{"circular"} \\mathclose{}\\right) \\\\ \\hspace{3em} L \\gets B \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} Q_{ult} \\gets \\mathopen{}\\left( 1 + 0.2 \\frac{B}{L} \\mathclose{}\\right) \\cdot 5.14 S_{u\\ bottom} + \\mathopen{}\\left( 1 + \\frac{B}{L} \\mathclose{}\\right) \\frac{2 c_α \\cdot H_{top}}{B} + σ_v\' \\\\ \\hspace{1em} Q_{ult} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( Q_{ult}, \\mathrm{None}, Q_{ult\\ lim} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{ult} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tunit_adhesion (float): Unit adhesion for pile shaft\n\tundrained_shear_strength_bottom_layer (float): Undrained shear strength of clay beneath foundation\n\teffective_stress (float): Effective vertical stress in soil\n\tthickness_top_layer (float): Thickness of top soil layer from beneath foundation embedment\n\tultimate_bearing_capacity_limit (float): Limit for ultimate bearing capacity\n\tfooting_length (float): Footing length (large plan dimension)\n\tfooting_shape (str): Shape of footing\n\n\nReturns:\n\tultimate_bearing_capacity (float): Ultimate bearing capacity of foundation\n\n',
        'get_ultimate_bearing_capacity_limit_case1and2__meyerhof1978ultimate':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_ultimate\\_bearing\\_capacity\\_limit\\_case1and2\\_\\_meyerhof1978ultimate}(B, σ_v', γ', N_q, N_γ, s_q, s_γ) \\\\ \\hspace{1em} Q_{ult\\ lim} \\gets \\mathrm{get\\_ultimate\\_bearing\\_capacity\\_\\_vesic1975bearing} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} a \\gets 0 \\\\ \\hspace{1em} d_q \\gets 1 \\\\ \\hspace{1em} d_γ \\gets 1 \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{ult\\ lim} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\teffective_stress (float): Effective vertical stress in soil\n\teffective_unit_weight (float): Effective unit weight of soil\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\tbearing_capacity_factor_unit_weight (float): Bearing capacity factor for unit weight\n\tshape_factor_surcharge (float): Shape factor for surcharge in bearing capacity\n\tshape_factor_unit_weight (float): Shape factor for unit weight in bearing capacity\n\n\nReturns:\n\tultimate_bearing_capacity_limit (float): Limit for ultimate bearing capacity\n\n",
        'get_ultimate_bearing_capacity_limit_case3__meyerhof1978ultimate':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_ultimate\\_bearing\\_capacity\\_limit\\_case3\\_\\_meyerhof1978ultimate}(B, S_u, σ_v\', L, \\mathrm{footing\\_shape}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{footing\\_shape} = \\textrm{"continuous"} \\\\ \\hspace{2em} L \\gets \\mathrm{np}.\\mathrm{inf} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{footing\\_shape} \\in \\mathopen{}\\left( \\textrm{"square"}, \\textrm{"circular"} \\mathclose{}\\right) \\\\ \\hspace{3em} L \\gets B \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} Q_{ult\\ lim} \\gets \\mathopen{}\\left( 1 + 0.2 \\frac{B}{L} \\mathclose{}\\right) \\cdot 5.14 S_u + σ_v\' \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{ult\\ lim} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tfooting_length (float): Footing length (large plan dimension)\n\tfooting_shape (str): Shape of footing\n\n\nReturns:\n\tultimate_bearing_capacity_limit (float): Limit for ultimate bearing capacity\n\n',
        'get_unit_adhesion__meyerhof1978ultimate':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_adhesion\\_\\_meyerhof1978ultimate}(S_u, c_α/c_1) \\\\ \\hspace{1em} c_α \\gets S_u \\cdot c_α/c_1 \\\\ \\hspace{1em} \\mathbf{return} \\ c_α \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\tunit_adhesion_to_cohesion_ratio (float): Ratio of unit adhesion to unit cohesion\n\n\nReturns:\n\tunit_adhesion (float): Unit adhesion for pile shaft\n\n',
        'get_unit_adhesion_to_cohesion_ratio__meyerhof1978ultimate':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_adhesion\\_to\\_cohesion\\_ratio\\_\\_meyerhof1978ultimate}(S_u, S_{u\\ bottom}) \\\\ \\hspace{1em} {q_2}/{q_1} \\gets \\frac{S_{u\\ bottom}}{S_u} \\\\ \\hspace{1em} c_α/c_1 \\gets \\mathrm{UnitAdhesionToCohesionRatioMeyerhof1978Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( {q_2}/{q_1} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ c_α/c_1 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\tundrained_shear_strength_bottom_layer (float): Undrained shear strength of clay beneath foundation\n\n\nReturns:\n\tunit_adhesion_to_cohesion_ratio (float): Ratio of unit adhesion to unit cohesion\n\n'
    },
    'liquefaction': {
        'get_area_replacement_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_area\\_replacement\\_ratio}(\\mathrm{stone\\_column\\_arrangement}, D, S) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{stone\\_column\\_arrangement} = \\textrm{"triangular"} \\\\ \\hspace{2em} A_r \\gets 0.907 \\mathopen{}\\left( \\frac{D}{S} \\mathclose{}\\right)^{2} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{stone\\_column\\_arrangement} = \\textrm{"rectangular"} \\\\ \\hspace{3em} A_r \\gets \\mathrm{np}.\\pi \\cdot \\mathopen{}\\left( \\frac{0.5 D}{S} \\mathclose{}\\right)^{2} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} A_r \\gets \\mathrm{None} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ A_r \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstone_column_arrangement (str): Arrangement of stone columns\n\tstone_column_diameter (float): Diameter of stone column\n\tstone_column_spacing (float): Spacing between stone columns\n\n\nReturns:\n\tarea_replacement_ratio (float): Ratio of one column area to the unit cell area\n\n',
        'get_cyclic_resistance_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio}(CRR_{7.5}, MSF, K_σ, K_α, \\mathrm{is\\_potentially\\_liquefiable}) \\\\ \\hspace{1em} CRR \\gets CRR_{7.5} \\cdot K_σ \\cdot K_α \\cdot MSF \\\\ \\hspace{1em} CRR \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( CRR, \\mathrm{None}, 2 \\mathclose{}\\right) \\\\ \\hspace{1em} CRR \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( CRR \\mathclose{}\\right) \\mathbin{|} \\mathord{\\sim} \\mathrm{is\\_potentially\\_liquefiable}, 2, CRR \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ CRR \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcyclic_resistance_ratio_magnitude_7_5 (float): Cyclic resistance ratio adjusted to moment magnitude 7.5\n\tmagnitude_scaling_factor (float): Magnitude scaling factor for liquefaction\n\toverburden_correction_crr (float): Overburden correction factor for cyclic resistance ratio\n\tinitial_static_shear_correction (float): Correction for initial static shear stress ratio\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n\nReturns:\n\tcyclic_resistance_ratio (float): Cyclic resistance ratio for liquefaction\n\n',
        'get_cyclic_resistance_ratio__cetin2004standard':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio\\_\\_cetin2004standard}(N_{160}, σ_v\', FC, M_w, \\mathrm{is\\_potentially\\_liquefiable}) \\\\ \\hspace{1em} PL_{liq} \\gets 50 \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{theta1}, \\mathrm{theta2}, \\mathrm{theta3}, \\mathrm{theta4}, \\mathrm{theta5}, \\mathrm{theta6}, \\mathrm{theta\\_epsilon} \\mathclose{}\\right) \\gets \\mathrm{list} \\mathopen{}\\left( \\mathrm{ReferenceData}.\\mathrm{ModelCoefficientsCetin}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"theta"}, \\textrm{"2004"} \\mathclose{}\\right).\\mathrm{values} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} CRR \\gets \\exp \\mathopen{}\\left( \\frac{N_{160} \\cdot \\mathopen{}\\left( 1 + \\mathrm{theta1} \\cdot FC \\mathclose{}\\right) - \\mathrm{theta2} \\cdot \\log M_w - \\mathrm{theta3} \\cdot \\log \\mathopen{}\\left( \\frac{σ_v\'}{101.325} \\mathclose{}\\right) + \\mathrm{theta4} \\cdot FC + \\mathrm{theta5} + \\mathrm{theta\\_epsilon} \\cdot \\mathrm{norm} \\mathopen{}\\left( \\mathclose{}\\right).\\mathrm{ppf} \\mathopen{}\\left( \\frac{PL_{liq}}{100} \\mathclose{}\\right)}{\\mathrm{theta6}} \\mathclose{}\\right) \\\\ \\hspace{1em} CRR \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( CRR \\mathclose{}\\right) \\mathbin{|} \\mathord{\\sim} \\mathrm{is\\_potentially\\_liquefiable}, 2, CRR \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ CRR \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\teffective_stress (float): Effective vertical stress in soil\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tmoment_magnitude (float): Seismic moment magnitude\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n\nReturns:\n\tcyclic_resistance_ratio (float): Cyclic resistance ratio for liquefaction\n\n',
        'get_cyclic_resistance_ratio__cetin2018use':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio\\_\\_cetin2018use}(N_{160}, σ_v\', FC, M_w, \\mathrm{is\\_potentially\\_liquefiable}) \\\\ \\hspace{1em} PL_{liq} \\gets 50 \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{theta1}, \\mathrm{theta2}, \\mathrm{theta3}, \\mathrm{theta4}, \\mathrm{theta5}, \\mathrm{theta6}, \\mathrm{theta\\_epsilon} \\mathclose{}\\right) \\gets \\mathrm{list} \\mathopen{}\\left( \\mathrm{ReferenceData}.\\mathrm{ModelCoefficientsCetin}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"theta"}, \\textrm{"2018"} \\mathclose{}\\right).\\mathrm{values} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} CRR \\gets \\exp \\mathopen{}\\left( \\frac{N_{160} \\cdot \\mathopen{}\\left( 1 + \\mathrm{theta1} \\cdot FC \\mathclose{}\\right) - \\mathrm{theta2} \\cdot \\log M_w - \\mathrm{theta3} \\cdot \\log \\mathopen{}\\left( \\frac{σ_v\'}{101.325} \\mathclose{}\\right) + \\mathrm{theta4} \\cdot FC + \\mathrm{theta5} + \\mathrm{theta\\_epsilon} \\cdot \\mathrm{norm} \\mathopen{}\\left( \\mathclose{}\\right).\\mathrm{ppf} \\mathopen{}\\left( \\frac{PL_{liq}}{100} \\mathclose{}\\right)}{\\mathrm{theta6}} \\mathclose{}\\right) \\\\ \\hspace{1em} CRR \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( CRR \\mathclose{}\\right) \\mathbin{|} \\mathord{\\sim} \\mathrm{is\\_potentially\\_liquefiable}, 2, CRR \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ CRR \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\teffective_stress (float): Effective vertical stress in soil\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tmoment_magnitude (float): Seismic moment magnitude\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n\nReturns:\n\tcyclic_resistance_ratio (float): Cyclic resistance ratio for liquefaction\n\n',
        'get_cyclic_resistance_ratio__saye2021common':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio\\_\\_saye2021common}(CRR_{7.5}, MSF, \\mathrm{is\\_potentially\\_liquefiable}) \\\\ \\hspace{1em} K_σ \\gets 1 \\\\ \\hspace{1em} K_α \\gets 1 \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcyclic_resistance_ratio_magnitude_7_5 (float): Cyclic resistance ratio adjusted to moment magnitude 7.5\n\tmagnitude_scaling_factor (float): Magnitude scaling factor for liquefaction\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n\nReturns:\n\tcyclic_resistance_ratio (float): Cyclic resistance ratio for liquefaction\n\n',
        'get_cyclic_resistance_ratio_magnitude_7_5__cetin2018use':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio\\_magnitude\\_7\\_5\\_\\_cetin2018use}(CRR, MSF, K_σ, K_α, \\mathrm{is\\_potentially\\_liquefiable}) \\\\ \\hspace{1em} CRR_{7.5} \\gets \\frac{CRR}{K_σ \\cdot K_α \\cdot MSF} \\\\ \\hspace{1em} CRR_{7.5} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( CRR_{7.5}, \\mathrm{None}, 2 \\mathclose{}\\right) \\\\ \\hspace{1em} CRR_{7.5} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( CRR_{7.5} \\mathclose{}\\right) \\mathbin{|} \\mathord{\\sim} \\mathrm{is\\_potentially\\_liquefiable}, 2, CRR_{7.5} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ CRR_{7.5} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcyclic_resistance_ratio (float): Cyclic resistance ratio for liquefaction\n\tmagnitude_scaling_factor (float): Magnitude scaling factor for liquefaction\n\toverburden_correction_crr (float): Overburden correction factor for cyclic resistance ratio\n\tinitial_static_shear_correction (float): Correction for initial static shear stress ratio\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n\nReturns:\n\tcyclic_resistance_ratio_magnitude_7_5 (float): Cyclic resistance ratio adjusted to moment magnitude 7.5\n\n',
        'get_cyclic_resistance_ratio_magnitude_7_5_spt__idriss2006semi':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_resistance\\_ratio\\_magnitude\\_7\\_5\\_spt\\_\\_idriss2006semi}(N_{160cs}, \\mathrm{is\\_potentially\\_liquefiable}) \\\\ \\hspace{1em} CRR_{7.5} \\gets \\exp \\mathopen{}\\left( \\frac{N_{160cs}}{14.1} + \\mathopen{}\\left( \\frac{N_{160cs}}{126} \\mathclose{}\\right)^{2} - \\mathopen{}\\left( \\frac{N_{160cs}}{23.6} \\mathclose{}\\right)^{3} + \\mathopen{}\\left( \\frac{N_{160cs}}{25.4} \\mathclose{}\\right)^{4} - 2.8 \\mathclose{}\\right) \\\\ \\hspace{1em} CRR_{7.5} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathopen{}\\left( N_{160cs} \\ge 37.5 \\mathclose{}\\right) \\mathbin{|} \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( CRR_{7.5} \\mathclose{}\\right) \\mathbin{|} \\mathord{\\sim} \\mathrm{is\\_potentially\\_liquefiable}, 2, CRR_{7.5} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ CRR_{7.5} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n\nReturns:\n\tcyclic_resistance_ratio_magnitude_7_5 (float): Cyclic resistance ratio adjusted to moment magnitude 7.5\n\n',
        'get_cyclic_stress_ratio':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_stress\\_ratio}(PGA, σ_v, σ_v', r_d, sc_{present}, K_G) \\\\ \\hspace{1em} CSR \\gets 0.65 PGA \\frac{σ_v}{σ_v'} \\cdot r_d \\\\ \\hspace{1em} CSR \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( CSR \\mathclose{}\\right) \\\\ \\hspace{1em} sc_{present} \\gets \\mathrm{np}.\\mathrm{broadcast\\_to} \\mathopen{}\\left( sc_{present}, CSR.\\mathrm{shape} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( CSR, sc_{present}, CSR \\cdot K_G \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ CSR \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpeak_ground_acceleration (float): Peak ground acceleration for seismic analysis\n\ttotal_stress (float): Total vertical stress in soil\n\teffective_stress (float): Effective vertical stress in soil\n\tshear_stress_reduction_coefficient (float): Shear stress reduction coefficient for liquefaction\n\tstone_column_is_present (bool): Indicates presence of stone column\n\tshear_stress_reduction_factor (float): Shear stress reduction factor for stone columns\n\n\nReturns:\n\tcyclic_stress_ratio (float): Cyclic stress ratio for liquefaction\n\n",
        'get_cyclic_stress_ratio_ss_20_1d_1atm__cetin2009probabilistica':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cyclic\\_stress\\_ratio\\_ss\\_20\\_1d\\_1atm\\_\\_cetin2009probabilistica}(CSR, K_σ, K_{mc}, K_r) \\\\ \\hspace{1em} CSR_{SS,20,1D,1atm} \\gets CSR \\cdot K_σ \\cdot K_{mc} \\cdot K_r \\\\ \\hspace{1em} \\mathbf{return} \\ CSR_{SS,20,1D,1atm} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcyclic_stress_ratio (float): Cyclic stress ratio for liquefaction\n\toverburden_correction_crr (float): Overburden correction factor for cyclic resistance ratio\n\tmembrane_compliance_correction (float): Correction factor for membrane compliance in DMT\n\ttriaxial_planes_correction (float): Correction for shearing of incorrect planes in cyclic triaxial test\n\n\nReturns:\n\tcyclic_stress_ratio_ss_20_1d_1atm (float): CSR value corresponding to a 1 dimensional, 20 uniform loading cycles simple shear test under a confinement pressure of 1 atm\n\n',
        'get_initial_static_shear_correction':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_initial\\_static\\_shear\\_correction}() \\\\ \\hspace{1em} K_α \\gets 1 \\\\ \\hspace{1em} \\mathbf{return} \\ K_α \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\n\nReturns:\n\tinitial_static_shear_correction (float): Correction for initial static shear stress ratio\n\n',
        'get_is_potentially_liquefiable':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_is\\_potentially\\_liquefiable}(\\mathrm{below\\_water\\_table}, z, LIQ_{max\\ z}, \\mathrm{soil\\_type}, \\mathrm{exclude\\_clay\\_like\\_sands}, \\mathrm{uscs\\_symbol}, FC, PI) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( LIQ_{max\\ z} \\mathclose{}\\right) \\\\ \\hspace{2em} LIQ_{max\\ z} \\gets \\mathrm{np}.\\mathrm{inf} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{is\\_potentially\\_liquefiable} \\gets \\mathrm{below\\_water\\_table} \\mathbin{\\&} \\mathopen{}\\left( z \\le LIQ_{max\\ z} \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( \\mathrm{soil\\_type} = \\textrm{"Sand"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{is\\_potentially\\_liquefiable} \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( \\mathrm{is\\_potentially\\_liquefiable} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{exclude\\_clay\\_like\\_sands} \\\\ \\hspace{2em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( \\mathrm{is\\_potentially\\_liquefiable}, \\mathopen{}\\left( \\mathrm{uscs\\_symbol} = \\textrm{"SC"} \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( FC > 35 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( PI > 12 \\mathclose{}\\right), \\mathrm{False} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{is\\_potentially\\_liquefiable} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tbelow_water_table (bool): Indicates if soil layer is below water table\n\tdepth (float): Depth below ground surface to bottom of layer\n\tliquefaction_max_depth (float): Maximum depth for liquefaction analysis\n\tsoil_type (str): Primary soil type description\n\texclude_clay_like_sands (bool): Ignores clayey sands (SC) with FC > 35% and PI > 12% for SPT-based liquefaction\n\tuscs_symbol (str): Unified Soil Classification System symbol\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tplasticity_index (float): Plasticity index of soil\n\n\nReturns:\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n',
        'get_is_potentially_liquefiable_thickness':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_is\\_potentially\\_liquefiable\\_thickness}(H, \\mathrm{is\\_potentially\\_liquefiable}) \\\\ \\hspace{1em} \\textrm{" calculated as the consecutive runs of potentially liquefiable layers thickness "} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{ndim} \\mathopen{}\\left( \\mathrm{is\\_potentially\\_liquefiable} \\mathclose{}\\right) = 0 \\\\ \\hspace{2em} \\mathbf{return} \\ \\left\\{ \\begin{array}{ll} H, & \\mathrm{if} \\ \\mathrm{is\\_potentially\\_liquefiable} \\\\ 0, & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{is\\_potentially\\_liquefiable\\_thickness} \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( H, 0 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{run\\_values}, \\mathrm{run\\_starts}, \\mathrm{run\\_lengths} \\mathclose{}\\right) \\gets \\mathrm{find\\_runs} \\mathopen{}\\left( \\mathrm{is\\_potentially\\_liquefiable} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathopen{}\\left( \\mathrm{value}, \\mathrm{starts}, \\mathrm{length} \\mathclose{}\\right) \\in \\mathrm{zip} \\mathopen{}\\left( \\mathrm{run\\_values}, \\mathrm{run\\_starts}, \\mathrm{run\\_lengths} \\mathclose{}\\right) \\ \\mathbf{do} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{value} \\\\ \\hspace{3em} \\mathrm{ends} \\gets \\mathrm{starts} + \\mathrm{length} \\\\ \\hspace{3em} \\mathrm{indices} \\gets \\mathrm{np}.\\mathrm{arange} \\mathopen{}\\left( \\mathrm{starts}, \\mathrm{ends} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{is\\_potentially\\_liquefiable\\_thickness}_{\\mathrm{indices}} \\gets \\sum \\mathrm{thickness}_{\\mathrm{indices}} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{is\\_potentially\\_liquefiable\\_thickness} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tthickness (float): Thickness of soil layer\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n\nReturns:\n\tis_potentially_liquefiable_thickness (float): Thickness of potentially liquefiable group\n\n',
        'get_is_t15_liquefiable_layers':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_is\\_t15\\_liquefiable\\_layers}(\\mathrm{is\\_potentially\\_liquefiable}, N_{160}, LD_{potential}) \\\\ \\hspace{1em} T_{15\\ flag} \\gets \\mathrm{is\\_potentially\\_liquefiable} \\mathbin{\\&} \\mathopen{}\\left( N_{160} < 15 \\mathclose{}\\right) \\mathbin{\\&} LD_{potential} \\\\ \\hspace{1em} \\mathbf{return} \\ T_{15\\ flag} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\tlateral_displacement_potential (bool): Applies when liquefiable group thickness >= min thickness\n\n\nReturns:\n\tis_t15_liquefiable_layers (bool): Liquefiable layers with N_160 < 15\n\n',
        'get_lateral_displacement_inc__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_lateral\\_displacement\\_inc\\_\\_idriss2008soil}(z) \\\\ \\hspace{1em} LD_i \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( z, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ LD_i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\n\nReturns:\n\tlateral_spread_displacement_inc (float): Incremental lateral spread displacement\n\n',
        'get_lateral_displacement_index':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_lateral\\_displacement\\_index}(LDI_i) \\\\ \\hspace{1em} LDI \\gets \\mathrm{reverse\\_cumsum} \\mathopen{}\\left( LDI_i \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ LDI \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tlateral_displacement_index_inc (float): Incremental lateral displacement index\n\n\nReturns:\n\tlateral_displacement_index (float): Lateral displacement index for liquefaction\n\n',
        'get_lateral_displacement_index_inc':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_lateral\\_displacement\\_index\\_inc}(γ_{max}, H, LD_{potential}) \\\\ \\hspace{1em} LDI_i \\gets \\frac{γ_{max}}{100} \\cdot H \\\\ \\hspace{1em} LDI_i \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( LD_{potential}, LDI_i, 0 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ LDI_i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmax_shear_strain (float): Maximum shear strain in soil\n\tthickness (float): Thickness of soil layer\n\tlateral_displacement_potential (bool): Applies when liquefiable group thickness >= min thickness\n\n\nReturns:\n\tlateral_displacement_index_inc (float): Incremental lateral displacement index\n\n',
        'get_lateral_displacement_index_sum':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_lateral\\_displacement\\_index\\_sum}(LDI_i) \\\\ \\hspace{1em} ΣLDI \\gets \\sum LDI_i \\\\ \\hspace{1em} \\mathbf{return} \\ ΣLDI \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tlateral_displacement_index_inc (float): Incremental lateral displacement index\n\n\nReturns:\n\tlateral_displacement_index_sum (float): Sum of lateral displacement indices\n\n',
        'get_lateral_displacement_potential':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_lateral\\_displacement\\_potential}(\\mathrm{is\\_potentially\\_liquefiable\\_thickness}, LD_{min\\ thickness}) \\\\ \\hspace{1em} LD_{potential} \\gets \\mathrm{is\\_potentially\\_liquefiable\\_thickness} \\ge LD_{min\\ thickness} \\\\ \\hspace{1em} \\mathbf{return} \\ LD_{potential} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tis_potentially_liquefiable_thickness (float): Thickness of potentially liquefiable group\n\tlateral_displacement_min_thickness (float): Minimum thickness for lateral displacement (Youd: 1.0 m, Zhang: 0.6 m)\n\n\nReturns:\n\tlateral_displacement_potential (bool): Applies when liquefiable group thickness >= min thickness\n\n',
        'get_lateral_spread_displacement':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_lateral\\_spread\\_displacement}(LD_i) \\\\ \\hspace{1em} LD \\gets \\mathrm{reverse\\_cumsum} \\mathopen{}\\left( LD_i \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ LD \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tlateral_spread_displacement_inc (float): Incremental lateral spread displacement\n\n\nReturns:\n\tlateral_spread_displacement (float): Lateral spread displacement due to liquefaction\n\n',
        'get_lateral_spread_displacement_inc__youd2002revised':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_lateral\\_spread\\_displacement\\_inc\\_\\_youd2002revised}(\\mathrm{site\\_ground\\_condition}, M_w, R, LD_{potential}, T_{15\\ flag}, FC, D_{50}, H, S, H, L, LD_{scalar}) \\\\ \\hspace{1em} \\mathrm{site\\_ground\\_condition} \\gets \\mathrm{site\\_ground\\_condition}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} LD_i \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{site\\_ground\\_condition} = \\textrm{"level\\_ground"} \\\\ \\hspace{2em} \\mathbf{if} \\ \\lnot LD_{scalar} \\\\ \\hspace{3em} LD_i \\gets \\mathrm{np}.\\mathrm{zeros\\_like} \\mathopen{}\\left( H \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} LD_i \\gets 0 \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{return} \\ LD_i \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathopen{}\\left( T_{15}, FC_{T15}, D_{50T15} \\mathclose{}\\right) \\gets \\mathrm{get\\_youd2002revised\\_t15\\_parameters} \\mathopen{}\\left( T_{15\\ flag}, FC, D_{50}, H, LD_{scalar} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{site\\_ground\\_condition} = \\textrm{"sloping\\_ground"} \\\\ \\hspace{3em} \\mathbf{if} \\ \\lnot \\mathopen{}\\left( 0.1 \\le S \\le 6 \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"ground\\_slope must be between 0.1 to 6 \\%"} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{3em} LD_i \\gets 10^{-16.213 + 1.532 M_w - 1.406 \\log_{10} \\mathopen{}\\left( 10^{0.89 M_w - 5.64} + R \\mathclose{}\\right) - 0.012 R + 0.338 \\log_{10} S + 0.54 \\log_{10} T_{15} + 3.413 \\log_{10} \\mathopen{}\\left( 100.0 - FC_{T15} \\mathclose{}\\right) - 0.795 \\log_{10} \\mathopen{}\\left( D_{50T15} + 0.1 \\mathclose{}\\right)} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ \\mathrm{site\\_ground\\_condition} = \\textrm{"free\\_face"} \\\\ \\hspace{4em} \\mathbf{if} \\ \\lnot \\mathopen{}\\left( 1 \\le 100 \\frac{H}{L} \\le 20 \\mathclose{}\\right) \\\\ \\hspace{5em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"free\\_face\\_height / free\\_face\\_length must be between 1 to 20 \\%"} \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{4em} LD_i \\gets 10^{-16.713 + 1.532 M_w - 1.406 \\log_{10} \\mathopen{}\\left( 10^{0.89 M_w - 5.64} + R \\mathclose{}\\right) - 0.012 R + 0.592 \\log_{10} \\mathopen{}\\left( 100 \\frac{H}{L} \\mathclose{}\\right) + 0.54 \\log_{10} T_{15} + 3.413 \\log_{10} \\mathopen{}\\left( 100 - FC_{T15} \\mathclose{}\\right) - 0.795 \\log_{10} \\mathopen{}\\left( D_{50T15} + 0.1 \\mathclose{}\\right)} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{if} \\ \\lnot LD_{scalar} \\\\ \\hspace{3em} LD_i \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( LD_i \\mathclose{}\\right) \\\\ \\hspace{3em} LD_i \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( LD_{potential}, LD_i, 0 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ LD_i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsite_ground_condition (str): Description of site ground condition\n\tmoment_magnitude (float): Seismic moment magnitude\n\tsite_to_seismic_source_distance (float): Horizontal distance to nearest seismic energy source\n\tlateral_displacement_potential (bool): Applies when liquefiable group thickness >= min thickness\n\tis_t15_liquefiable_layers (bool): Liquefiable layers with N_160 < 15\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tdiameter_at_50_percent_finer (float): Diameter at 50% finer from sieve analysis\n\tthickness (float): Thickness of soil layer\n\tground_slope (float): Slope of ground surface\n\tfree_face_height (float): Height of free face for lateral spreading analysis\n\tfree_face_length (float): Distance from base of free face to point of interest\n\tlateral_spread_displacement_as_scalar (bool): If disabled, calculates lateral displacement for each depth\n\n\nReturns:\n\tlateral_spread_displacement_inc (float): Incremental lateral spread displacement\n\n',
        'get_lateral_spread_displacement_inc__zhang2004estimating':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_lateral\\_spread\\_displacement\\_inc\\_\\_zhang2004estimating}(\\mathrm{site\\_ground\\_condition}, LDI_i, S, H, L) \\\\ \\hspace{1em} \\mathrm{site\\_ground\\_condition} \\gets \\mathrm{site\\_ground\\_condition}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} LD_{ratio} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{site\\_ground\\_condition} = \\textrm{"level\\_ground"} \\\\ \\hspace{2em} LD_{ratio} \\gets \\mathrm{np}.\\mathrm{zeros\\_like} \\mathopen{}\\left( LDI_i \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{site\\_ground\\_condition} = \\textrm{"sloping\\_ground"} \\\\ \\hspace{3em} \\mathbf{if} \\ \\lnot \\mathopen{}\\left( 0.2 < S < 3.5 \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"ground\\_slope must be between 0.2 to 3.5 \\%"} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{3em} LD_{ratio} \\gets S + 0.2 \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ \\mathrm{site\\_ground\\_condition} = \\textrm{"free\\_face"} \\\\ \\hspace{4em} \\mathbf{if} \\ \\lnot \\mathopen{}\\left( 4 < \\frac{L}{H} < 40 \\mathclose{}\\right) \\\\ \\hspace{5em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"free\\_face\\_height / free\\_face\\_length must be between 4 to 40"} \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{4em} LD_{ratio} \\gets 6 \\mathopen{}\\left( \\frac{L}{H} \\mathclose{}\\right)^{-0.8} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} LD_i \\gets LDI_i \\cdot LD_{ratio} \\\\ \\hspace{1em} \\mathbf{return} \\ LD_i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsite_ground_condition (str): Description of site ground condition\n\tlateral_displacement_index_inc (float): Incremental lateral displacement index\n\tground_slope (float): Slope of ground surface\n\tfree_face_height (float): Height of free face for lateral spreading analysis\n\tfree_face_length (float): Distance from base of free face to point of interest\n\n\nReturns:\n\tlateral_spread_displacement_inc (float): Incremental lateral spread displacement\n\n',
        'get_lateral_spread_displacement_sum':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_lateral\\_spread\\_displacement\\_sum}(LD_i) \\\\ \\hspace{1em} ΣLD \\gets \\sum LD_i \\\\ \\hspace{1em} \\mathbf{return} \\ ΣLD \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tlateral_spread_displacement_inc (float): Incremental lateral spread displacement\n\n\nReturns:\n\tlateral_spread_displacement_sum (float): Sum of lateral spread displacements\n\n',
        'get_liquefaction_building_settlement_index__bray2017simplified':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_building\\_settlement\\_index\\_\\_bray2017simplified}(D_f, γ_{max}, z, H) \\\\ \\hspace{1em} z_{middle} \\gets \\mathrm{get\\_depth\\_middle} \\mathopen{}\\left( z, H \\mathclose{}\\right) \\\\ \\hspace{1em} W \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( z < D_f, 0, 1 \\mathclose{}\\right) \\\\ \\hspace{1em} LBS \\gets \\sum \\mathopen{}\\left( W \\frac{γ_{max}}{z_{middle}} \\cdot H \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ LBS \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_embedment (float): Depth of footing embedment\n\tmax_shear_strain (float): Maximum shear strain in soil\n\tdepth (float): Depth below ground surface to bottom of layer\n\tthickness (float): Thickness of soil layer\n\n\nReturns:\n\tliquefaction_building_settlement_index (float): Liquefaction-induced building settlement index\n\n',
        'get_liquefaction_potential_index':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_potential\\_index}(LPI_i) \\\\ \\hspace{1em} LPI \\gets \\mathrm{reverse\\_cumsum} \\mathopen{}\\left( LPI_i \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ LPI \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_potential_index_inc (float): Incremental liquefaction potential index\n\n\nReturns:\n\tliquefaction_potential_index (float): Liquefaction potential index for site\n\n',
        'get_liquefaction_potential_index_inc':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_potential\\_index\\_inc}(FS_{liq}, z, H, ΣLPI_{method}, H_1) \\\\ \\hspace{1em} LPI_i \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ ΣLPI_{method} = \\textrm{"iwasaki1978"} \\\\ \\hspace{2em} LPI_i \\gets \\mathrm{get\\_liquefaction\\_potential\\_index\\_inc\\_\\_iwasaki1978practical} \\mathopen{}\\left( FS_{liq}, z, H \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ ΣLPI_{method} = \\textrm{"maurer2015"} \\\\ \\hspace{3em} LPI_i \\gets \\mathrm{get\\_liquefaction\\_potential\\_index\\_inc\\_\\_maurer2015moving} \\mathopen{}\\left( FS_{liq}, z, H, H_1 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ LPI_i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\tdepth (float): Depth below ground surface to bottom of layer\n\tthickness (float): Thickness of soil layer\n\tliquefaction_potential_index_method (str): Liquefaction potential index method\n\tthickness_non_liquefiable_layer (float): Thickness of non-liquefiable surface layer\n\n\nReturns:\n\tliquefaction_potential_index_inc (float): Incremental liquefaction potential index\n\n',
        'get_liquefaction_potential_index_inc__iwasaki1978practical':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_potential\\_index\\_inc\\_\\_iwasaki1978practical}(FS_{liq}, z, H) \\\\ \\hspace{1em} LPI_i \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( FS_{liq} \\le 1, 1 - FS_{liq}, 0 \\mathclose{}\\right) \\cdot \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( z \\le 20, 10 - 0.5 z, 0 \\mathclose{}\\right) H \\\\ \\hspace{1em} LPI_i \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( LPI_i \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ LPI_i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\tdepth (float): Depth below ground surface to bottom of layer\n\tthickness (float): Thickness of soil layer\n\n\nReturns:\n\tliquefaction_potential_index_inc (float): Incremental liquefaction potential index\n\n',
        'get_liquefaction_potential_index_inc__maurer2015moving':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_potential\\_index\\_inc\\_\\_maurer2015moving}(FS_{liq}, z, H, H_1) \\\\ \\hspace{1em} \\mathrm{m\\_i} \\gets \\exp \\mathopen{}\\left( \\frac{5}{25.56 \\mathopen{}\\left( 1 - FS_{liq} \\mathclose{}\\right)} \\mathclose{}\\right) - 1 \\\\ \\hspace{1em} H_1 \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( H_1, 0.4, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} LPI_i \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathopen{}\\left( FS_{liq} \\le 1 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( H_1 \\cdot \\mathrm{m\\_i} \\le 3 \\mathclose{}\\right), 1 - FS_{liq}, 0 \\mathclose{}\\right) \\cdot \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( z \\le 20, \\frac{25.56}{z}, 0 \\mathclose{}\\right) H \\\\ \\hspace{1em} LPI_i \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( LPI_i \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ LPI_i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\tdepth (float): Depth below ground surface to bottom of layer\n\tthickness (float): Thickness of soil layer\n\tthickness_non_liquefiable_layer (float): Thickness of non-liquefiable surface layer\n\n\nReturns:\n\tliquefaction_potential_index_inc (float): Incremental liquefaction potential index\n\n',
        'get_liquefaction_potential_index_sum':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_potential\\_index\\_sum}(LPI_i) \\\\ \\hspace{1em} ΣLPI \\gets \\sum LPI_i \\\\ \\hspace{1em} \\mathbf{return} \\ ΣLPI \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_potential_index_inc (float): Incremental liquefaction potential index\n\n\nReturns:\n\tliquefaction_potential_index_sum (float): Sum of liquefaction potential indices\n\n',
        'get_liquefaction_potential_index_sum_label':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_potential\\_index\\_sum\\_label}(ΣLPI) \\\\ \\hspace{1em} ΣLPI_{label} \\gets \\mathrm{PARAMETERS}_{\\textrm{"liquefaction\\_potential\\_index\\_sum"}}.\\mathrm{data\\_bins}_{\\textrm{"liquefaction\\_potential\\_index\\_sum\\_label"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( ΣLPI \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ΣLPI_{label} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_potential_index_sum (float): Sum of liquefaction potential indices\n\n\nReturns:\n\tliquefaction_potential_index_sum_label (str): Label for sum of liquefaction potential indices\n\n',
        'get_liquefaction_probability__boulanger2014cpt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_probability\\_\\_boulanger2014cpt}(FS_{liq}) \\\\ \\hspace{1em} PL_{liq} \\gets 100 \\mathopen{}\\left( 1 - \\mathrm{norm} \\mathopen{}\\left( \\mathclose{}\\right).\\mathrm{cdf} \\mathopen{}\\left( \\frac{0.2 + \\log FS_{liq}}{0.2} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} PL_{liq} \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( PL_{liq} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( PL_{liq}, FS_{liq} \\ge 2, 0 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ PL_{liq} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\n\nReturns:\n\tliquefaction_probability (float): Probability of liquefaction occurrence\n\n',
        'get_liquefaction_probability__cetin2004standard':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_probability\\_\\_cetin2004standard}(N_{160}, σ_v\', FC, M_w, CSR, \\mathrm{is\\_potentially\\_liquefiable}) \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{theta1}, \\mathrm{theta2}, \\mathrm{theta3}, \\mathrm{theta4}, \\mathrm{theta5}, \\mathrm{theta6}, \\mathrm{sigma\\_epsilon} \\mathclose{}\\right) \\gets \\mathrm{list} \\mathopen{}\\left( \\mathrm{ReferenceData}.\\mathrm{ModelCoefficientsCetin}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"theta"}, \\textrm{"2004"} \\mathclose{}\\right).\\mathrm{values} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} FC \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( FC, 5, 35 \\mathclose{}\\right) \\\\ \\hspace{1em} PL_{liq} \\gets 100 \\mathrm{norm} \\mathopen{}\\left( \\mathclose{}\\right).\\mathrm{cdf} \\mathopen{}\\left( \\frac{-\\mathopen{}\\left( N_{160} \\cdot \\mathopen{}\\left( 1 + \\mathrm{theta1} \\cdot FC \\mathclose{}\\right) - \\mathrm{theta6} \\cdot \\log CSR - \\mathrm{theta2} \\cdot \\log M_w - \\mathrm{theta3} \\cdot \\log \\mathopen{}\\left( \\frac{σ_v\'}{101.325} \\mathclose{}\\right) + \\mathrm{theta4} \\cdot FC + \\mathrm{theta5} \\mathclose{}\\right)}{\\mathrm{sigma\\_epsilon}} \\mathclose{}\\right) \\\\ \\hspace{1em} PL_{liq} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( PL_{liq} \\mathclose{}\\right) \\mathbin{|} \\mathord{\\sim} \\mathrm{is\\_potentially\\_liquefiable}, 0, PL_{liq} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ PL_{liq} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\teffective_stress (float): Effective vertical stress in soil\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tmoment_magnitude (float): Seismic moment magnitude\n\tcyclic_stress_ratio (float): Cyclic stress ratio for liquefaction\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n\nReturns:\n\tliquefaction_probability (float): Probability of liquefaction occurrence\n\n',
        'get_liquefaction_probability__cetin2018use':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_probability\\_\\_cetin2018use}(N_{160}, σ_v\', FC, M_w, CSR, \\mathrm{is\\_potentially\\_liquefiable}) \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{theta1}, \\mathrm{theta2}, \\mathrm{theta3}, \\mathrm{theta4}, \\mathrm{theta5}, \\mathrm{theta6}, \\mathrm{sigma\\_epsilon} \\mathclose{}\\right) \\gets \\mathrm{list} \\mathopen{}\\left( \\mathrm{ReferenceData}.\\mathrm{ModelCoefficientsCetin}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"theta"}, \\textrm{"2018"} \\mathclose{}\\right).\\mathrm{values} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} FC \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( FC, 5, 35 \\mathclose{}\\right) \\\\ \\hspace{1em} PL_{liq} \\gets 100 \\mathrm{norm} \\mathopen{}\\left( \\mathclose{}\\right).\\mathrm{cdf} \\mathopen{}\\left( \\frac{-\\mathopen{}\\left( N_{160} \\cdot \\mathopen{}\\left( 1 + \\mathrm{theta1} \\cdot FC \\mathclose{}\\right) - \\mathrm{theta6} \\cdot \\log CSR - \\mathrm{theta2} \\cdot \\log M_w - \\mathrm{theta3} \\cdot \\log \\mathopen{}\\left( \\frac{σ_v\'}{101.325} \\mathclose{}\\right) + \\mathrm{theta4} \\cdot FC + \\mathrm{theta5} \\mathclose{}\\right)}{\\mathrm{sigma\\_epsilon}} \\mathclose{}\\right) \\\\ \\hspace{1em} PL_{liq} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( PL_{liq} \\mathclose{}\\right) \\mathbin{|} \\mathord{\\sim} \\mathrm{is\\_potentially\\_liquefiable}, 0, PL_{liq} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ PL_{liq} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\teffective_stress (float): Effective vertical stress in soil\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tmoment_magnitude (float): Seismic moment magnitude\n\tcyclic_stress_ratio (float): Cyclic stress ratio for liquefaction\n\tis_potentially_liquefiable (bool): Indicates if soil is potentially liquefiable\n\n\nReturns:\n\tliquefaction_probability (float): Probability of liquefaction occurrence\n\n',
        'get_liquefaction_probability__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_probability\\_\\_idriss2008soil}(FS_{liq}) \\\\ \\hspace{1em} PL_{liq} \\gets 100 \\mathopen{}\\left( 1 - \\mathrm{norm} \\mathopen{}\\left( \\mathclose{}\\right).\\mathrm{cdf} \\mathopen{}\\left( \\frac{0 + \\log FS_{liq}}{0.13} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} PL_{liq} \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( PL_{liq} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( PL_{liq}, FS_{liq} \\ge 2, 0 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ PL_{liq} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\n\nReturns:\n\tliquefaction_probability (float): Probability of liquefaction occurrence\n\n',
        'get_liquefaction_probability__ku2012probabilistic':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_probability\\_\\_ku2012probabilistic}(FS_{liq}) \\\\ \\hspace{1em} PL_{liq} \\gets 100 \\mathopen{}\\left( 1 - \\mathrm{norm} \\mathopen{}\\left( \\mathclose{}\\right).\\mathrm{cdf} \\mathopen{}\\left( \\frac{0.102 + \\log FS_{liq}}{0.276} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ PL_{liq} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\n\nReturns:\n\tliquefaction_probability (float): Probability of liquefaction occurrence\n\n',
        'get_liquefaction_safety_factor':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_safety\\_factor}(CRR, CSR) \\\\ \\hspace{1em} FS_{liq} \\gets \\frac{CRR}{CSR} \\\\ \\hspace{1em} FS_{liq} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( FS_{liq}, \\mathrm{None}, 2 \\mathclose{}\\right) \\\\ \\hspace{1em} FS_{liq} \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( FS_{liq} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ FS_{liq} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcyclic_resistance_ratio (float): Cyclic resistance ratio for liquefaction\n\tcyclic_stress_ratio (float): Cyclic stress ratio for liquefaction\n\n\nReturns:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\n',
        'get_liquefaction_settlement':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_settlement}(S_{v-1D\\ i}) \\\\ \\hspace{1em} S_{v-1D} \\gets \\mathrm{reverse\\_cumsum} \\mathopen{}\\left( S_{v-1D\\ i} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ S_{v-1D} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_settlement_inc (float): Incremental post-liquefaction vertical settlement\n\n\nReturns:\n\tliquefaction_settlement (float): Post-liquefaction vertical unidimensional settlement\n\n',
        'get_liquefaction_settlement_inc':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_settlement\\_inc}(ε_v, H) \\\\ \\hspace{1em} S_{v-1D\\ i} \\gets \\frac{ε_v}{100} \\cdot H \\\\ \\hspace{1em} \\mathbf{return} \\ S_{v-1D\\ i} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvolumetric_strain (float): Volumetric strain in soil\n\tthickness (float): Thickness of soil layer\n\n\nReturns:\n\tliquefaction_settlement_inc (float): Incremental post-liquefaction vertical settlement\n\n',
        'get_liquefaction_settlement_sum':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_settlement\\_sum}(S_{v-1D\\ i}) \\\\ \\hspace{1em} ΣS_{v-1D} \\gets \\sum S_{v-1D\\ i} \\\\ \\hspace{1em} \\mathbf{return} \\ ΣS_{v-1D} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_settlement_inc (float): Incremental post-liquefaction vertical settlement\n\n\nReturns:\n\tliquefaction_settlement_sum (float): Sum of post-liquefaction vertical settlements\n\n',
        'get_liquefaction_severity_number':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_severity\\_number}(LSN_i) \\\\ \\hspace{1em} LSN \\gets \\mathrm{reverse\\_cumsum} \\mathopen{}\\left( LSN_i \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ LSN \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_severity_number_inc (float): Incremental liquefaction severity number\n\n\nReturns:\n\tliquefaction_severity_number (float): Liquefaction severity number for site\n\n',
        'get_liquefaction_severity_number_inc__van2014assessment':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_severity\\_number\\_inc\\_\\_van2014assessment}(ε_v, z, H, LSN_{max\\ z}) \\\\ \\hspace{1em} LSN_{max\\ z} \\gets LSN_{max\\ z}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} LSN_i \\gets 1000 \\frac{\\frac{ε_v}{100}}{z} \\cdot H \\\\ \\hspace{1em} LSN_i \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( LSN_i \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{flag} \\gets z > LSN_{max\\ z} \\\\ \\hspace{1em} \\mathrm{flag} \\gets \\mathrm{np}.\\mathrm{broadcast\\_to} \\mathopen{}\\left( \\mathrm{flag}, LSN_i.\\mathrm{shape} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( LSN_i, \\mathrm{flag}, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} LSN_i \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( LSN_i \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ LSN_i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvolumetric_strain (float): Volumetric strain in soil\n\tdepth (float): Depth below ground surface to bottom of layer\n\tthickness (float): Thickness of soil layer\n\tliquefaction_severity_number_max_depth (float): Maximum depth for liquefaction severity number analysis\n\n\nReturns:\n\tliquefaction_severity_number_inc (float): Incremental liquefaction severity number\n\n',
        'get_liquefaction_severity_number_sum':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_severity\\_number\\_sum}(LSN_i) \\\\ \\hspace{1em} ΣLSN \\gets \\sum LSN_i \\\\ \\hspace{1em} \\mathbf{return} \\ ΣLSN \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_severity_number_inc (float): Incremental liquefaction severity number\n\n\nReturns:\n\tliquefaction_severity_number_sum (float): Sum of liquefaction severity numbers\n\n',
        'get_liquefaction_severity_number_sum_label':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_severity\\_number\\_sum\\_label}(ΣLSN) \\\\ \\hspace{1em} ΣLSN_{label} \\gets \\mathrm{PARAMETERS}_{\\textrm{"liquefaction\\_severity\\_number\\_sum"}}.\\mathrm{data\\_bins}_{\\textrm{"liquefaction\\_severity\\_number\\_sum\\_label"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( ΣLSN \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ΣLSN_{label} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_severity_number_sum (float): Sum of liquefaction severity numbers\n\n\nReturns:\n\tliquefaction_severity_number_sum_label (str): Label for sum of liquefaction severity numbers\n\n',
        'get_liquefaction_shear_induced_building_settlement__bray2017simplified':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_shear\\_induced\\_building\\_settlement\\_\\_bray2017simplified}(B, H_2, LBS, CAV_{STD}, Sa_1, Q) \\\\ \\hspace{1em} \\epsilon \\gets 0 \\\\ \\hspace{1em} \\mathbf{if} \\ LBS \\le 16 \\\\ \\hspace{2em} \\mathrm{c1} \\gets -8.35 \\\\ \\hspace{2em} \\mathrm{c2} \\gets 0.072 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathrm{c1} \\gets -7.48 \\\\ \\hspace{2em} \\mathrm{c2} \\gets 0.014 \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} D_s \\gets \\exp \\mathopen{}\\left( \\mathrm{c1} + 4.59 \\log Q - 0.42 \\mathopen{}\\left( \\log Q \\mathclose{}\\right)^{2} + \\mathrm{c2} \\cdot LBS + 0.58 \\log \\tanh \\mathopen{}\\left( \\frac{H_2}{6} \\mathclose{}\\right) - 0.02 B + 0.84 \\log CAV_{STD} + 0.41 \\log Sa_1 + \\epsilon \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ D_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\tthickness_liquefiable_layer (float): Thickness of liquefiable sand layer\n\tliquefaction_building_settlement_index (float): Liquefaction-induced building settlement index\n\tstandardized_cumulative_absolute_velocity (float): Standardized cumulative absolute velocity\n\tspectral_acceleration_at_1_sec (float): Spectral acceleration at 1-second period\n\tfoundation_contact_pressure (float): Contact pressure of building's foundation\n\n\nReturns:\n\tliquefaction_shear_induced_building_settlement (float): Shear-induced building settlement due to liquefaction\n\n",
        'get_liquefaction_susceptibility__bray2006assessment':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquefaction\\_susceptibility\\_\\_bray2006assessment}(w_c\\ /\\ LL, PI) \\\\ \\hspace{1em} \\mathrm{liquefaction\\_susceptibility} \\gets \\mathrm{LiquefactionSusceptibilityFigure}.\\mathrm{assign\\_polygons\\_labels\\_from\\_xy\\_data} \\mathopen{}\\left( w_c\\ /\\ LL, PI \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{liquefaction\\_susceptibility} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\twater_content_liquid_limit_ratio (float): Ratio of water content to liquid limit\n\tplasticity_index (float): Plasticity index of soil\n\n\nReturns:\n\tliquefaction_susceptibility (str): Susceptibility of soil to liquefaction\n\n',
        'get_magnitude_scaling_factor__boulanger2014cpt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_magnitude\\_scaling\\_factor\\_\\_boulanger2014cpt}(M_w, MSF_{max}) \\\\ \\hspace{1em} MSF \\gets 1 + \\mathopen{}\\left( MSF_{max} - 1 \\mathclose{}\\right) \\mathopen{}\\left( 8.64 \\exp \\mathopen{}\\left( \\frac{-M_w}{4} \\mathclose{}\\right) - 1.325 \\mathclose{}\\right) \\\\ \\hspace{1em} MSF \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( MSF, \\mathrm{None}, MSF_{max} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ MSF \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmoment_magnitude (float): Seismic moment magnitude\n\tmagnitude_scaling_factor_max (float): Maximum magnitude scaling factor\n\n\nReturns:\n\tmagnitude_scaling_factor (float): Magnitude scaling factor for liquefaction\n\n',
        'get_magnitude_scaling_factor__cetin2018use':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_magnitude\\_scaling\\_factor\\_\\_cetin2018use}(M_w) \\\\ \\hspace{1em} \\mathrm{cetineayy\\_coeffs} \\gets \\mathrm{ReferenceData}.\\mathrm{ModelCoefficientsCetin}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"theta"}, \\textrm{"2018"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{theta2}, \\mathrm{theta6} \\mathclose{}\\right) \\gets \\mathopen{}\\left( \\mathrm{cetineayy\\_coeffs}_{\\textrm{"2"}}, \\mathrm{cetineayy\\_coeffs}_{\\textrm{"6"}} \\mathclose{}\\right) \\\\ \\hspace{1em} M_w \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( M_w, 5.5, 8.4 \\mathclose{}\\right) \\\\ \\hspace{1em} MSF \\gets \\mathopen{}\\left( \\frac{M_w}{7.5} \\mathclose{}\\right)^{\\frac{-\\mathrm{theta2}}{\\mathrm{theta6}}} \\\\ \\hspace{1em} \\mathbf{return} \\ MSF \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmoment_magnitude (float): Seismic moment magnitude\n\n\nReturns:\n\tmagnitude_scaling_factor (float): Magnitude scaling factor for liquefaction\n\n',
        'get_magnitude_scaling_factor__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_magnitude\\_scaling\\_factor\\_\\_idriss2008soil}(M_w) \\\\ \\hspace{1em} MSF \\gets 6.9 \\exp \\mathopen{}\\left( \\frac{-M_w}{4} \\mathclose{}\\right) - 0.058 \\\\ \\hspace{1em} MSF \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( MSF, \\mathrm{None}, 1.8 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ MSF \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmoment_magnitude (float): Seismic moment magnitude\n\n\nReturns:\n\tmagnitude_scaling_factor (float): Magnitude scaling factor for liquefaction\n\n',
        'get_magnitude_scaling_factor__youd2001liquefaction':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_magnitude\\_scaling\\_factor\\_\\_youd2001liquefaction}(M_w) \\\\ \\hspace{1em} MSF \\gets \\frac{10^{2.24}}{M_w^{2.56}} \\\\ \\hspace{1em} \\mathbf{return} \\ MSF \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmoment_magnitude (float): Seismic moment magnitude\n\n\nReturns:\n\tmagnitude_scaling_factor (float): Magnitude scaling factor for liquefaction\n\n',
        'get_magnitude_scaling_factor_max_spt__boulanger2014cpt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_magnitude\\_scaling\\_factor\\_max\\_spt\\_\\_boulanger2014cpt}(N_{160cs}) \\\\ \\hspace{1em} MSF_{max} \\gets 1.09 + \\mathopen{}\\left( \\frac{N_{160cs}}{31.5} \\mathclose{}\\right)^{2} \\\\ \\hspace{1em} MSF_{max} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( MSF_{max}, \\mathrm{None}, 2.2 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ MSF_{max} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\n\nReturns:\n\tmagnitude_scaling_factor_max (float): Maximum magnitude scaling factor\n\n',
        'get_max_shear_strain__cetin2009probabilistica':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_max\\_shear\\_strain\\_\\_cetin2009probabilistica}(N_{160cs}, FS_{liq}, CSR_{SS,20,1D,1atm}) \\\\ \\hspace{1em} CSR_{SS,20,1D,1atm} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( CSR_{SS,20,1D,1atm}, 0.05, 0.6 \\mathclose{}\\right) \\\\ \\hspace{1em} N_{160cs} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( N_{160cs}, 5, 40 \\mathclose{}\\right) \\\\ \\hspace{1em} γ_{max} \\gets \\frac{-0.025 N_{160cs} + \\log CSR_{SS,20,1D,1atm} + 2.613}{0.004 N_{160cs} + 0.001} \\\\ \\hspace{1em} γ_{max} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( γ_{max} \\mathclose{}\\right) \\mathbin{|} \\mathopen{}\\left( FS_{liq} \\ge 2 \\mathclose{}\\right), 0, \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( γ_{max}, 0, 100 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ γ_{max} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\tcyclic_stress_ratio_ss_20_1d_1atm (float): CSR value corresponding to a 1 dimensional, 20 uniform loading cycles simple shear test under a confinement pressure of 1 atm\n\n\nReturns:\n\tmax_shear_strain (float): Maximum shear strain in soil\n\n',
        'get_max_shear_strain__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_max\\_shear\\_strain\\_\\_idriss2008soil}(FS_{liq}, F_α, γ_{lim}) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets FS_{liq} \\ge 2 \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 0.0 \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathopen{}\\left( FS_{liq} > F_α \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( FS_{liq} < 2 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( \\frac{100 \\cdot 0.035 \\mathopen{}\\left( 1 - F_α \\mathclose{}\\right) \\mathopen{}\\left( 2 - FS_{liq} \\mathclose{}\\right)}{FS_{liq} - F_α}, \\mathrm{None}, γ_{lim} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_3} \\gets FS_{liq} \\le F_α \\\\ \\hspace{1em} \\mathrm{choice\\_3} \\gets γ_{lim} \\\\ \\hspace{1em} γ_{max} \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ γ_{max} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\tmax_shear_strain_f_alpha_term (float): Term for maximum shear strain calculation\n\tshear_strain_limit (float): Limiting value of shear strain\n\n\nReturns:\n\tmax_shear_strain (float): Maximum shear strain in soil\n\n',
        'get_max_shear_strain_f_alpha_term_spt__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_max\\_shear\\_strain\\_f\\_alpha\\_term\\_spt\\_\\_idriss2008soil}(N_{160cs}) \\\\ \\hspace{1em} N_{160cs} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( N_{160cs}, 7, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} F_α \\gets 0.032 + 0.69 \\sqrt{ N_{160cs} } - 0.13 N_{160cs} \\\\ \\hspace{1em} F_α \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( F_α \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ F_α \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\n\nReturns:\n\tmax_shear_strain_f_alpha_term (float): Term for maximum shear strain calculation\n\n',
        'get_membrane_compliance_correction__cetin2009probabilistica':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_membrane\\_compliance\\_correction\\_\\_cetin2009probabilistica}(N_{160}, D_r) \\\\ \\hspace{1em} K_{mc} \\gets -3e-05 D_r^{2} + 0.0048 D_r + 0.7222 \\\\ \\hspace{1em} \\mathbf{return} \\ K_{mc} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\trelative_density (float): Relative density of soil\n\n\nReturns:\n\tmembrane_compliance_correction (float): Correction factor for membrane compliance in DMT\n\n',
        'get_overburden_correction_coefficient_spt__idriss2006semi':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_correction\\_coefficient\\_spt\\_\\_idriss2006semi}(N_{160}) \\\\ \\hspace{1em} N_{160} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( N_{160}, \\mathrm{None}, 37 \\mathclose{}\\right) \\\\ \\hspace{1em} C_σ \\gets \\frac{1}{18.9 - 2.55 \\sqrt{ N_{160} }} \\\\ \\hspace{1em} \\mathbf{return} \\ C_σ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\n\nReturns:\n\toverburden_correction_coefficient (float): Coefficient for overburden correction\n\n',
        'get_overburden_correction_coefficient_spt__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_correction\\_coefficient\\_spt\\_\\_idriss2008soil}(N_{160cs}) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{get\\_overburden\\_correction\\_coefficient\\_spt\\_\\_idriss2006semi} \\mathopen{}\\left( N_{160cs} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\n\nReturns:\n\toverburden_correction_coefficient (float): Coefficient for overburden correction\n\n',
        'get_overburden_correction_crr__cetin2018use':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_correction\\_crr\\_\\_cetin2018use}(σ_v\') \\\\ \\hspace{1em} \\mathrm{cetineayy\\_coeffs} \\gets \\mathrm{ReferenceData}.\\mathrm{ModelCoefficientsCetin}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"theta"}, \\textrm{"2018"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{theta3}, \\mathrm{theta6} \\mathclose{}\\right) \\gets \\mathopen{}\\left( \\mathrm{cetineayy\\_coeffs}_{\\textrm{"3"}}, \\mathrm{cetineayy\\_coeffs}_{\\textrm{"6"}} \\mathclose{}\\right) \\\\ \\hspace{1em} K_σ \\gets \\mathopen{}\\left( \\frac{σ_v\'}{101.325} \\mathclose{}\\right)^{\\frac{-\\mathrm{theta3}}{\\mathrm{theta6}}} \\\\ \\hspace{1em} K_σ \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( K_σ, 0.8, 1.6 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ K_σ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\teffective_stress (float): Effective vertical stress in soil\n\n\nReturns:\n\toverburden_correction_crr (float): Overburden correction factor for cyclic resistance ratio\n\n',
        'get_overburden_correction_crr__hynes2018influence':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_correction\\_crr\\_\\_hynes2018influence}(σ_v') \\\\ \\hspace{1em} f \\gets 0.8 \\\\ \\hspace{1em} K_σ \\gets \\mathopen{}\\left( \\frac{σ_v'}{101.325} \\mathclose{}\\right)^{f - 1} \\\\ \\hspace{1em} K_σ \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( K_σ, 0, 1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ K_σ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\teffective_stress (float): Effective vertical stress in soil\n\n\nReturns:\n\toverburden_correction_crr (float): Overburden correction factor for cyclic resistance ratio\n\n",
        'get_overburden_correction_crr__idriss2006semi':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_correction\\_crr\\_\\_idriss2006semi}(C_σ, σ_v') \\\\ \\hspace{1em} K_σ \\gets 1 - C_σ \\cdot \\log \\mathopen{}\\left( \\frac{σ_v'}{101.325} \\mathclose{}\\right) \\\\ \\hspace{1em} K_σ \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( K_σ, \\mathrm{None}, 1.1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ K_σ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\toverburden_correction_coefficient (float): Coefficient for overburden correction\n\teffective_stress (float): Effective vertical stress in soil\n\n\nReturns:\n\toverburden_correction_crr (float): Overburden correction factor for cyclic resistance ratio\n\n",
        'get_overburden_correction_crr__youd2001liquefaction':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_correction\\_crr\\_\\_youd2001liquefaction}(D_r, σ_v') \\\\ \\hspace{1em} K_σ \\gets \\mathopen{}\\left( \\frac{σ_v'}{101.325} \\mathclose{}\\right)^{1 - 0.005 \\frac{D_r}{100} - 1} \\\\ \\hspace{1em} \\mathbf{return} \\ K_σ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\trelative_density (float): Relative density of soil\n\teffective_stress (float): Effective vertical stress in soil\n\n\nReturns:\n\toverburden_correction_crr (float): Overburden correction factor for cyclic resistance ratio\n\n",
        'get_post_liquefaction_residual_shear_strength':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_post\\_liquefaction\\_residual\\_shear\\_strength}(S_{r\\ ratio}, σ_v', \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} S_r \\gets S_{r\\ ratio} \\cdot σ_v' \\\\ \\hspace{1em} \\mathbf{return} \\ S_r \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_residual_shear_strength (float): Post-liquefaction residual shear strength to effective stress ratio\n\teffective_stress (float): Effective vertical stress in soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tpost_liquefaction_residual_shear_strength (float): Post-liquefaction residual shear strength\n\n",
        'get_shear_strain_limit_spt__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_strain\\_limit\\_spt\\_\\_idriss2008soil}(N_{160cs}) \\\\ \\hspace{1em} γ_{lim} \\gets 100 \\cdot 1.859 \\mathopen{}\\left( 1.1 - \\sqrt{ \\frac{N_{160cs}}{46} } \\mathclose{}\\right)^{3} \\\\ \\hspace{1em} γ_{lim} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( γ_{lim}, 0, 50 \\mathclose{}\\right) \\\\ \\hspace{1em} γ_{lim} \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( γ_{lim} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ γ_{lim} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\n\nReturns:\n\tshear_strain_limit (float): Limiting value of shear strain\n\n',
        'get_shear_stress_reduction_coefficient__cetin2004standard':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_stress\\_reduction\\_coefficient\\_\\_cetin2004standard}(z, M_w, PGA, V_{s12}) \\\\ \\hspace{1em} r_d \\gets \\frac{1 + \\frac{-23.013 - 2.949 PGA + 0.999 M_w + 0.0525 V_{s12}}{16.258 + 0.201 \\exp \\mathopen{}\\left( 0.341 \\mathopen{}\\left( -z + 0.0785 V_{s12} + 7.586 \\mathclose{}\\right) \\mathclose{}\\right)}}{1 + \\frac{-23.013 - 2.949 PGA + 0.999 M_w + 0.0525 V_{s12}}{16.258 + 0.201 \\exp \\mathopen{}\\left( 0.341 \\mathopen{}\\left( 0.0785 V_{s12} + 7.586 \\mathclose{}\\right) \\mathclose{}\\right)}} - 0.0046 \\mathopen{}\\left( \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( z, 20, \\mathrm{None} \\mathclose{}\\right) - 20 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ r_d \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\tmoment_magnitude (float): Seismic moment magnitude\n\tpeak_ground_acceleration (float): Peak ground acceleration for seismic analysis\n\taverage_shear_velocity_12m (float): Average shear wave velocity to 12 m depth\n\n\nReturns:\n\tshear_stress_reduction_coefficient (float): Shear stress reduction coefficient for liquefaction\n\n',
        'get_shear_stress_reduction_coefficient__idriss2006semi':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_stress\\_reduction\\_coefficient\\_\\_idriss2006semi}(z, M_w) \\\\ \\hspace{1em} \\alpha \\gets -1.012 - 1.126 \\sin \\mathopen{}\\left( \\frac{z}{11.73} + 5.133 \\mathclose{}\\right) \\\\ \\hspace{1em} \\beta \\gets 0.106 + 0.118 \\sin \\mathopen{}\\left( \\frac{z}{11.28} + 5.142 \\mathclose{}\\right) \\\\ \\hspace{1em} r_d \\gets \\exp \\mathopen{}\\left( \\alpha + M_w \\cdot \\beta \\mathclose{}\\right) \\\\ \\hspace{1em} r_d \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( r_d, \\mathrm{None}, 1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ r_d \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\tmoment_magnitude (float): Seismic moment magnitude\n\n\nReturns:\n\tshear_stress_reduction_coefficient (float): Shear stress reduction coefficient for liquefaction\n\n',
        'get_shear_stress_reduction_coefficient__liao1986catalog':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_stress\\_reduction\\_coefficient\\_\\_liao1986catalog}(z) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets z \\le 9.15 \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 1 - 0.00765 z \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathopen{}\\left( z > 9.15 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( z \\le 23 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets 1.174 - 0.0267 z \\\\ \\hspace{1em} r_d \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ r_d \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\n\nReturns:\n\tshear_stress_reduction_coefficient (float): Shear stress reduction coefficient for liquefaction\n\n',
        'get_shear_stress_reduction_coefficient__youd2001liquefaction':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_stress\\_reduction\\_coefficient\\_\\_youd2001liquefaction}(z) \\\\ \\hspace{1em} r_d \\gets \\frac{1 - 0.4113 z^{0.5} + 0.04052 z + 0.001753 z^{1.5}}{1 - 0.4177 z^{0.5} + 0.05729 z - 0.006205 z^{1.5} + 0.00121 z^{2}} \\\\ \\hspace{1em} r_d \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( r_d, 0, 1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ r_d \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\n\nReturns:\n\tshear_stress_reduction_coefficient (float): Shear stress reduction coefficient for liquefaction\n\n',
        'get_shear_stress_reduction_factor__baez1993advances':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_stress\\_reduction\\_factor\\_\\_baez1993advances}(\\mathrm{stone\\_column\\_arrangement}, A_r, G_r) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{is\\_null} \\mathopen{}\\left( \\mathrm{stone\\_column\\_arrangement} \\mathclose{}\\right) \\lor \\mathrm{stone\\_column\\_arrangement} = \\textrm{"none"} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} K_G \\gets \\frac{1}{1 + A_r \\cdot \\mathopen{}\\left( G_r - 1 \\mathclose{}\\right)} \\\\ \\hspace{1em} \\mathbf{return} \\ K_G \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstone_column_arrangement (str): Arrangement of stone columns\n\tarea_replacement_ratio (float): Ratio of one column area to the unit cell area\n\tshear_modulus_ratio (float): Ratio of stone column to soil shear modulus\n\n\nReturns:\n\tshear_stress_reduction_factor (float): Shear stress reduction factor for stone columns\n\n',
        'get_stone_column_is_present':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stone\\_column\\_is\\_present}(\\mathrm{stone\\_column\\_arrangement}, z, z_{top}, z_{bottom}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{is\\_null} \\mathopen{}\\left( \\mathrm{stone\\_column\\_arrangement} \\mathclose{}\\right) \\lor \\mathrm{stone\\_column\\_arrangement} = \\textrm{"none"} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( z, \\mathrm{False} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( z \\ge z_{top} \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( z \\le z_{bottom} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstone_column_arrangement (str): Arrangement of stone columns\n\tdepth (float): Depth below ground surface to bottom of layer\n\tstone_column_top_depth (float): Top depth of stone column\n\tstone_column_bottom_depth (float): Bottom depth of stone column\n\n\nReturns:\n\tstone_column_is_present (bool): Indicates presence of stone column\n\n',
        'get_thickness_liquefiable_layer':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_thickness\\_liquefiable\\_layer}(FS_{liq}, H) \\\\ \\hspace{1em} \\textrm{" calculated as the total thickness of liquefiable sand layers "} \\\\ \\hspace{1em} H \\gets \\mathrm{np}.\\mathrm{broadcast\\_to} \\mathopen{}\\left( H, FS_{liq}.\\mathrm{shape} \\mathclose{}\\right) \\\\ \\hspace{1em} H_2 \\gets H.\\mathrm{copy} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( H_2, \\mathord{\\sim} \\mathopen{}\\left( FS_{liq} \\le 1 \\mathclose{}\\right), 0 \\mathclose{}\\right) \\\\ \\hspace{1em} H_2 \\gets \\sum H_2 \\\\ \\hspace{1em} \\mathbf{return} \\ H_2 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\tthickness (float): Thickness of soil layer\n\n\nReturns:\n\tthickness_liquefiable_layer (float): Thickness of liquefiable sand layer\n\n',
        'get_thickness_non_liquefiable_layer':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_thickness\\_non\\_liquefiable\\_layer}(FS_{liq}, z) \\\\ \\hspace{1em} \\textrm{" calculated as the total thickness above the first liquefiable sand layer "} \\\\ \\hspace{1em} H_1 \\gets \\mathopen{}\\left[  \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathrm{fs\\_liq} \\in \\mathrm{np}.\\mathrm{atleast\\_2d} \\mathopen{}\\left( FS_{liq} \\mathclose{}\\right) \\ \\mathbf{do} \\\\ \\hspace{2em} \\mathrm{flag} \\gets \\mathrm{fs\\_liq} \\le 1 \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{flag} \\mathclose{}\\right) \\\\ \\hspace{3em} a \\gets \\mathrm{flag}.\\mathrm{argmax} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{z\\_surface\\_layer} \\gets \\left\\{ \\begin{array}{ll} \\mathrm{depth}_{a - 1}, & \\mathrm{if} \\ a > 0 \\\\ 0, & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathrm{z\\_surface\\_layer} \\gets \\mathrm{np}.\\mathrm{inf} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} H_1.\\mathrm{append} \\mathopen{}\\left( \\mathrm{z\\_surface\\_layer} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{if} \\ FS_{liq}.\\mathrm{ndim} < 2 \\\\ \\hspace{2em} H_1 \\gets \\mathrm{thickness\\_non\\_liquefiable\\_layer}_{0} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ H_1 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\tdepth (float): Depth below ground surface to bottom of layer\n\n\nReturns:\n\tthickness_non_liquefiable_layer (float): Thickness of non-liquefiable surface layer\n\n',
        'get_triaxial_planes_correction':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_triaxial\\_planes\\_correction}() \\\\ \\hspace{1em} K_r \\gets 1 \\\\ \\hspace{1em} \\mathbf{return} \\ K_r \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\n\nReturns:\n\ttriaxial_planes_correction (float): Correction for shearing of incorrect planes in cyclic triaxial test\n\n',
        'get_volumetric_strain__cetin2009probabilisticb':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_volumetric\\_strain\\_\\_cetin2009probabilisticb}(N_{160cs}, DF, FS_{liq}, CSR_{SS,20,1D,1atm}) \\\\ \\hspace{1em} CSR_{SS,20,1D,1atm} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( CSR_{SS,20,1D,1atm}, 0.05, 0.6 \\mathclose{}\\right) \\\\ \\hspace{1em} N_{160cs} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( N_{160cs}, 5, 40 \\mathclose{}\\right) \\\\ \\hspace{1em} ε_v \\gets 1.879 \\log \\mathopen{}\\left( \\frac{780.416 \\log CSR_{SS,20,1D,1atm} - N_{160cs} + 2442.465}{636.613 N_{160cs} + 306.732} \\mathclose{}\\right) + 5.583 \\\\ \\hspace{1em} ε_v \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( FS_{liq} \\ge 2, 0, ε_v \\mathclose{}\\right) \\\\ \\hspace{1em} ε_v \\gets ε_v \\cdot DF \\\\ \\hspace{1em} \\mathrm{calibration\\_coefficient} \\gets 1.15 \\\\ \\hspace{1em} ε_v \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( ε_v, 0, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} ε_v \\gets \\mathrm{calibration\\_coefficient} \\cdot \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( ε_v \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ε_v \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\tvolumetric_strain_depth_weighting_factor (float): Depth weighting factor for volumetric strain\n\tliquefaction_safety_factor (float): Factor of safety against liquefaction triggering\n\tcyclic_stress_ratio_ss_20_1d_1atm (float): CSR value corresponding to a 1 dimensional, 20 uniform loading cycles simple shear test under a confinement pressure of 1 atm\n\n\nReturns:\n\tvolumetric_strain (float): Volumetric strain in soil\n\n',
        'get_volumetric_strain_depth_weighting_factor__cetin2009probabilisticb':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_volumetric\\_strain\\_depth\\_weighting\\_factor\\_\\_cetin2009probabilisticb}(z) \\\\ \\hspace{1em} DF \\gets \\mathopen{}\\left| 1 - \\frac{z}{18} \\mathclose{}\\right| \\\\ \\hspace{1em} \\mathbf{return} \\ DF \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\n\nReturns:\n\tvolumetric_strain_depth_weighting_factor (float): Depth weighting factor for volumetric strain\n\n',
        'get_volumetric_strain_spt__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_volumetric\\_strain\\_spt\\_\\_idriss2008soil}(γ_{max}, N_{160cs}) \\\\ \\hspace{1em} γ_{max} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( γ_{max}, \\mathrm{None}, 100 \\cdot 0.08 \\mathclose{}\\right) \\\\ \\hspace{1em} ε_v \\gets 1.5 \\exp \\mathopen{}\\left( -0.369 \\sqrt{ N_{160cs} } \\mathclose{}\\right) γ_{max} \\\\ \\hspace{1em} ε_v \\gets \\mathrm{np}.\\mathrm{nan\\_to\\_num} \\mathopen{}\\left( ε_v \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ε_v \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmax_shear_strain (float): Maximum shear strain in soil\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\n\nReturns:\n\tvolumetric_strain (float): Volumetric strain in soil\n\n',
        'get_youd2002revised_t15_parameters':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_youd2002revised\\_t15\\_parameters}(T_{15\\ flag}, FC, D_{50}, H, LD_{scalar}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{is\\_null} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{extract} \\mathopen{}\\left( T_{15\\ flag}, D_{50} \\mathclose{}\\right) \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"null diameter\\_at\\_50\\_percent\\_finer values at is\\_t15\\_liquefiable\\_layers, check inputs"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} T_{15} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( T_{15\\ flag}, H, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ LD_{scalar} \\\\ \\hspace{2em} T_{15} \\gets \\mathrm{np}.\\mathrm{nansum} \\mathopen{}\\left( T_{15} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} FC_{T15} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( T_{15\\ flag}, FC, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ LD_{scalar} \\\\ \\hspace{2em} FC_{T15} \\gets \\mathrm{np}.\\mathrm{nanmean} \\mathopen{}\\left( FC_{T15} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} D_{50T15} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( T_{15\\ flag}, D_{50}, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ LD_{scalar} \\\\ \\hspace{2em} D_{50T15} \\gets \\mathrm{np}.\\mathrm{nanmean} \\mathopen{}\\left( D_{50T15} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( T_{15}, FC_{T15}, D_{50T15} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tis_t15_liquefiable_layers (bool): Liquefiable layers with N_160 < 15\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tdiameter_at_50_percent_finer (float): Diameter at 50% finer from sieve analysis\n\tthickness (float): Thickness of soil layer\n\tlateral_spread_displacement_as_scalar (bool): If disabled, calculates lateral displacement for each depth\n\n\nReturns:\n\tcumulative_thickness_liquefiable_layers (float): Cumulative thickness of saturated granular layers with N_160 < 15\n\tfines_content_liquefiable_layers (float): Average fines content for liquefiable layers within T_15\n\tdiameter_at_50_percent_finer_liquefiable_layers (float): Average mean grain size for liquefiable layers within T_15\n\n'
    },
    'pile': {
        'get_basic_influence_factor_i1__poulos1980pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_basic\\_influence\\_factor\\_i1\\_\\_poulos1980pile}(L/D) \\\\ \\hspace{1em} I_1 \\gets \\mathrm{BasicInfluenceFactorI1Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ I_1 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_length_to_diameter_ratio (float): Ratio of pile embedment length to diameter\n\n\nReturns:\n\tbasic_influence_factor_i1 (float): Pile settlement basic influence factor\n\n',
        'get_effective_stress__usace1991design':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_stress\\_\\_usace1991design}(z, \\mathrm{pile\\_critical\\_depth}, γ') \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( \\mathrm{pile\\_critical\\_depth} \\mathclose{}\\right) \\\\ \\hspace{2em} z \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( z, \\mathrm{None}, \\mathrm{pile\\_critical\\_depth} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} H \\gets \\mathrm{get\\_thickness} \\mathopen{}\\left( z \\mathclose{}\\right) \\\\ \\hspace{1em} σ_v' \\gets \\mathrm{np}.\\mathrm{cumsum} \\mathopen{}\\left( γ' \\cdot H \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ σ_v' \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\tpile_critical_depth (float): Critical depth for pile analysis\n\teffective_unit_weight (float): Effective unit weight of soil\n\n\nReturns:\n\teffective_stress (float): Effective vertical stress in soil\n\n",
        'get_elasticity_modulus_bearing_ratio__poulos1980pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_elasticity\\_modulus\\_bearing\\_ratio\\_\\_poulos1980pile}(E_s, E_b) \\\\ \\hspace{1em} E_b\\ /\\ E_s \\gets \\frac{E_b}{E_s} \\\\ \\hspace{1em} \\mathbf{return} \\ E_b\\ /\\ E_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\telasticity_modulus (float): Modulus of elasticity of soil\n\telasticity_modulus_bearing_soil (float): Modulus of elasticity of bearing stratum below pile tip\n\n\nReturns:\n\telasticity_modulus_bearing_ratio (float): Ratio of elasticity modulus of bearing soil to soil along pile shaft\n\n',
        'get_pile_friction_coefficient__api1975recommended':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_friction\\_coefficient\\_\\_api1975recommended}(S_u) \\\\ \\hspace{1em} α \\gets \\mathrm{PileFrictionCoefficientAPI1975Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( S_u \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ α \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\n\nReturns:\n\tpile_friction_coefficient (float): Pile friction coefficient for shaft resistance\n\n',
        'get_pile_friction_coefficient__semple1984shaft':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_friction\\_coefficient\\_\\_semple1984shaft}(S_u, σ_v', L, D) \\\\ \\hspace{1em} \\mathrm{alpha1} \\gets \\mathrm{PileFrictionCoefficient1Semple1984Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( \\frac{S_u}{σ_v'} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{alpha2} \\gets \\mathrm{PileFrictionCoefficient1Semple1984Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( \\frac{L}{D} \\mathclose{}\\right) \\\\ \\hspace{1em} α \\gets \\mathrm{alpha1} \\cdot \\mathrm{alpha2} \\\\ \\hspace{1em} \\mathbf{return} \\ α \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tpile_embedment_length (float): Embedment length of pile\n\tpile_diameter (float): Outside diameter of pile\n\n\nReturns:\n\tpile_friction_coefficient (float): Pile friction coefficient for shaft resistance\n\n",
        'get_pile_friction_coefficient__usace1991design':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_friction\\_coefficient\\_\\_usace1991design}(\\mathrm{is\\_long\\_pile}, S_u, σ_v', L, D) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{is\\_long\\_pile} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathrm{get\\_pile\\_friction\\_coefficient\\_\\_semple1984shaft} \\mathopen{}\\left( S_u, σ_v', L, D \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathrm{get\\_pile\\_friction\\_coefficient\\_\\_api1975recommended} \\mathopen{}\\left( S_u \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tis_long_pile (bool): Indicates if pile is long\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tpile_embedment_length (float): Embedment length of pile\n\tpile_diameter (float): Outside diameter of pile\n\n\nReturns:\n\tpile_friction_coefficient (float): Pile friction coefficient for shaft resistance\n\n",
        'get_pile_influence_factor_bearing__poulos1980pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_influence\\_factor\\_bearing\\_\\_poulos1980pile}(I_1, R_K, R_b, R_v) \\\\ \\hspace{1em} I \\gets I_1 \\cdot R_K \\cdot R_b \\cdot R_v \\\\ \\hspace{1em} \\mathbf{return} \\ I \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tbasic_influence_factor_i1 (float): Pile settlement basic influence factor\n\tpile_settlement_correction_compressibility (float): Correction factor for pile compressibility\n\tpile_settlement_correction_bearing (float): Correction factor for bearing stratum\n\tpile_settlement_correction_poisson (float): Correction factor for Poisson’s ratio\n\n\nReturns:\n\tpile_influence_factor (float): Influence factor for pile settlement\n\n',
        'get_pile_influence_factor_floating__poulos1980pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_influence\\_factor\\_floating\\_\\_poulos1980pile}(I_1, R_K, R_h, R_v) \\\\ \\hspace{1em} I \\gets I_1 \\cdot R_K \\cdot R_h \\cdot R_v \\\\ \\hspace{1em} \\mathbf{return} \\ I \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tbasic_influence_factor_i1 (float): Pile settlement basic influence factor\n\tpile_settlement_correction_compressibility (float): Correction factor for pile compressibility\n\tpile_settlement_correction_depth (float): Correction factor for pile layer depth\n\tpile_settlement_correction_poisson (float): Correction factor for Poisson’s ratio\n\n\nReturns:\n\tpile_influence_factor (float): Influence factor for pile settlement\n\n',
        'get_pile_length_to_diameter_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_length\\_to\\_diameter\\_ratio}(L, D) \\\\ \\hspace{1em} L/D \\gets \\frac{L}{D} \\\\ \\hspace{1em} \\mathbf{return} \\ L/D \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_embedment_length (float): Embedment length of pile\n\tpile_diameter (float): Outside diameter of pile\n\n\nReturns:\n\tpile_length_to_diameter_ratio (float): Ratio of pile embedment length to diameter\n\n',
        'get_pile_length_to_soil_thickness_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_length\\_to\\_soil\\_thickness\\_ratio}(L, h) \\\\ \\hspace{1em} L/h \\gets \\frac{L}{h} \\\\ \\hspace{1em} \\mathbf{return} \\ L/h \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_embedment_length (float): Embedment length of pile\n\tsoil_thickness (float): Total thickness of soil layers above rigid layer\n\n\nReturns:\n\tpile_length_to_soil_thickness_ratio (float): Ratio of pile embedment length to soil layer depth\n\n',
        'get_pile_perimeter':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_perimeter}(\\mathrm{pile\\_shape}, D) \\\\ \\hspace{1em} P \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{pile\\_shape} = \\textrm{"circle"} \\\\ \\hspace{2em} P \\gets \\mathrm{np}.\\pi \\cdot D \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{pile\\_shape} = \\textrm{"square"} \\\\ \\hspace{3em} P \\gets 4 D \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ P \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_shape (str): Shape of pile\n\tpile_diameter (float): Outside diameter of pile\n\n\nReturns:\n\tpile_perimeter (float): Perimeter of pile\n\n',
        'get_pile_settlement__poulos1980pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_settlement\\_\\_poulos1980pile}(P, D, E_s, I) \\\\ \\hspace{1em} S \\gets \\frac{P}{D \\cdot E_s} \\cdot I \\\\ \\hspace{1em} S \\gets \\frac{S}{10} \\\\ \\hspace{1em} \\mathbf{return} \\ S \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_head_axial_load (float): Axial load at pile head\n\tpile_diameter (float): Outside diameter of pile\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tpile_influence_factor (float): Influence factor for pile settlement\n\n\nReturns:\n\tpile_settlement (float): Settlement of pile\n\n',
        'get_pile_settlement_correction_bearing__poulos1980pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_settlement\\_correction\\_bearing\\_\\_poulos1980pile}(E_b\\ /\\ E_s, L/D, K) \\\\ \\hspace{1em} \\mathrm{ld\\_nearest} \\gets \\mathrm{find\\_nearest} \\mathopen{}\\left( \\mathrm{list} \\mathopen{}\\left( \\mathrm{ld\\_reference\\_figures\\_map}.\\mathrm{keys} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right), L/D \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{bf} \\gets \\mathrm{ld\\_reference\\_figures\\_map}_{\\mathrm{ld\\_nearest}} \\\\ \\hspace{1em} R_b \\gets \\mathrm{bf}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ R_b \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\telasticity_modulus_bearing_ratio (float): Ratio of elasticity modulus of bearing soil to soil along pile shaft\n\tpile_length_to_diameter_ratio (float): Ratio of pile embedment length to diameter\n\tpile_stiffness_factor (float): Stiffness factor for pile\n\n\nReturns:\n\tpile_settlement_correction_bearing (float): Correction factor for bearing stratum\n\n',
        'get_pile_settlement_correction_compressibility__poulos1980pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_settlement\\_correction\\_compressibility\\_\\_poulos1980pile}(K, L/D) \\\\ \\hspace{1em} R_K \\gets \\mathrm{PileSettlementCorrectionCompressibilityFigure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ R_K \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_stiffness_factor (float): Stiffness factor for pile\n\tpile_length_to_diameter_ratio (float): Ratio of pile embedment length to diameter\n\n\nReturns:\n\tpile_settlement_correction_compressibility (float): Correction factor for pile compressibility\n\n',
        'get_pile_settlement_correction_depth__poulos1980pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_settlement\\_correction\\_depth\\_\\_poulos1980pile}(L/h, L/D) \\\\ \\hspace{1em} R_h \\gets \\mathrm{PileSettlementCorrectionDepthFigure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ R_h \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_length_to_soil_thickness_ratio (float): Ratio of pile embedment length to soil layer depth\n\tpile_length_to_diameter_ratio (float): Ratio of pile embedment length to diameter\n\n\nReturns:\n\tpile_settlement_correction_depth (float): Correction factor for pile layer depth\n\n',
        'get_pile_settlement_correction_poisson__poulos1980pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_settlement\\_correction\\_poisson\\_\\_poulos1980pile}(ν, K) \\\\ \\hspace{1em} R_v \\gets \\mathrm{PileSettlementCorrectionPoissonFigure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ R_v \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpoisson_ratio (float): Poisson’s ratio of soil\n\tpile_stiffness_factor (float): Stiffness factor for pile\n\n\nReturns:\n\tpile_settlement_correction_poisson (float): Correction factor for Poisson’s ratio\n\n',
        'get_pile_shaft_resistance':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_shaft\\_resistance}(Q_{s\\ i}) \\\\ \\hspace{1em} Q_s \\gets \\mathrm{np}.\\mathrm{cumsum} \\mathopen{}\\left( Q_{s\\ i} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ Q_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_shaft_resistance_inc (float): Incremental shaft resistance of pile\n\n\nReturns:\n\tpile_shaft_resistance (float): Shaft resistance of pile\n\n',
        'get_pile_shaft_resistance_inc':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_shaft\\_resistance\\_inc}(f_p, A_s) \\\\ \\hspace{1em} Q_{s\\ i} \\gets f_p \\cdot A_s \\cdot 1000 \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{s\\ i} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tunit_side_friction (float): Pile unit side friction\n\tpile_side_surface_area (float): Side surface area of pile\n\n\nReturns:\n\tpile_shaft_resistance_inc (float): Incremental shaft resistance of pile\n\n',
        'get_pile_side_surface_area':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_side\\_surface\\_area}(H, P) \\\\ \\hspace{1em} A_s \\gets H \\cdot P \\\\ \\hspace{1em} \\mathbf{return} \\ A_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tthickness (float): Thickness of soil layer\n\tpile_perimeter (float): Perimeter of pile\n\n\nReturns:\n\tpile_side_surface_area (float): Side surface area of pile\n\n',
        'get_pile_stiffness_factor__poulos1980pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_stiffness\\_factor\\_\\_poulos1980pile}(E_p, E_s, R_A) \\\\ \\hspace{1em} K \\gets \\frac{E_p \\cdot R_A}{E_s} \\\\ \\hspace{1em} \\mathbf{return} \\ K \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tpile_area_ratio (float): Ratio of pile section area to total cross section area\n\n\nReturns:\n\tpile_stiffness_factor (float): Stiffness factor for pile\n\n',
        'get_pile_tip_area':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_tip\\_area}(\\mathrm{pile\\_shape}, D) \\\\ \\hspace{1em} A_p \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{pile\\_shape} = \\textrm{"circle"} \\\\ \\hspace{2em} A_p \\gets \\mathrm{np}.\\pi \\cdot \\mathopen{}\\left( \\frac{D}{2} \\mathclose{}\\right)^{2} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{pile\\_shape} = \\textrm{"square"} \\\\ \\hspace{3em} A_p \\gets D^{2} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ A_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_shape (str): Shape of pile\n\tpile_diameter (float): Outside diameter of pile\n\n\nReturns:\n\tpile_tip_area (float): Tip area of pile\n\n',
        'get_pile_tip_resistance':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_tip\\_resistance}(q_p, A_p) \\\\ \\hspace{1em} Q_b \\gets q_p \\cdot A_p \\cdot 1000 \\\\ \\hspace{1em} \\mathbf{return} \\ Q_b \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_unit_tip_resistance (float): Unit tip resistance of pile\n\tpile_tip_area (float): Tip area of pile\n\n\nReturns:\n\tpile_tip_resistance (float): Tip resistance of pile\n\n',
        'get_pile_tip_resistance__usace1991design':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_tip\\_resistance\\_\\_usace1991design}(z, \\mathrm{averaging\\_diameter\\_factor}, D, \\mathrm{depth\\_inc}, \\mathrm{soil\\_type}, S_u, σ_v\', N_q, A_p) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathrm{soil\\_type} = \\textrm{"Clay"} \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets \\mathrm{get\\_pile\\_tip\\_resistance\\_cohesive\\_\\_usace1991design} \\mathopen{}\\left( S_u, A_p \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathrm{soil\\_type} = \\textrm{"Sand"} \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets \\mathrm{get\\_pile\\_tip\\_resistance\\_cohesionless\\_\\_usace1991design} \\mathopen{}\\left( σ_v\', N_q, A_p \\mathclose{}\\right) \\\\ \\hspace{1em} Q_b \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{averaging\\_diameter\\_factor} > 0 \\\\ \\hspace{2em} Q_b \\gets \\mathrm{\\_get\\_average\\_pile\\_tip\\_resistance} \\mathopen{}\\left( z, Q_b, \\mathrm{averaging\\_diameter\\_factor}, D, \\mathrm{depth\\_inc} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ Q_b \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\tpile_diameter (float): Outside diameter of pile\n\tsoil_type (str): Primary soil type description\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\tpile_tip_area (float): Tip area of pile\n\n\nReturns:\n\tpile_tip_resistance (float): Tip resistance of pile\n\n',
        'get_pile_tip_resistance_cohesionless__usace1991design':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_tip\\_resistance\\_cohesionless\\_\\_usace1991design}(σ_v', N_q, A_p) \\\\ \\hspace{1em} Q_b \\gets σ_v' \\cdot N_q \\cdot A_p \\\\ \\hspace{1em} \\mathbf{return} \\ Q_b \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\teffective_stress (float): Effective vertical stress in soil\n\tbearing_capacity_factor_surcharge (float): Bearing capacity factor for surcharge\n\tpile_tip_area (float): Tip area of pile\n\n\nReturns:\n\tpile_tip_resistance (float): Tip resistance of pile\n\n",
        'get_pile_tip_resistance_cohesive__usace1991design':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_tip\\_resistance\\_cohesive\\_\\_usace1991design}(S_u, A_p) \\\\ \\hspace{1em} Q_b \\gets S_u \\cdot 9 A_p \\\\ \\hspace{1em} \\mathbf{return} \\ Q_b \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\tpile_tip_area (float): Tip area of pile\n\n\nReturns:\n\tpile_tip_resistance (float): Tip resistance of pile\n\n',
        'get_pile_ultimate_resistance':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_ultimate\\_resistance}(Q_b, Q_s) \\\\ \\hspace{1em} Q_{ult} \\gets Q_b + Q_s \\\\ \\hspace{1em} \\mathbf{return} \\ Q_{ult} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_tip_resistance (float): Tip resistance of pile\n\tpile_shaft_resistance (float): Shaft resistance of pile\n\n\nReturns:\n\tpile_ultimate_resistance (float): Ultimate resistance of pile\n\n',
        'get_unit_side_friction__usace1991design':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_side\\_friction\\_\\_usace1991design}(z, \\mathrm{soil\\_type}, S_u, α, ϕ, σ_v\', K_o, f_{p\\ lim}, ZFL) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathrm{soil\\_type} = \\textrm{"Clay"} \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets \\mathrm{get\\_unit\\_side\\_friction\\_cohesive\\_\\_usace1991design} \\mathopen{}\\left( S_u, α, f_{p\\ lim} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathrm{soil\\_type} = \\textrm{"Sand"} \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets \\mathrm{get\\_unit\\_side\\_friction\\_cohesionless\\_\\_usace1991design} \\mathopen{}\\left( ϕ, σ_v\', K_o, f_{p\\ lim} \\mathclose{}\\right) \\\\ \\hspace{1em} f_p \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( f_p, z \\le ZFL, 0 \\mathclose{}\\right) \\\\ \\hspace{1em} f_p \\gets \\frac{f_p}{1000} \\\\ \\hspace{1em} \\mathbf{return} \\ f_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\tsoil_type (str): Primary soil type description\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\tpile_friction_coefficient (float): Pile friction coefficient for shaft resistance\n\tfriction_angle (float): Friction angle of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tcoefficient_of_earth_pressure_at_rest (float): Coefficient of lateral earth pressure at rest\n\tunit_side_friction_limit (float): Limit for pile unit side friction\n\tzero_friction_length (float): Pile zero-friction length\n\n\nReturns:\n\tunit_side_friction (float): Pile unit side friction\n\n',
        'get_unit_side_friction_cohesionless__usace1991design':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_side\\_friction\\_cohesionless\\_\\_usace1991design}(ϕ, σ_v', K_o, f_{p\\ lim}) \\\\ \\hspace{1em} f_p \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( K_o \\cdot σ_v' \\cdot \\mathrm{tandg} \\mathopen{}\\left( 0.95 ϕ \\mathclose{}\\right), \\mathrm{None}, f_{p\\ lim} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ f_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfriction_angle (float): Friction angle of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tcoefficient_of_earth_pressure_at_rest (float): Coefficient of lateral earth pressure at rest\n\tunit_side_friction_limit (float): Limit for pile unit side friction\n\n\nReturns:\n\tunit_side_friction (float): Pile unit side friction\n\n",
        'get_unit_side_friction_cohesive__usace1991design':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_side\\_friction\\_cohesive\\_\\_usace1991design}(S_u, α, f_{p\\ lim}) \\\\ \\hspace{1em} f_p \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( S_u \\cdot α, \\mathrm{None}, f_{p\\ lim} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ f_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\tpile_friction_coefficient (float): Pile friction coefficient for shaft resistance\n\tunit_side_friction_limit (float): Limit for pile unit side friction\n\n\nReturns:\n\tunit_side_friction (float): Pile unit side friction\n\n'
    },
    'site_class': {
        'get_average_blow_count':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_average\\_blow\\_count}(z, N, z_{top}, z_{bottom}) \\\\ \\hspace{1em} N \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( N, \\mathrm{None}, 100 \\mathclose{}\\right) \\\\ \\hspace{1em} N_{30} \\gets \\mathrm{get\\_site\\_class\\_average} \\mathopen{}\\left( N, z, z_{top}, z_{bottom} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ N_{30} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\tblow_count (float): SPT measured blow count\n\taverage_top_depth (float): Special average top depth\n\taverage_bottom_depth (float): Special average bottom depth\n\n\nReturns:\n\taverage_blow_count (float): Average SPT blow count to 30 m depth\n\n',
        'get_average_shear_velocity':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_average\\_shear\\_velocity}(z, V_s, z_{top}, z_{bottom}, \\mathrm{shallow\\_velocity\\_extrapolation\\_method}) \\\\ \\hspace{1em} \\mathrm{valid\\_flag} \\gets \\mathord{\\sim} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{isnan} \\mathopen{}\\left( V_s \\mathclose{}\\right) \\mathbin{|} \\mathopen{}\\left( V_s = 0 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{depth\\_valid} \\gets \\mathrm{np}.\\mathrm{extract} \\mathopen{}\\left( \\mathrm{valid\\_flag}, z \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{depth\\_valid}.\\mathrm{size} = 0 \\\\ \\hspace{2em} \\mathrm{depth\\_max} \\gets 0 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathrm{depth\\_max} \\gets \\mathrm{np}.\\mathrm{max} \\mathopen{}\\left( \\mathrm{depth\\_valid} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( \\mathrm{shallow\\_velocity\\_extrapolation\\_method} \\mathclose{}\\right) \\land \\mathopen{}\\left( \\mathrm{depth\\_max} \\ge 10 \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( \\mathrm{depth\\_max} < 30 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{vsd} \\gets \\mathrm{get\\_site\\_class\\_average} \\mathopen{}\\left( V_s, z \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{table2} \\gets \\mathrm{ReferenceData}.\\mathrm{Boore04Table2} \\\\ \\hspace{2em} \\mathrm{idx} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{searchsorted} \\mathopen{}\\left( \\mathrm{table2}_{\\textrm{"depth"}}, \\mathrm{depth\\_max} \\mathclose{}\\right), \\mathrm{None}, 19 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathopen{}\\left( a, b \\mathclose{}\\right) \\gets \\mathopen{}\\left( \\mathrm{table2}_{\\textrm{"a"}, \\mathrm{idx}}, \\mathrm{table2}_{\\textrm{"b"}, \\mathrm{idx}} \\mathclose{}\\right) \\\\ \\hspace{2em} V_{s30} \\gets 10^{a + b \\cdot \\log_{10} \\mathrm{vsd}} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} V_{s30} \\gets \\mathrm{get\\_site\\_class\\_average} \\mathopen{}\\left( V_s, z, z_{top}, z_{bottom} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ V_{s30} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\tshear_velocity (float): Shear wave velocity of soil\n\taverage_top_depth (float): Special average top depth\n\taverage_bottom_depth (float): Special average bottom depth\n\tshallow_velocity_extrapolation_method (str): Method for shallow velocity extrapolation\n\n\nReturns:\n\taverage_shear_velocity (float): Average shear wave velocity to 30 m depth\n\n',
        'get_average_undrained_shear_strength':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_average\\_undrained\\_shear\\_strength}(z, S_u, z_{top}, z_{bottom}) \\\\ \\hspace{1em} S_u \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( S_u, \\mathrm{None}, 250 \\mathclose{}\\right) \\\\ \\hspace{1em} S_{u30} \\gets \\mathrm{get\\_site\\_class\\_average} \\mathopen{}\\left( S_u, z, z_{top}, z_{bottom} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ S_{u30} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\taverage_top_depth (float): Special average top depth\n\taverage_bottom_depth (float): Special average bottom depth\n\n\nReturns:\n\taverage_undrained_shear_strength (float): Average undrained shear strength to 30 m depth\n\n',
        'get_site_class':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_site\\_class}(\\mathrm{is\\_e\\_site\\_class}, \\mathrm{is\\_f1\\_site\\_class}, \\mathrm{is\\_f2\\_site\\_class}, \\mathrm{is\\_f3\\_site\\_class}, \\mathrm{is\\_f4\\_site\\_class}) \\\\ \\hspace{1em} \\mathrm{site\\_classes} \\gets \\mathopen{}\\left[  \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathopen{}\\left( \\mathrm{is\\_class}, \\mathrm{site\\_class\\_} \\mathclose{}\\right) \\in \\mathrm{zip} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathopen{}\\left[ \\mathrm{is\\_e\\_site\\_class} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{is\\_f1\\_site\\_class}, \\mathrm{is\\_f2\\_site\\_class}, \\mathrm{is\\_f3\\_site\\_class}, \\mathrm{is\\_f4\\_site\\_class} \\mathclose{}\\right] \\mathclose{}\\right], \\mathopen{}\\left[ \\textrm{"E"}, \\textrm{"F"} \\mathclose{}\\right] \\mathclose{}\\right) \\ \\mathbf{do} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{is\\_class} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{site\\_classes}.\\mathrm{append} \\mathopen{}\\left( \\mathrm{site\\_class\\_} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathrm{site\\_classes} \\gets \\mathopen{}\\left[ \\mathrm{sc} \\mid \\mathopen{}\\left( \\mathrm{sc} \\in \\mathrm{site\\_classes} \\mathclose{}\\right) \\land \\mathopen{}\\left( \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( \\mathrm{sc} \\mathclose{}\\right) \\mathclose{}\\right) \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{site\\_classes} \\\\ \\hspace{2em} \\mathrm{site\\_class} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathrm{site\\_classes} \\gets \\mathrm{sorted} \\mathopen{}\\left( \\mathrm{site\\_classes} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{site\\_class} \\gets \\mathrm{site\\_classes}_{0} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{site\\_class} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tis_e_site_class (bool): Thickness of clay with [PI (%) > 20 & wc (%) ≥ 40 & Su (kPa) < 24] > 3\n\tis_f1_site_class (bool): Soils vulnerable to potential failure / collapse under seismic loading: liquefiable soils, quick / highly sensitive clays, collapsible weakly cemented soils\n\tis_f2_site_class (bool): Thickness of Peat and/or highly organic clays > 3\n\tis_f3_site_class (bool): Thickness of Very high plasticity clays [PI (%) > 75] > 8\n\tis_f4_site_class (bool): Thickness of Very thick, soft/medium stiff clays [Su (kPa) < 50] > 36\n\n\nReturns:\n\tsite_class (str): Seismic site class\n\n',
        'get_site_class_average':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_site\\_class\\_average}(\\mathrm{values\\_to\\_average}, z, z_{top}, z_{bottom}) \\\\ \\hspace{1em} \\mathrm{values\\_to\\_average} \\gets \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( \\mathrm{values\\_to\\_average} \\mathclose{}\\right) \\\\ \\hspace{1em} z \\gets \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( z \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{is\\_null} \\mathopen{}\\left( z_{bottom} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"average\\_bottom\\_depth is null"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{valid\\_flag} \\gets \\mathopen{}\\left( \\mathrm{values\\_to\\_average} > 0 \\mathclose{}\\right) \\mathbin{\\&} \\mathord{\\sim} \\mathrm{is\\_null} \\mathopen{}\\left( \\mathrm{values\\_to\\_average} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathord{\\sim} \\mathrm{valid\\_flag} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"site\\_class\\_average: only positive, non-null values supported"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{depth\\_valid} \\gets \\mathrm{np}.\\mathrm{extract} \\mathopen{}\\left( \\mathrm{valid\\_flag}, z \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{depth\\_max} \\gets \\mathrm{np}.\\mathrm{max} \\mathopen{}\\left( \\mathrm{depth\\_valid} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ z_{bottom} > \\mathrm{depth\\_max} \\\\ \\hspace{2em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"average\\_bottom\\_depth=\\{\\} is greater than depth\\_max=\\{\\}"}.\\mathrm{format} \\mathopen{}\\left( z_{bottom}, \\mathrm{depth\\_max} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{depth\\_in\\_window} \\gets \\mathrm{np}.\\mathrm{r\\_}_{\\mathopen{}\\left( z_{top}, \\mathrm{np}.\\mathrm{extract} \\mathopen{}\\left( \\mathopen{}\\left( \\mathrm{depth\\_valid} > z_{top} \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( \\mathrm{depth\\_valid} < z_{bottom} \\mathclose{}\\right), \\mathrm{depth\\_valid} \\mathclose{}\\right), z_{bottom} \\mathclose{}\\right)} \\\\ \\hspace{1em} \\mathrm{values\\_to\\_average\\_in\\_window} \\gets \\mathrm{values\\_to\\_average}_{\\mathrm{np}.\\mathrm{searchsorted} \\mathopen{}\\left( \\mathrm{depth\\_valid}, \\mathrm{depth\\_in\\_window} \\mathclose{}\\right)} \\\\ \\hspace{1em} H \\gets \\mathrm{get\\_thickness} \\mathopen{}\\left( \\mathrm{depth\\_in\\_window} - z_{top} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{site\\_class\\_average} \\gets \\frac{\\sum H}{\\sum \\mathopen{}\\left( \\frac{H}{\\mathrm{values\\_to\\_average\\_in\\_window}} \\mathclose{}\\right)} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{site\\_class\\_average} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvalues_to_average (float): Values used for averaging\n\tdepth (float): Depth below ground surface to bottom of layer\n\taverage_top_depth (float): Special average top depth\n\taverage_bottom_depth (float): Special average bottom depth\n\n\nReturns:\n\tsite_class_average (float): Special average for site class determination\n\n',
        'get_site_class_average_blow_count':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_site\\_class\\_average\\_blow\\_count}(N_{30}) \\\\ \\hspace{1em} \\mathrm{site\\_class} \\gets \\mathrm{PARAMETERS}_{\\textrm{"average\\_blow\\_count"}}.\\mathrm{data\\_bins}_{\\textrm{"site\\_class"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( N_{30} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{site\\_class} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\taverage_blow_count (float): Average SPT blow count to 30 m depth\n\n\nReturns:\n\tsite_class (str): Seismic site class\n\n',
        'get_site_class_average_shear_velocity':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_site\\_class\\_average\\_shear\\_velocity}(V_{s30}) \\\\ \\hspace{1em} \\mathrm{site\\_class} \\gets \\mathrm{PARAMETERS}_{\\textrm{"average\\_shear\\_velocity"}}.\\mathrm{data\\_bins}_{\\textrm{"site\\_class"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( V_{s30} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{site\\_class} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\taverage_shear_velocity (float): Average shear wave velocity to 30 m depth\n\n\nReturns:\n\tsite_class (str): Seismic site class\n\n',
        'get_site_class_average_undrained_shear_strength':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_site\\_class\\_average\\_undrained\\_shear\\_strength}(S_{u30}) \\\\ \\hspace{1em} \\mathrm{site\\_class} \\gets \\mathrm{PARAMETERS}_{\\textrm{"average\\_undrained\\_shear\\_strength"}}.\\mathrm{data\\_bins}_{\\textrm{"site\\_class"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( S_{u30} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{site\\_class} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\taverage_undrained_shear_strength (float): Average undrained shear strength to 30 m depth\n\n\nReturns:\n\tsite_class (str): Seismic site class\n\n',
        'get_site_class_label':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_site\\_class\\_label}(\\mathrm{site\\_class}) \\\\ \\hspace{1em} \\mathrm{site\\_class\\_label} \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( \\mathrm{site\\_class}, \\mathrm{PARAMETERS}.\\mathrm{get\\_pair\\_discrete\\_field\\_mapping} \\mathopen{}\\left( \\textrm{"site\\_class"}, \\textrm{"site\\_class\\_label"} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{site\\_class\\_label} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsite_class (str): Seismic site class\n\n\nReturns:\n\tsite_class_label (str): Label for seismic site class\n\n',
        'get_site_period':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_site\\_period}(V_s, z, \\mathrm{method}) \\\\ \\hspace{1em} H \\gets \\mathrm{get\\_thickness} \\mathopen{}\\left( z \\mathclose{}\\right) \\\\ \\hspace{1em} T_n \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{method} = \\textrm{"weighted average"} \\\\ \\hspace{2em} \\mathrm{depth\\_max} \\gets \\mathrm{np}.\\mathrm{max} \\mathopen{}\\left( z \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{vs\\_asterisk} \\gets \\frac{\\sum \\mathopen{}\\left( V_s \\cdot H \\mathclose{}\\right)}{\\mathrm{depth\\_max}} \\\\ \\hspace{2em} T_n \\gets \\frac{4 \\mathrm{depth\\_max}}{\\mathrm{vs\\_asterisk}} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{method} = \\textrm{"sum of periods"} \\\\ \\hspace{3em} T_n \\gets 4 \\sum \\mathopen{}\\left( \\frac{H}{V_s} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ T_n \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tshear_velocity (float): Shear wave velocity of soil\n\tdepth (float): Depth below ground surface to bottom of layer\n\tmethod (str): Method (or standard) followed\n\n\nReturns:\n\tsite_period (float): Natural period of site\n\n'
    },
    'site_design_spectra': {
        'get_pseudo_spectral_acceleration__carlton2018simplified':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pseudo\\_spectral\\_acceleration\\_\\_carlton2018simplified}(T, PSa, H, V_{s\\ mean}, γ_{0.5\\ mean}, CRR_{min}, \\mathrm{period\\_new}, \\mathrm{number\\_of\\_standard\\_deviations}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{period\\_new} \\not\\equiv \\mathrm{None} \\\\ \\hspace{2em} PSa \\gets \\mathrm{np}.\\mathrm{interp} \\mathopen{}\\left( \\mathrm{period\\_new}, T, PSa \\mathclose{}\\right) \\\\ \\hspace{2em} T \\gets \\mathrm{period\\_new} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{f1}, \\mathrm{f2} \\mathclose{}\\right) \\gets \\mathrm{\\_get\\_factors\\_\\_carlton2018simplified} \\mathopen{}\\left( T, H, V_{s\\ mean}, γ_{0.5\\ mean}, CRR_{min} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{number\\_of\\_standard\\_deviations} > 0 \\\\ \\hspace{2em} \\mathrm{table7} \\gets \\mathrm{ReferenceData}.\\mathrm{Carlton2018Table7} \\\\ \\hspace{2em} \\mathrm{std} \\gets \\mathrm{number\\_of\\_standard\\_deviations} \\cdot \\mathrm{np}.\\mathrm{interp} \\mathopen{}\\left( T, \\mathrm{table7}_{\\textrm{"period"}}, \\mathrm{table7}_{\\textrm{"σtotal"}} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathrm{std} \\gets 0 \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{amp} \\gets \\exp \\mathopen{}\\left( \\mathrm{f1} + \\mathrm{f2} \\cdot \\log \\mathopen{}\\left( \\frac{PSa + 0.1}{0.1} \\mathclose{}\\right) + \\mathrm{std} \\mathclose{}\\right) \\\\ \\hspace{1em} PSa \\gets PSa \\cdot \\mathrm{amp} \\\\ \\hspace{1em} \\mathbf{return} \\ PSa \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tperiod (float): Vibration period of structure or soil\n\tpseudo_spectral_acceleration (float): Pseudo-spectral acceleration for seismic analysis\n\tspecial_layers_thickness (float): Thickness of special soil layers (NEHRP F site classification)\n\tspecial_shear_velocity_mean (float): Mean shear wave velocity of special soil layers\n\tspecial_shear_strain_mean (float): Mean shear strain at G/G_max=0.5 for special soil layers\n\tspecial_cyclic_resistance_ratio_min (float): Minimum cyclic resistance ratio for special soil layers\n\tnumber_of_standard_deviations (float): Number of standard deviations for statistical analysis\n\n\nReturns:\n\tpseudo_spectral_acceleration (float): Pseudo-spectral acceleration for seismic analysis\n\n'
    },
    'soil_classification': {
        'get_a2_group':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_a2\\_group}(PI, LL) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{is\\_null} \\mathopen{}\\left( LL \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{return} \\ \\textrm{"A-2"} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ PI \\le 10 \\\\ \\hspace{3em} \\mathbf{if} \\ LL \\le 40 \\\\ \\hspace{4em} \\mathbf{return} \\ \\textrm{"A-2-4"} \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ LL > 40 \\\\ \\hspace{5em} \\mathbf{return} \\ \\textrm{"A-2-5"} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ PI > 10 \\\\ \\hspace{4em} \\mathbf{if} \\ LL \\le 40 \\\\ \\hspace{5em} \\mathbf{return} \\ \\textrm{"A-2-6"} \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} \\mathbf{if} \\ LL > 40 \\\\ \\hspace{6em} \\mathbf{return} \\ \\textrm{"A-2-7"} \\\\ \\hspace{5em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tplasticity_index (float): Plasticity index of soil\n\tliquid_limit (float): Liquid limit of soil\n\n\nReturns:\n\taashto_symbol (str): AASHTO classification system symbol\n\n',
        'get_aashto_group_index':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_aashto\\_group\\_index}(\\mathrm{aashto\\_symbol}, FC, PI, LL, NP) \\\\ \\begin{array}{l} \\hspace{1em} \\mathbf{function} \\ \\mathrm{aashto\\_group\\_index\\_round}(\\mathrm{gi}) \\\\ \\hspace{2em} \\textrm{"Round AASHTO Group Index values to nearest integer, with 0.5 rounding up to 1"} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathopen{}\\left\\lceil \\mathrm{gi} - 0.5 \\mathclose{}\\right\\rceil \\\\ \\hspace{1em} \\mathbf{end \\ function} \\end{array} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{aashto\\_symbol} \\in \\mathopen{}\\left[ \\textrm{"A-1-a"}, \\textrm{"A-1-b"}, \\textrm{"A-3"}, \\textrm{"A-2-4"}, \\textrm{"A-2-5"} \\mathclose{}\\right] \\\\ \\hspace{2em} \\mathbf{return} \\ 0 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ NP \\land \\mathrm{is\\_null} \\mathopen{}\\left( LL \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{return} \\ 0 \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathrm{group\\_index} \\gets \\mathrm{None} \\\\ \\hspace{3em} \\mathbf{if} \\ \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( PI \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathrm{group\\_index\\_plasticity\\_index\\_portion} \\gets 0.01 \\mathopen{}\\left( FC - 15 \\mathclose{}\\right) \\mathopen{}\\left( PI - 10 \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathbf{if} \\ \\mathrm{aashto\\_symbol} \\in \\mathopen{}\\left[ \\textrm{"A-2-6"}, \\textrm{"A-2-7"} \\mathclose{}\\right] \\\\ \\hspace{5em} \\mathrm{group\\_index} \\gets \\mathrm{group\\_index\\_plasticity\\_index\\_portion} \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} \\mathbf{if} \\ \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( LL \\mathclose{}\\right) \\\\ \\hspace{6em} \\mathrm{group\\_index} \\gets \\mathopen{}\\left( FC - 35 \\mathclose{}\\right) \\mathopen{}\\left( 0.2 + 0.005 \\mathopen{}\\left( LL - 40 \\mathclose{}\\right) \\mathclose{}\\right) + \\mathrm{group\\_index\\_plasticity\\_index\\_portion} \\\\ \\hspace{5em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{if} \\ \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( \\mathrm{group\\_index} \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathbf{return} \\ \\mathrm{aashto\\_group\\_index\\_round} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( \\mathrm{group\\_index}, 0, \\mathrm{None} \\mathclose{}\\right) \\mathclose{}\\right).\\mathrm{astype} \\mathopen{}\\left( \\mathrm{int} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{return} \\ \\mathrm{None} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\taashto_symbol (str): AASHTO classification system symbol\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tplasticity_index (float): Plasticity index of soil\n\tliquid_limit (float): Liquid limit of soil\n\tnon_plastic (bool): Indicates non-plastic soil (PI=0)\n\n\nReturns:\n\taashto_group_index (int): AASHTO classification system group index\n\n',
        'get_aashto_symbol_coarse':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_aashto\\_symbol\\_coarse}(FC, P_{10}, P_{40}, LL, PI, NP) \\\\ \\hspace{1em} \\mathbf{if} \\ P_{10} \\le 50 \\land P_{40} \\le 30 \\land FC \\le 15 \\land PI \\le 6 \\\\ \\hspace{2em} \\mathbf{return} \\ \\textrm{"A-1-a"} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ P_{40} \\le 50 \\\\ \\hspace{3em} \\mathbf{if} \\ \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( PI \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathbf{if} \\ FC \\le 25 \\land PI \\le 6 \\\\ \\hspace{5em} \\mathbf{return} \\ \\textrm{"A-1-b"} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{return} \\ \\mathrm{get\\_a2\\_group} \\mathopen{}\\left( PI, LL \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ P_{40} > 50 \\\\ \\hspace{4em} \\mathbf{if} \\ FC \\le 10 \\land \\mathopen{}\\left( NP \\lor PI = 0 \\mathclose{}\\right) \\\\ \\hspace{5em} \\mathbf{return} \\ \\textrm{"A-3"} \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} \\mathbf{return} \\ \\mathrm{get\\_a2\\_group} \\mathopen{}\\left( PI, LL \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{None} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tpercent_passing_no10 (float): Percentage passing No. 10 sieve\n\tpercent_passing_no40 (float): Percentage passing No. 40 sieve\n\tliquid_limit (float): Liquid limit of soil\n\tplasticity_index (float): Plasticity index of soil\n\tnon_plastic (bool): Indicates non-plastic soil (PI=0)\n\n\nReturns:\n\taashto_symbol (str): AASHTO classification system symbol\n\n',
        'get_aashto_symbol_fine':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_aashto\\_symbol\\_fine}(PI, LL) \\\\ \\hspace{1em} \\mathrm{aashto\\_symbol} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ PI \\le 10 \\\\ \\hspace{2em} \\mathbf{if} \\ LL \\le 40 \\\\ \\hspace{3em} \\mathrm{aashto\\_symbol} \\gets \\textrm{"A-4"} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ LL > 40 \\\\ \\hspace{4em} \\mathrm{aashto\\_symbol} \\gets \\textrm{"A-5"} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ PI > 10 \\\\ \\hspace{3em} \\mathbf{if} \\ LL \\le 40 \\\\ \\hspace{4em} \\mathrm{aashto\\_symbol} \\gets \\textrm{"A-6"} \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ LL > 40 \\\\ \\hspace{5em} \\mathbf{if} \\ PI \\le LL - 30 \\\\ \\hspace{6em} \\mathrm{aashto\\_symbol} \\gets \\textrm{"A-7-5"} \\\\ \\hspace{5em} \\mathbf{else} \\\\ \\hspace{6em} \\mathbf{if} \\ PI > LL - 30 \\\\ \\hspace{7em} \\mathrm{aashto\\_symbol} \\gets \\textrm{"A-7-6"} \\\\ \\hspace{6em} \\mathbf{end \\ if} \\\\ \\hspace{5em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{aashto\\_symbol} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tplasticity_index (float): Plasticity index of soil\n\tliquid_limit (float): Liquid limit of soil\n\n\nReturns:\n\taashto_symbol (str): AASHTO classification system symbol\n\n',
        'get_soil_classification__usda1993soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_\\_usda1993soil}(\\mathrm{percent\\_sand}, \\mathrm{percent\\_clay}, \\mathrm{language}) \\\\ \\hspace{1em} \\mathrm{soil\\_classification\\_\\_usda1993soil} \\gets \\mathrm{\\_get\\_soil\\_classification\\_\\_usda1993soil\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{soil\\_classification\\_\\_usda1993soil} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpercent_sand (float): Sand percentage (% passing No. 4 sieve)\n\tpercent_clay (float): Clay percentage for USDA classification\n\tlanguage (str): Language\n\n\nReturns:\n\tusda_symbol (str): USDA soil classification symbol\n\tusda_description (str): USDA soil classification description\n\n',
        'get_soil_classification__usda1993soil_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_\\_usda1993soil\\_scalar}(\\mathrm{percent\\_sand}, \\mathrm{percent\\_clay}, \\mathrm{language}) \\\\ \\hspace{1em} \\mathrm{symbology} \\gets \\mathrm{ReferenceData}.\\mathrm{SoilClassificationSymbology}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"key"}, \\mathrm{language} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{symbol} \\gets \\textrm{""} \\\\ \\hspace{1em} \\mathrm{description} \\gets \\textrm{""} \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{is\\_null} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{percent\\_sand}, \\mathrm{percent\\_clay} \\mathclose{}\\right] \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{percent\\_sum} \\gets \\sum \\mathopen{}\\left[ \\mathrm{percent\\_sand}, \\mathrm{percent\\_clay} \\mathclose{}\\right] \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{percent\\_sum} > 100 \\\\ \\hspace{3em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"Sum of sand \\& clay \\% = \\{\\} can\'t be > 100\\%"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{percent\\_sum} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathrm{percent\\_silt} \\gets 100 - \\mathrm{percent\\_sand} - \\mathrm{percent\\_clay} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{percent\\_silt} + 1.5 \\mathrm{percent\\_clay} < 15 \\\\ \\hspace{3em} \\mathrm{symbol} \\gets \\textrm{"Sa"} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ \\mathrm{percent\\_silt} + 1.5 \\mathrm{percent\\_clay} \\ge 15 \\land \\mathrm{percent\\_silt} + 2 \\mathrm{percent\\_clay} < 30 \\\\ \\hspace{4em} \\mathrm{symbol} \\gets \\textrm{"LoSa"} \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ 7 \\le \\mathrm{percent\\_clay} < 20 \\land \\mathrm{percent\\_sand} > 52 \\land \\mathrm{percent\\_silt} + 2 \\mathrm{percent\\_clay} \\ge 30 \\lor \\mathrm{percent\\_clay} < 7 \\land \\mathrm{percent\\_silt} < 50 \\land \\mathrm{percent\\_silt} + 2 \\mathrm{percent\\_clay} \\ge 30 \\\\ \\hspace{5em} \\mathrm{symbol} \\gets \\textrm{"SaLo"} \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} \\mathbf{if} \\ 7 \\le \\mathrm{percent\\_clay} < 27 \\land 28 \\le \\mathrm{percent\\_silt} < 50 \\land \\mathrm{percent\\_sand} \\le 52 \\\\ \\hspace{6em} \\mathrm{symbol} \\gets \\textrm{"Lo"} \\\\ \\hspace{5em} \\mathbf{else} \\\\ \\hspace{6em} \\mathbf{if} \\ \\mathrm{percent\\_silt} \\ge 50 \\land 12 \\le \\mathrm{percent\\_clay} < 27 \\lor 50 \\le \\mathrm{percent\\_silt} < 80 \\land \\mathrm{percent\\_clay} < 12 \\\\ \\hspace{7em} \\mathrm{symbol} \\gets \\textrm{"SiLo"} \\\\ \\hspace{6em} \\mathbf{else} \\\\ \\hspace{7em} \\mathbf{if} \\ \\mathrm{percent\\_silt} \\ge 80 \\land \\mathrm{percent\\_clay} < 12 \\\\ \\hspace{8em} \\mathrm{symbol} \\gets \\textrm{"Si"} \\\\ \\hspace{7em} \\mathbf{else} \\\\ \\hspace{8em} \\mathbf{if} \\ 20 \\le \\mathrm{percent\\_clay} < 35 \\land \\mathrm{percent\\_silt} < 28 \\land \\mathrm{percent\\_sand} > 45 \\\\ \\hspace{9em} \\mathrm{symbol} \\gets \\textrm{"SaClLo"} \\\\ \\hspace{8em} \\mathbf{else} \\\\ \\hspace{9em} \\mathbf{if} \\ 27 \\le \\mathrm{percent\\_clay} < 40 \\land 20 < \\mathrm{percent\\_sand} \\le 45 \\\\ \\hspace{10em} \\mathrm{symbol} \\gets \\textrm{"ClLo"} \\\\ \\hspace{9em} \\mathbf{else} \\\\ \\hspace{10em} \\mathbf{if} \\ 27 \\le \\mathrm{percent\\_clay} < 40 \\land \\mathrm{percent\\_sand} \\le 20 \\\\ \\hspace{11em} \\mathrm{symbol} \\gets \\textrm{"SiClLo"} \\\\ \\hspace{10em} \\mathbf{else} \\\\ \\hspace{11em} \\mathbf{if} \\ \\mathrm{percent\\_clay} \\ge 35 \\land \\mathrm{percent\\_sand} > 45 \\\\ \\hspace{12em} \\mathrm{symbol} \\gets \\textrm{"SaCl"} \\\\ \\hspace{11em} \\mathbf{else} \\\\ \\hspace{12em} \\mathbf{if} \\ \\mathrm{percent\\_clay} \\ge 40 \\land \\mathrm{percent\\_silt} \\ge 40 \\\\ \\hspace{13em} \\mathrm{symbol} \\gets \\textrm{"SiCl"} \\\\ \\hspace{12em} \\mathbf{else} \\\\ \\hspace{13em} \\mathbf{if} \\ \\mathrm{percent\\_clay} \\ge 40 > \\mathrm{percent\\_silt} \\land \\mathrm{percent\\_sand} \\le 45 \\\\ \\hspace{14em} \\mathrm{symbol} \\gets \\textrm{"Cl"} \\\\ \\hspace{13em} \\mathbf{else} \\\\ \\hspace{14em} \\mathrm{symbol} \\gets \\textrm{""} \\\\ \\hspace{13em} \\mathbf{end \\ if} \\\\ \\hspace{12em} \\mathbf{end \\ if} \\\\ \\hspace{11em} \\mathbf{end \\ if} \\\\ \\hspace{10em} \\mathbf{end \\ if} \\\\ \\hspace{9em} \\mathbf{end \\ if} \\\\ \\hspace{8em} \\mathbf{end \\ if} \\\\ \\hspace{7em} \\mathbf{end \\ if} \\\\ \\hspace{6em} \\mathbf{end \\ if} \\\\ \\hspace{5em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathrm{description} \\gets \\mathrm{symbology}_{\\mathrm{symbol}} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{symbol}, \\mathrm{description}.\\mathrm{capitalize} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpercent_sand (float): Sand percentage (% passing No. 4 sieve)\n\tpercent_clay (float): Clay percentage for USDA classification\n\tlanguage (str): Language\n\n\nReturns:\n\tusda_symbol (str): USDA soil classification symbol\n\tusda_description (str): USDA soil classification description\n\n',
        'get_soil_classification_aashto__astm2015d3282':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_aashto\\_\\_astm2015d3282}(FC, P_{10}, P_{40}, LL, PI, NP, \\mathrm{language}) \\\\ \\hspace{1em} \\mathrm{soil\\_classification\\_aashto} \\gets \\mathrm{\\_get\\_soil\\_classification\\_aashto\\_\\_astm2015d3282\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{soil\\_classification\\_aashto} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tpercent_passing_no10 (float): Percentage passing No. 10 sieve\n\tpercent_passing_no40 (float): Percentage passing No. 40 sieve\n\tliquid_limit (float): Liquid limit of soil\n\tplasticity_index (float): Plasticity index of soil\n\tnon_plastic (bool): Indicates non-plastic soil (PI=0)\n\tlanguage (str): Language\n\n\nReturns:\n\taashto_symbol (str): AASHTO classification system symbol\n\taashto_group_index (int): AASHTO classification system group index\n\taashto_description (str): AASHTO classification system description\n\n',
        'get_soil_classification_aashto__astm2015d3282_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_aashto\\_\\_astm2015d3282\\_scalar}(FC, P_{10}, P_{40}, LL, PI, NP, \\mathrm{language}) \\\\ \\hspace{1em} \\mathrm{symbology} \\gets \\mathrm{ReferenceData}.\\mathrm{SoilClassificationSymbology}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"key"}, \\mathrm{language} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ NP \\\\ \\hspace{2em} PI \\gets 0 \\\\ \\hspace{2em} LL \\gets 0 \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{aashto\\_symbol} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathrm{group\\_index} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathrm{description} \\gets \\textrm{""} \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( FC \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{if} \\ FC \\le 35 \\\\ \\hspace{3em} \\mathbf{if} \\ \\lnot \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{is\\_null} \\mathopen{}\\left( \\mathopen{}\\left[ FC, P_{10}, P_{40} \\mathclose{}\\right] \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathrm{aashto\\_symbol} \\gets \\mathrm{get\\_aashto\\_symbol\\_coarse} \\mathopen{}\\left( FC, P_{10}, P_{40}, LL, PI, NP \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{if} \\ FC > 35 \\\\ \\hspace{3em} \\mathbf{if} \\ \\lnot \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{is\\_null} \\mathopen{}\\left( \\mathopen{}\\left[ PI, LL \\mathclose{}\\right] \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathrm{aashto\\_symbol} \\gets \\mathrm{get\\_aashto\\_symbol\\_fine} \\mathopen{}\\left( PI, LL \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{aashto\\_symbol} \\not\\equiv \\mathrm{None} \\\\ \\hspace{3em} \\mathrm{group\\_index} \\gets \\mathrm{get\\_aashto\\_group\\_index} \\mathopen{}\\left( \\mathrm{aashto\\_symbol}, FC, PI, LL, NP \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{description} \\gets \\mathrm{symbology}_{\\mathrm{aashto\\_symbol}} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{aashto\\_symbol}, \\mathrm{group\\_index}, \\mathrm{description}.\\mathrm{capitalize} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tpercent_passing_no10 (float): Percentage passing No. 10 sieve\n\tpercent_passing_no40 (float): Percentage passing No. 40 sieve\n\tliquid_limit (float): Liquid limit of soil\n\tplasticity_index (float): Plasticity index of soil\n\tnon_plastic (bool): Indicates non-plastic soil (PI=0)\n\tlanguage (str): Language\n\n\nReturns:\n\taashto_symbol (str): AASHTO classification system symbol\n\taashto_group_index (int): AASHTO classification system group index\n\taashto_description (str): AASHTO classification system description\n\n',
        'get_soil_classification_uscs__astm2017d2487':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_uscs\\_\\_astm2017d2487}(FC, \\mathrm{percent\\_sand}, \\mathrm{percent\\_gravel}, LL, PI, C_u, C_c, NP, \\mathrm{language}, \\mathrm{moreno\\_alonso\\_plasticity\\_modification}, P_{4}, PL, \\mathrm{has\\_organic\\_fines}) \\\\ \\hspace{1em} \\mathrm{soil\\_classification\\_uscs\\_\\_astm2017d2487} \\gets \\mathrm{\\_get\\_soil\\_classification\\_uscs\\_\\_astm2017d2487\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{soil\\_classification\\_uscs\\_\\_astm2017d2487} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tpercent_sand (float): Sand percentage (% passing No. 4 sieve)\n\tpercent_gravel (float): Gravel percentage (% retained on No. 4 sieve)\n\tliquid_limit (float): Liquid limit of soil\n\tplasticity_index (float): Plasticity index of soil\n\tuniformity_coefficient (float): Uniformity coefficient for particle size distribution\n\tcurvature_coefficient (float): Curvature coefficient for particle size distribution\n\tnon_plastic (bool): Indicates non-plastic soil (PI=0)\n\tlanguage (str): Language\n\tmoreno_alonso_plasticity_modification (bool): Plasticity chart modification per Moreno & Alonso (2018)\n\tpercent_passing_no4 (float): Percentage passing No. 4 sieve\n\tplastic_limit (float): Plastic limit of soil\n\thas_organic_fines (bool): Indicates if the soil contains organic fines\n\n\nReturns:\n\tuscs_symbol (str): Unified Soil Classification System symbol\n\tuscs_description (str): Unified Soil Classification System description\n\n',
        'get_soil_classification_uscs__astm2017d2487_coarse_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_uscs\\_\\_astm2017d2487\\_coarse\\_scalar}(\\mathrm{percent\\_sand}, \\mathrm{percent\\_gravel}, FC, C_u, C_c, LL, PI, \\mathrm{language}, \\mathrm{only\\_group\\_symbol\\_and\\_group}, \\mathrm{moreno\\_alonso\\_plasticity\\_modification}, \\mathrm{has\\_organic\\_fines}) \\\\ \\hspace{1em} \\mathrm{symbology} \\gets \\mathrm{ReferenceData}.\\mathrm{SoilClassificationSymbology}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"key"}, \\mathrm{language} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{symbology\\_en} \\gets \\mathrm{ReferenceData}.\\mathrm{SoilClassificationSymbology}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"key"}, \\textrm{"en"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{uniformity\\_coefficient\\_map} \\gets \\mathrm{dict} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{is\\_null} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{percent\\_sand}, \\mathrm{percent\\_gravel} \\mathclose{}\\right] \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{group\\_symbol} \\gets \\textrm{"[S/G]"} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathrm{group\\_symbol} \\gets \\left\\{ \\begin{array}{ll} \\textrm{"S"}, & \\mathrm{if} \\ \\mathrm{percent\\_sand} \\ge \\mathrm{percent\\_gravel} \\\\ \\textrm{"G"}, & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{group} \\gets \\mathrm{symbology}_{\\mathrm{group\\_symbol}} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{only\\_group\\_symbol\\_and\\_group} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{group\\_symbol}, \\mathrm{group} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{is\\_null} \\mathopen{}\\left( FC \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{group\\_symbol}, \\mathrm{group} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{combination\\_str} \\gets \\mathrm{symbology}_{\\textrm{"combination\\_str"}} \\\\ \\hspace{1em} \\mathrm{combination\\_str2} \\gets \\mathrm{symbology}_{\\textrm{"combination\\_str2"}} \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{fine\\_group\\_symbol}, \\mathrm{fine\\_group} \\mathclose{}\\right) \\gets \\mathopen{}\\left( \\mathrm{None}, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ FC \\ge 5 \\\\ \\hspace{2em} \\mathopen{}\\left( \\mathrm{fine\\_group\\_symbol}, \\mathrm{fine\\_group} \\mathclose{}\\right) \\gets \\mathrm{get\\_soil\\_classification\\_uscs\\_\\_astm2017d2487\\_fine\\_scalar} \\mathopen{}\\left( LL, PI, \\mathrm{percent\\_sand}, \\mathrm{percent\\_gravel} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ FC \\le 12 \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{group\\_symbol} \\ne \\textrm{"[S/G]"} \\land \\lnot \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{is\\_null} \\mathopen{}\\left( \\mathopen{}\\left[ C_u, C_c \\mathclose{}\\right] \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{graded\\_symbol} \\gets \\left\\{ \\begin{array}{ll} \\textrm{"W"}, & \\mathrm{if} \\ C_u \\ge \\mathrm{uniformity\\_coefficient\\_map}_{\\mathrm{group\\_symbol}} \\land 1 \\le C_c \\le 3 \\\\ \\textrm{"P"}, & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathrm{graded\\_symbol} \\gets \\textrm{"[W/P]"} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathrm{graded\\_description} \\gets \\mathrm{symbology}_{\\mathrm{graded\\_symbol}} \\\\ \\hspace{2em} \\mathrm{symbol} \\gets \\textrm{"\\{\\}\\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{group\\_symbol}, \\mathrm{graded\\_symbol} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{description} \\gets \\left\\{ \\begin{array}{ll} \\textrm{"\\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{graded\\_description}, \\mathrm{group} \\mathclose{}\\right), & \\mathrm{if} \\ \\mathrm{language} = \\textrm{"en"} \\\\ \\textrm{"\\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{group}, \\mathrm{graded\\_description} \\mathclose{}\\right), & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{2em} \\mathbf{if} \\ FC \\ge 5 \\\\ \\hspace{3em} \\mathrm{fine\\_group\\_symbol\\_} \\gets \\mathrm{fine\\_group\\_symbol} \\\\ \\hspace{3em} \\mathbf{if} \\ \\mathrm{fine\\_group\\_symbol} \\in \\mathopen{}\\left[ \\textrm{"CL-ML"}, \\textrm{"CH-MH"} \\mathclose{}\\right] \\\\ \\hspace{4em} \\mathrm{fine\\_group\\_symbol\\_} \\gets \\textrm{"C"} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathrm{symbol} \\gets \\mathrm{symbol} + \\textrm{"-\\{\\}\\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{group\\_symbol}, \\mathrm{fine\\_group\\_symbol\\_} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{description} \\gets \\mathrm{description} + \\textrm{" \\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{combination\\_str}, \\mathrm{fine\\_group} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ FC > 12 \\\\ \\hspace{3em} \\mathrm{group\\_ey} \\gets \\mathrm{symbology}_{\\textrm{"\\{\\}-ey"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{fine\\_group\\_symbol} \\mathclose{}\\right)} \\\\ \\hspace{3em} \\mathrm{description} \\gets \\left\\{ \\begin{array}{ll} \\textrm{"\\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{group\\_ey}, \\mathrm{group} \\mathclose{}\\right), & \\mathrm{if} \\ \\mathrm{language} = \\textrm{"en"} \\\\ \\textrm{"\\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{group}, \\mathrm{group\\_ey} \\mathclose{}\\right), & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{3em} \\mathbf{if} \\ \\mathrm{fine\\_group\\_symbol} \\in \\mathopen{}\\left[ \\textrm{"CL-ML"}, \\textrm{"CH-MH"} \\mathclose{}\\right] \\\\ \\hspace{4em} \\mathrm{symbol} \\gets \\textrm{"\\{\\}C-\\{\\}M"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{group\\_symbol}, \\mathrm{group\\_symbol} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathrm{symbol} \\gets \\textrm{"\\{\\}\\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{group\\_symbol}, \\mathrm{fine\\_group\\_symbol} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathrm{symbol} \\gets \\textrm{""} \\\\ \\hspace{3em} \\mathrm{description} \\gets \\textrm{""} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{group\\_symbol} \\ne \\textrm{"[S/G]"} \\\\ \\hspace{2em} \\mathrm{opposite\\_group\\_symbol} \\gets \\mathrm{OPPOSITE\\_COARSE\\_SYMBOL\\_d}_{\\mathrm{group\\_symbol}} \\\\ \\hspace{2em} \\mathrm{opposite\\_group\\_en} \\gets \\mathrm{symbology\\_en}_{\\mathrm{opposite\\_group\\_symbol}} \\\\ \\hspace{2em} \\mathrm{opposite\\_group} \\gets \\mathrm{symbology}_{\\mathrm{opposite\\_group\\_symbol}} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{locals} \\mathopen{}\\left( \\mathclose{}\\right)_{\\textrm{"percent\\_\\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{opposite\\_group\\_en} \\mathclose{}\\right)} \\ge 15 \\\\ \\hspace{3em} \\mathrm{combination\\_str\\_} \\gets \\left\\{ \\begin{array}{ll} \\mathrm{combination\\_str2}, & \\mathrm{if} \\ \\mathrm{combination\\_str} \\in \\mathrm{description} \\\\ \\mathrm{combination\\_str}, & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{3em} \\mathrm{description} \\gets \\mathrm{description} + \\textrm{" \\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{combination\\_str\\_}, \\mathrm{opposite\\_group} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{has\\_organic\\_fines} \\\\ \\hspace{3em} \\mathrm{description} \\gets \\mathrm{description} + \\textrm{" with organic fines"} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{symbol}, \\mathrm{description} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpercent_sand (float): Sand percentage (% passing No. 4 sieve)\n\tpercent_gravel (float): Gravel percentage (% retained on No. 4 sieve)\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tuniformity_coefficient (float): Uniformity coefficient for particle size distribution\n\tcurvature_coefficient (float): Curvature coefficient for particle size distribution\n\tliquid_limit (float): Liquid limit of soil\n\tplasticity_index (float): Plasticity index of soil\n\tlanguage (str): Language\n\tmoreno_alonso_plasticity_modification (bool): Plasticity chart modification per Moreno & Alonso (2018)\n\thas_organic_fines (bool): Indicates if the soil contains organic fines\n\n\nReturns:\n\tuscs_symbol (str): Unified Soil Classification System symbol\n\tuscs_description (str): Unified Soil Classification System description\n\n',
        'get_soil_classification_uscs__astm2017d2487_fine_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_uscs\\_\\_astm2017d2487\\_fine\\_scalar}(LL, PI, \\mathrm{percent\\_sand}, \\mathrm{percent\\_gravel}, \\mathrm{language}, \\mathrm{only\\_group\\_symbol\\_and\\_group}, \\mathrm{moreno\\_alonso\\_plasticity\\_modification}, \\mathrm{has\\_organic\\_fines}) \\\\ \\hspace{1em} \\mathrm{symbology} \\gets \\mathrm{ReferenceData}.\\mathrm{SoilClassificationSymbology}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"key"}, \\mathrm{language} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{symbology\\_en} \\gets \\mathrm{ReferenceData}.\\mathrm{SoilClassificationSymbology}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"key"}, \\textrm{"en"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{description} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{is\\_null} \\mathopen{}\\left( \\mathopen{}\\left[ LL, PI \\mathclose{}\\right] \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{group\\_symbol} \\gets \\textrm{"[C/M]"} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{moreno\\_alonso\\_plasticity\\_modification} \\\\ \\hspace{3em} \\mathrm{cline\\_plasticity\\_index} \\gets \\frac{LL}{2} \\\\ \\hspace{3em} \\mathrm{mline\\_plasticity\\_index} \\gets \\frac{LL}{3} \\\\ \\hspace{3em} \\mathbf{if} \\ PI > \\mathrm{cline\\_plasticity\\_index} \\\\ \\hspace{4em} \\mathrm{group\\_symbol} \\gets \\textrm{"C"} \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ PI > \\mathrm{mline\\_plasticity\\_index} \\\\ \\hspace{5em} \\mathrm{group\\_symbol} \\gets \\left\\{ \\begin{array}{ll} \\textrm{"CL-ML"}, & \\mathrm{if} \\ LL < 50 \\\\ \\textrm{"CH-MH"}, & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} \\mathrm{group\\_symbol} \\gets \\textrm{"M"} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathrm{aline\\_plots\\_on} \\gets \\left\\{ \\begin{array}{ll} \\textrm{"below"}, & \\mathrm{if} \\ PI < \\left\\{ \\begin{array}{ll} 4, & \\mathrm{if} \\ LL \\le 25.5 \\\\ 0.73 \\mathopen{}\\left( LL - 20 \\mathclose{}\\right), & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\textrm{"above"}, & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{3em} \\mathbf{if} \\ \\lnot \\mathrm{has\\_organic\\_fines} \\\\ \\hspace{4em} \\mathrm{group\\_symbol} \\gets \\left\\{ \\begin{array}{ll} \\textrm{"C"}, & \\mathrm{if} \\ \\mathrm{aline\\_plots\\_on} = \\textrm{"above"} \\\\ \\textrm{"M"}, & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{4em} \\mathbf{if} \\ \\mathrm{aline\\_plots\\_on} = \\textrm{"above"} \\land 4 \\le PI \\le 7 \\\\ \\hspace{5em} \\mathrm{group\\_symbol} \\gets \\textrm{"CL-ML"} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathrm{group\\_symbol} \\gets \\left\\{ \\begin{array}{ll} \\textrm{"O-C"}, & \\mathrm{if} \\ \\mathrm{aline\\_plots\\_on} = \\textrm{"above"} \\\\ \\textrm{"O-M"}, & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{group} \\gets \\mathrm{symbology}_{\\mathrm{group\\_symbol}} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{has\\_organic\\_fines} \\\\ \\hspace{2em} \\mathrm{group\\_symbol} \\gets \\mathrm{group\\_symbol}.\\mathrm{split} \\mathopen{}\\left( \\textrm{"-"} \\mathclose{}\\right)_{0} \\\\ \\hspace{2em} \\mathrm{description} \\gets \\mathrm{group} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{only\\_group\\_symbol\\_and\\_group} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{group\\_symbol}, \\mathrm{group} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{group\\_symbol} \\in \\mathopen{}\\left[ \\textrm{"CL-ML"}, \\textrm{"CH-MH"} \\mathclose{}\\right] \\\\ \\hspace{2em} \\mathrm{symbol} \\gets \\mathrm{group\\_symbol} \\\\ \\hspace{2em} \\mathrm{description} \\gets \\mathrm{group} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{is\\_null} \\mathopen{}\\left( LL \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{plasticity\\_symbol} \\gets \\textrm{"[L/H]"} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathrm{plasticity\\_symbol} \\gets \\left\\{ \\begin{array}{ll} \\textrm{"L"}, & \\mathrm{if} \\ LL < 50 \\\\ \\textrm{"H"}, & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathrm{symbol} \\gets \\textrm{"\\{\\}\\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{group\\_symbol}, \\mathrm{plasticity\\_symbol} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{description} \\equiv \\mathrm{None} \\\\ \\hspace{3em} \\mathrm{plasticity\\_description} \\gets \\mathrm{symbology}_{\\mathrm{plasticity\\_symbol}} \\\\ \\hspace{3em} \\mathrm{description} \\gets \\left\\{ \\begin{array}{ll} \\textrm{"\\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{plasticity\\_description}, \\mathrm{group} \\mathclose{}\\right), & \\mathrm{if} \\ \\mathrm{language} = \\textrm{"en"} \\\\ \\textrm{"\\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{group}, \\mathrm{plasticity\\_description} \\mathclose{}\\right), & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{combination\\_str} \\gets \\mathrm{symbology}_{\\textrm{"combination\\_str"}} \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{coarse\\_group\\_symbol}, \\mathrm{coarse\\_group} \\mathclose{}\\right) \\gets \\mathrm{get\\_soil\\_classification\\_uscs\\_\\_astm2017d2487\\_coarse\\_scalar} \\mathopen{}\\left( \\mathrm{percent\\_sand}, \\mathrm{percent\\_gravel} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{coarse\\_group\\_symbol} \\ne \\textrm{"[S/G]"} \\\\ \\hspace{2em} \\mathrm{opposite\\_coarse\\_group\\_en} \\gets \\mathrm{symbology\\_en}_{\\mathrm{OPPOSITE\\_COARSE\\_SYMBOL\\_d}_{\\mathrm{coarse\\_group\\_symbol}}} \\\\ \\hspace{2em} \\mathrm{opposite\\_coarse\\_group} \\gets \\mathrm{symbology}_{\\mathrm{OPPOSITE\\_COARSE\\_SYMBOL\\_d}_{\\mathrm{coarse\\_group\\_symbol}}} \\\\ \\hspace{2em} \\mathbf{if} \\ 15 \\le \\mathrm{percent\\_sand} + \\mathrm{percent\\_gravel} < 30 \\\\ \\hspace{3em} \\mathrm{description} \\gets \\mathrm{description} + \\textrm{" \\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{combination\\_str}, \\mathrm{coarse\\_group} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ \\mathrm{percent\\_sand} + \\mathrm{percent\\_gravel} \\ge 30 \\\\ \\hspace{4em} \\mathrm{group\\_ey} \\gets \\mathrm{symbology}_{\\textrm{"\\{\\}-ey"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{coarse\\_group\\_symbol} \\mathclose{}\\right)} \\\\ \\hspace{4em} \\mathbf{if} \\ \\mathrm{language} = \\textrm{"es"} \\land \\mathrm{group\\_symbol} = \\textrm{"M"} \\\\ \\hspace{5em} \\mathrm{group\\_ey} \\gets \\mathrm{group\\_ey}.\\mathrm{replace} \\mathopen{}\\left( \\textrm{"osa"}, \\textrm{"oso"} \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathrm{description} \\gets \\left\\{ \\begin{array}{ll} \\textrm{"\\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{group\\_ey}, \\mathrm{description} \\mathclose{}\\right), & \\mathrm{if} \\ \\mathrm{language} = \\textrm{"en"} \\\\ \\textrm{"\\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{description}, \\mathrm{group\\_ey} \\mathclose{}\\right), & \\mathrm{otherwise} \\end{array} \\right. \\\\ \\hspace{4em} \\mathbf{if} \\ \\mathrm{locals} \\mathopen{}\\left( \\mathclose{}\\right)_{\\textrm{"percent\\_\\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{opposite\\_coarse\\_group\\_en} \\mathclose{}\\right)} \\ge 15 \\\\ \\hspace{5em} \\mathrm{description} \\gets \\mathrm{description} + \\textrm{" \\{\\} \\{\\}"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{combination\\_str}, \\mathrm{opposite\\_coarse\\_group} \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{symbol}, \\mathrm{description} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquid_limit (float): Liquid limit of soil\n\tplasticity_index (float): Plasticity index of soil\n\tpercent_sand (float): Sand percentage (% passing No. 4 sieve)\n\tpercent_gravel (float): Gravel percentage (% retained on No. 4 sieve)\n\tlanguage (str): Language\n\tmoreno_alonso_plasticity_modification (bool): Plasticity chart modification per Moreno & Alonso (2018)\n\thas_organic_fines (bool): Indicates if the soil contains organic fines\n\n\nReturns:\n\tuscs_symbol (str): Unified Soil Classification System symbol\n\tuscs_description (str): Unified Soil Classification System description\n\n',
        'get_soil_classification_uscs__astm2017d2487_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_uscs\\_\\_astm2017d2487\\_scalar}(FC, \\mathrm{percent\\_sand}, \\mathrm{percent\\_gravel}, LL, PI, C_u, C_c, NP, \\mathrm{language}, \\mathrm{moreno\\_alonso\\_plasticity\\_modification}, P_{4}, PL, \\mathrm{has\\_organic\\_fines}) \\\\ \\hspace{1em} \\mathbf{if} \\ NP \\\\ \\hspace{2em} PI \\gets 0 \\\\ \\hspace{2em} LL \\gets 0 \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( PL \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{is\\_null} \\mathopen{}\\left( PI \\mathclose{}\\right) \\\\ \\hspace{3em} PI \\gets LL - PL \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( P_{4} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{is\\_null} \\mathopen{}\\left( \\mathrm{percent\\_gravel} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{percent\\_gravel} \\gets 100 - P_{4} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{is\\_null} \\mathopen{}\\left( \\mathrm{percent\\_sand} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{percent\\_sand} \\gets P_{4} - FC \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{np}.\\mathrm{any} \\mathopen{}\\left( \\mathrm{is\\_null} \\mathopen{}\\left( \\mathopen{}\\left[ FC, \\mathrm{percent\\_sand}, \\mathrm{percent\\_gravel} \\mathclose{}\\right] \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{percent\\_sum} \\gets \\sum \\mathopen{}\\left[ FC, \\mathrm{percent\\_sand}, \\mathrm{percent\\_gravel} \\mathclose{}\\right] \\\\ \\hspace{2em} \\mathbf{if} \\ \\lnot \\mathrm{np}.\\mathrm{isclose} \\mathopen{}\\left( \\mathrm{percent\\_sum}, 100 \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"Sum of fines, sand \\& gravel \\% = \\{\\} not equal to 100\\%"}.\\mathrm{format} \\mathopen{}\\left( \\mathrm{percent\\_sum} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{symbol} \\gets \\textrm{""} \\\\ \\hspace{1em} \\mathrm{description} \\gets \\textrm{""} \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{is\\_null} \\mathopen{}\\left( FC \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{if} \\ FC < 50 \\\\ \\hspace{3em} \\mathopen{}\\left( \\mathrm{symbol}, \\mathrm{description} \\mathclose{}\\right) \\gets \\mathrm{get\\_soil\\_classification\\_uscs\\_\\_astm2017d2487\\_coarse\\_scalar} \\mathopen{}\\left( \\mathrm{percent\\_sand}, \\mathrm{percent\\_gravel}, FC, C_u, C_c, LL, PI, \\mathrm{language} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ FC \\ge 50 \\\\ \\hspace{4em} \\mathopen{}\\left( \\mathrm{symbol}, \\mathrm{description} \\mathclose{}\\right) \\gets \\mathrm{get\\_soil\\_classification\\_uscs\\_\\_astm2017d2487\\_fine\\_scalar} \\mathopen{}\\left( LL, PI, \\mathrm{percent\\_sand}, \\mathrm{percent\\_gravel}, \\mathrm{language} \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{symbol}, \\mathrm{description}.\\mathrm{capitalize} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tpercent_sand (float): Sand percentage (% passing No. 4 sieve)\n\tpercent_gravel (float): Gravel percentage (% retained on No. 4 sieve)\n\tliquid_limit (float): Liquid limit of soil\n\tplasticity_index (float): Plasticity index of soil\n\tuniformity_coefficient (float): Uniformity coefficient for particle size distribution\n\tcurvature_coefficient (float): Curvature coefficient for particle size distribution\n\tnon_plastic (bool): Indicates non-plastic soil (PI=0)\n\tlanguage (str): Language\n\tmoreno_alonso_plasticity_modification (bool): Plasticity chart modification per Moreno & Alonso (2018)\n\tpercent_passing_no4 (float): Percentage passing No. 4 sieve\n\tplastic_limit (float): Plastic limit of soil\n\thas_organic_fines (bool): Indicates if the soil contains organic fines\n\n\nReturns:\n\tuscs_symbol (str): Unified Soil Classification System symbol\n\tuscs_description (str): Unified Soil Classification System description\n\n',
        'get_soil_classification_usda__moreno2018clay':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_soil\\_classification\\_usda\\_\\_moreno2018clay}(\\mathrm{percent\\_sand}, LL, PI, NP, \\mathrm{language}) \\\\ \\hspace{1em} \\mathrm{language} \\gets \\mathrm{np}.\\mathrm{squeeze} \\mathopen{}\\left( \\mathrm{language} \\mathclose{}\\right).\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{symbology} \\gets \\mathrm{ReferenceData}.\\mathrm{SoilClassificationSymbology}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"key"}, \\mathrm{language} \\mathclose{}\\right) \\\\ \\hspace{1em} PI \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( NP, 0, PI \\mathclose{}\\right) \\\\ \\hspace{1em} LL \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( NP, 1, LL \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{symbol} \\gets \\mathrm{USDAMoreno2018ChartFigure}.\\mathrm{assign\\_polygons\\_labels\\_from\\_xy\\_data} \\mathopen{}\\left( \\mathrm{percent\\_sand}, \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( \\frac{PI}{LL}, 0.0001, 1 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{description} \\gets \\mathopen{}\\left[  \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathrm{symbol\\_} \\in \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( \\mathrm{symbol} \\mathclose{}\\right) \\ \\mathbf{do} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{symbol\\_} \\ne \\textrm{""} \\\\ \\hspace{3em} \\mathrm{description\\_} \\gets \\mathrm{symbology}_{\\mathrm{symbol\\_}} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathrm{description\\_} \\gets \\textrm{""} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathrm{description}.\\mathrm{append} \\mathopen{}\\left( \\mathrm{description\\_}.\\mathrm{capitalize} \\mathopen{}\\left( \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{symbol}, \\mathrm{description} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpercent_sand (float): Sand percentage (% passing No. 4 sieve)\n\tliquid_limit (float): Liquid limit of soil\n\tplasticity_index (float): Plasticity index of soil\n\tnon_plastic (bool): Indicates non-plastic soil (PI=0)\n\tlanguage (str): Language\n\n\nReturns:\n\tusda_symbol (str): USDA soil classification symbol\n\tusda_description (str): USDA soil classification description\n\n'
    },
    'soil_lab': {
        'get_a_parameter':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_a\\_parameter}(T, G_s) \\\\ \\hspace{1em} A \\gets \\mathrm{ReferenceData}.\\mathrm{HydrometerDFactor}.\\mathrm{interpolate\\_at\\_index\\_column} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{a\\_parameter}_{0} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\ttemperature (float): Temperature during testing\n\tspecific_gravity (float): Specific gravity of soil solids\n\n\nReturns:\n\ta_parameter (float): Hydrometer parameter dependent on temperature and specific gravity\n\n',
        'get_corrected_hydrometer_reading':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_corrected\\_hydrometer\\_reading}(R, F_T, F_z) \\\\ \\hspace{1em} R_{cp} \\gets R + F_T - F_z \\\\ \\hspace{1em} \\mathbf{return} \\ R_{cp} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\thydrometer_reading (float): Hydrometer reading (151H: specific gravity, 152H: grams per liter)\n\ttemperature_correction (float): Correction for hydrometer test temperature (not 20°C)\n\tzero_correction (float): Hydrometer zero correction for deflocculating agent\n\n\nReturns:\n\tcorrected_hydrometer_reading (float): Corrected hydrometer reading for percent finer calculation\n\n',
        'get_cumulative_mass_retained':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_cumulative\\_mass\\_retained}(W_n) \\\\ \\hspace{1em} W_{n\\ cum} \\gets \\mathrm{np}.\\mathrm{cumsum} \\mathopen{}\\left( W_n \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ W_{n\\ cum} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmass_retained_sieve (float): Mass of soil retained on each sieve\n\n\nReturns:\n\tcumulative_mass_retained (float): Cumulative mass of soil retained on sieves\n\n',
        'get_curvature_coefficient':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_curvature\\_coefficient}(D_{10}, D_{30}, D_{60}) \\\\ \\hspace{1em} C_c \\gets \\frac{D_{30}^{2}}{D_{10} \\cdot D_{60}} \\\\ \\hspace{1em} \\mathbf{return} \\ C_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdiameter_at_10_percent_finer (float): Diameter at 10% finer from sieve analysis\n\tdiameter_at_30_percent_finer (float): Diameter at 30% finer from sieve analysis\n\tdiameter_at_60_percent_finer (float): Diameter at 60% finer from sieve analysis\n\n\nReturns:\n\tcurvature_coefficient (float): Curvature coefficient for particle size distribution\n\n',
        'get_dry_soil_mass':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dry\\_soil\\_mass}(W_{can}, W_{can+drysoil}) \\\\ \\hspace{1em} W_{dry\\ soil} \\gets W_{can+drysoil} - W_{can} \\\\ \\hspace{1em} \\mathbf{return} \\ W_{dry\\ soil} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcan_mass (float): Mass of soil sample can\n\tcan_plus_dry_soil_mass (float): Mass of soil sample can plus dry soil\n\n\nReturns:\n\tdry_soil_mass (float): Dry soil mass in sample\n\n',
        'get_effective_length':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_length}(R_{cL}, \\mathrm{hydrometer\\_type}) \\\\ \\hspace{1em} L \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathrm{hydrometer\\_type} \\gets \\mathrm{hydrometer\\_type}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{hydrometer\\_type} = \\textrm{"152H"} \\\\ \\hspace{2em} L \\gets -0.164 R_{cL} + 16.295 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{hydrometer\\_type} = \\textrm{"151H"} \\\\ \\hspace{3em} L \\gets -0.2645 R_{cL} + 16.295 \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ L \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\teffective_length_corrected_reading (float): Corrected reading for effective length determination\n\thydrometer_type (str): Type of hydrometer used\n\n\nReturns:\n\teffective_length (float): Effective length for hydrometer particle size calculation\n\n',
        'get_effective_length_corrected_reading':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_length\\_corrected\\_reading}(R, F_m) \\\\ \\hspace{1em} R_{cL} \\gets R + F_m \\\\ \\hspace{1em} \\mathbf{return} \\ R_{cL} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\thydrometer_reading (float): Hydrometer reading (151H: specific gravity, 152H: grams per liter)\n\tmeniscus_correction (float): Meniscus correction for hydrometer readings (always positive)\n\n\nReturns:\n\teffective_length_corrected_reading (float): Corrected reading for effective length determination\n\n',
        'get_hydrometer_percent_finer':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_hydrometer\\_percent\\_finer}(\\mathrm{percent\\_finer\\_uncorrected}, FC) \\\\ \\hspace{1em} \\mathbf{if} \\ FC < 90 \\\\ \\hspace{2em} \\mathrm{percent\\_finer} \\gets \\mathrm{percent\\_finer\\_uncorrected} \\cdot \\frac{FC}{100} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathrm{percent\\_finer} \\gets \\mathrm{percent\\_finer\\_uncorrected} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{percent\\_finer} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpercent_finer_uncorrected (float): Uncorrected percentage finer from sieve analysis\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\n\nReturns:\n\tpercent_finer (float): Percentage of material finer than a given size\n\n',
        'get_liquid_limit':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquid\\_limit}(LL_{method}, N, w_c) \\\\ \\hspace{1em} \\mathbf{if} \\ LL_{method} = \\textrm{"single\\_point"} \\\\ \\hspace{2em} \\mathbf{if} \\ N < 20 \\lor N > 30 \\\\ \\hspace{3em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"\\{\\} must be between 20 and 30 for single point liquid limit method"}.\\mathrm{format} \\mathopen{}\\left( N \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{2em} LL \\gets w_c \\cdot \\mathopen{}\\left( \\frac{N}{25} \\mathclose{}\\right)^{0.121} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathopen{}\\left( LL.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right), \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ LL_{method} = \\textrm{"multi\\_point"} \\\\ \\hspace{3em} \\mathrm{fit} \\gets \\mathrm{np}.\\mathrm{polyfit} \\mathopen{}\\left( \\log_{10} N, w_c, 1 \\mathclose{}\\right) \\\\ \\hspace{3em} I_F \\gets \\mathopen{}\\left| \\mathrm{fit}_{0} \\mathclose{}\\right| \\\\ \\hspace{3em} f \\gets \\mathrm{np}.\\mathrm{poly1d} \\mathopen{}\\left( \\mathrm{fit} \\mathclose{}\\right) \\\\ \\hspace{3em} LL \\gets f \\mathopen{}\\left( \\log_{10} 25 \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{return} \\ \\mathopen{}\\left( LL, I_F \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathrm{raise\\_value\\_error} \\mathopen{}\\left( \\textrm{"\\{\\} method not valid"}.\\mathrm{format} \\mathopen{}\\left( LL_{method} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{None} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquid_limit_method (str): Method used for liquid limit determination\n\tliquid_limit_blows (int): Number of blows in liquid limit test\n\twater_content_trials (float): Natural water content for each trial\n\n\nReturns:\n\tliquid_limit (float): Liquid limit of soil\n\tflow_index (float): Slope of liquid limit flow line\n\n',
        'get_liquidity_index':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_liquidity\\_index}(w_c, LL, PI, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} LI \\gets \\frac{w_c - \\mathopen{}\\left( LL - PI \\mathclose{}\\right)}{PI} \\\\ \\hspace{1em} \\mathbf{return} \\ LI \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\twater_content (float): Natural water content of soil\n\tliquid_limit (float): Liquid limit of soil\n\tplasticity_index (float): Plasticity index of soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tliquidity_index (float): Liquidity index of soil\n\n',
        'get_moisture_mass':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_moisture\\_mass}(W_{can+wetsoil}, W_{can+drysoil}) \\\\ \\hspace{1em} W_{moisture} \\gets W_{can+wetsoil} - W_{can+drysoil} \\\\ \\hspace{1em} \\mathbf{return} \\ W_{moisture} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcan_plus_wet_soil_mass (float): Mass of soil sample can plus wet soil\n\tcan_plus_dry_soil_mass (float): Mass of soil sample can plus dry soil\n\n\nReturns:\n\tmoisture_mass (float): Mass of moisture in soil sample\n\n',
        'get_particle_size':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_particle\\_size}(L, \\mathrm{hydrometer\\_time}, A) \\\\ \\hspace{1em} D \\gets A \\cdot \\sqrt{ \\frac{L}{\\mathrm{hydrometer\\_time}} } \\\\ \\hspace{1em} \\mathbf{return} \\ D \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\teffective_length (float): Effective length for hydrometer particle size calculation\n\thydrometer_time (float): Elapsed time for hydrometer test\n\ta_parameter (float): Hydrometer parameter dependent on temperature and specific gravity\n\n\nReturns:\n\tparticle_size (float): Particle size from sieve or hydrometer analysis\n\n',
        'get_particle_size_from_sieve_number':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_particle\\_size\\_from\\_sieve\\_number}(\\mathrm{sieve\\_number}) \\\\ \\hspace{1em} D \\gets \\mathrm{replace\\_from\\_mapping} \\mathopen{}\\left( \\mathrm{sieve\\_number}, \\mathrm{SIEVES\\_SI\\_TO\\_PARTICLE\\_SIZE\\_MAP} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ D \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsieve_number (str): Sieve number for particle size analysis (SI units)\n\n\nReturns:\n\tparticle_size (float): Particle size from sieve or hydrometer analysis\n\n',
        'get_percent_clay':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_percent\\_clay}(D, \\mathrm{percent\\_finer}, D_{silt\\ clay}) \\\\ \\hspace{1em} f \\gets \\mathrm{interpolate1d} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( D \\mathclose{}\\right), \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( \\mathrm{percent\\_finer} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{percent\\_clay} \\gets f \\mathopen{}\\left( D_{silt\\ clay} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{percent\\_clay} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tparticle_size (float): Particle size from sieve or hydrometer analysis\n\tpercent_finer (float): Percentage of material finer than a given size\n\tsilt_clay_particle_size_breakpoint (float): Breakpoint for silt and clay particle size\n\n\nReturns:\n\tpercent_clay (float): Clay percentage for USDA classification\n\n',
        'get_percent_finer':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_percent\\_finer}(W_{dry\\ soil}, W_{n\\ cum}) \\\\ \\hspace{1em} \\mathrm{percent\\_finer} \\gets \\frac{100 \\mathopen{}\\left( W_{dry\\ soil} - W_{n\\ cum} \\mathclose{}\\right)}{W_{dry\\ soil}} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{percent\\_finer} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdry_soil_mass (float): Dry soil mass in sample\n\tcumulative_mass_retained (float): Cumulative mass of soil retained on sieves\n\n\nReturns:\n\tpercent_finer (float): Percentage of material finer than a given size\n\n',
        'get_percent_finer_at_sieve_number':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_percent\\_finer\\_at\\_sieve\\_number}(\\mathrm{sieve\\_number}, \\mathrm{percent\\_finer}) \\\\ \\hspace{1em} \\mathrm{percent\\_finer\\_map} \\gets \\mathrm{dict} \\mathopen{}\\left( \\mathrm{zip} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( \\mathrm{sieve\\_number} \\mathclose{}\\right), \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( \\mathrm{percent\\_finer} \\mathclose{}\\right) \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{sieve\\_number\\_targets} \\gets \\mathopen{}\\left( \\textrm{"3/4 ""}, \\textrm{"No. 4"}, \\textrm{"No. 10"}, \\textrm{"No. 40"}, \\textrm{"No. 200"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{percent\\_finer\\_at\\_sieve\\_number} \\gets \\mathopen{}\\left[  \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathrm{sieve\\_number\\_target} \\in \\mathrm{sieve\\_number\\_targets} \\ \\mathbf{do} \\\\ \\hspace{2em} \\mathrm{percent\\_finer\\_at\\_sieve\\_number}.\\mathrm{append} \\mathopen{}\\left( \\mathrm{percent\\_finer\\_map}.\\mathrm{get} \\mathopen{}\\left( \\mathrm{sieve\\_number\\_target} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{tuple} \\mathopen{}\\left( \\mathrm{percent\\_finer\\_at\\_sieve\\_number} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsieve_number (str): Sieve number for particle size analysis (SI units)\n\tpercent_finer (float): Percentage of material finer than a given size\n\n\nReturns:\n\tpercent_passing_3in4 (float): Percentage passing 3/4 " sieve\n\tpercent_passing_no4 (float): Percentage passing No. 4 sieve\n\tpercent_passing_no10 (float): Percentage passing No. 10 sieve\n\tpercent_passing_no40 (float): Percentage passing No. 40 sieve\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\n',
        'get_percent_finer_diameters':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_percent\\_finer\\_diameters}(D, \\mathrm{percent\\_finer}, FC) \\\\ \\hspace{1em} \\mathrm{percent\\_finer\\_targets} \\gets \\mathopen{}\\left( 60, 50, 30, 10 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ FC.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\le 50 \\\\ \\hspace{2em} f \\gets \\mathrm{interpolate1d} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( \\mathrm{percent\\_finer} \\mathclose{}\\right), \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( D \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{percent\\_finer\\_diameters} \\gets f \\mathopen{}\\left( \\mathrm{percent\\_finer\\_targets} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{to\\_return} \\gets \\mathrm{tuple} \\mathopen{}\\left( \\mathrm{percent\\_finer\\_diameters} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathrm{to\\_return} \\gets \\mathopen{}\\left( \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\mathrm{len} \\mathopen{}\\left( \\mathrm{percent\\_finer\\_targets} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{to\\_return} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tparticle_size (float): Particle size from sieve or hydrometer analysis\n\tpercent_finer (float): Percentage of material finer than a given size\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\n\nReturns:\n\tdiameter_at_60_percent_finer (float): Diameter at 60% finer from sieve analysis\n\tdiameter_at_50_percent_finer (float): Diameter at 50% finer from sieve analysis\n\tdiameter_at_30_percent_finer (float): Diameter at 30% finer from sieve analysis\n\tdiameter_at_10_percent_finer (float): Diameter at 10% finer from sieve analysis\n\n',
        'get_percent_finer_uncorrected':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_percent\\_finer\\_uncorrected}(R_{cp}, W_{dry\\ soil}, a) \\\\ \\hspace{1em} \\mathrm{percent\\_finer\\_uncorrected} \\gets \\frac{100 a \\cdot R_{cp}}{W_{dry\\ soil}} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{percent\\_finer\\_uncorrected} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_hydrometer_reading (float): Corrected hydrometer reading for percent finer calculation\n\tdry_soil_mass (float): Dry soil mass in sample\n\tspecific_gravity_correction (float): Correction for specific gravity (hydrometer calibrated for G_s = 2.65)\n\n\nReturns:\n\tpercent_finer_uncorrected (float): Uncorrected percentage finer from sieve analysis\n\n',
        'get_percent_fraction':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_percent\\_fraction}(P_{3/4}, P_{4}, P_{10}, P_{40}, FC) \\\\ \\hspace{1em} \\mathrm{percent\\_gravel} \\gets 100 - P_{4} \\\\ \\hspace{1em} \\mathrm{percent\\_coarse\\_gravel} \\gets 100 - P_{3/4} \\\\ \\hspace{1em} \\mathrm{percent\\_fine\\_gravel} \\gets P_{3/4} - P_{4} \\\\ \\hspace{1em} \\mathrm{percent\\_sand} \\gets P_{4} - FC \\\\ \\hspace{1em} \\mathrm{percent\\_coarse\\_sand} \\gets P_{4} - P_{10} \\\\ \\hspace{1em} \\mathrm{percent\\_medium\\_sand} \\gets P_{10} - P_{40} \\\\ \\hspace{1em} \\mathrm{percent\\_fine\\_sand} \\gets P_{40} - FC \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{percent\\_gravel}, \\mathrm{percent\\_coarse\\_gravel}, \\mathrm{percent\\_fine\\_gravel}, \\mathrm{percent\\_sand}, \\mathrm{percent\\_coarse\\_sand}, \\mathrm{percent\\_medium\\_sand}, \\mathrm{percent\\_fine\\_sand} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpercent_passing_3in4 (float): Percentage passing 3/4 " sieve\n\tpercent_passing_no4 (float): Percentage passing No. 4 sieve\n\tpercent_passing_no10 (float): Percentage passing No. 10 sieve\n\tpercent_passing_no40 (float): Percentage passing No. 40 sieve\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\n\nReturns:\n\tpercent_gravel (float): Gravel percentage (% retained on No. 4 sieve)\n\tpercent_coarse_gravel (float): Coarse gravel percentage (% retained on 3/4 " sieve)\n\tpercent_fine_gravel (float): Fine gravel percentage (% passing 3/4 " sieve, retained on No. 4)\n\tpercent_sand (float): Sand percentage (% passing No. 4 sieve)\n\tpercent_coarse_sand (float): Coarse sand percentage (% passing No. 4 sieve, retained on No. 10)\n\tpercent_medium_sand (float): Medium sand percentage (% passing No. 10 sieve, retained on No. 40)\n\tpercent_fine_sand (float): Fine sand percentage (% passing No. 40 sieve, retained on No. 200)\n\n',
        'get_percent_silt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_percent\\_silt}(FC, \\mathrm{percent\\_clay}) \\\\ \\hspace{1em} \\mathrm{percent\\_silt} \\gets FC - \\mathrm{percent\\_clay} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{percent\\_silt} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tpercent_clay (float): Clay percentage for USDA classification\n\n\nReturns:\n\tpercent_silt (float): Silt percentage for USDA classification\n\n',
        'get_plastic_limit':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_plastic\\_limit}(w_c) \\\\ \\hspace{1em} PL \\gets \\mathrm{np}.\\mathrm{nanmean} \\mathopen{}\\left( w_c \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ PL \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\twater_content_trials (float): Natural water content for each trial\n\n\nReturns:\n\tplastic_limit (float): Plastic limit of soil\n\n',
        'get_plasticity_index':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_plasticity\\_index}(LL, PL) \\\\ \\hspace{1em} PI \\gets LL - PL \\\\ \\hspace{1em} \\mathbf{return} \\ PI \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquid_limit (float): Liquid limit of soil\n\tplastic_limit (float): Plastic limit of soil\n\n\nReturns:\n\tplasticity_index (float): Plasticity index of soil\n\n',
        'get_specific_gravity_correction':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_specific\\_gravity\\_correction}(G_s) \\\\ \\hspace{1em} a \\gets \\frac{\\frac{1.65}{2.65} \\cdot G_s}{G_s - 1} \\\\ \\hspace{1em} \\mathbf{return} \\ a \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tspecific_gravity (float): Specific gravity of soil solids\n\n\nReturns:\n\tspecific_gravity_correction (float): Correction for specific gravity (hydrometer calibrated for G_s = 2.65)\n\n',
        'get_temperature_correction':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_temperature\\_correction}(T) \\\\ \\hspace{1em} F_T \\gets -4.85 + 0.25 T \\\\ \\hspace{1em} \\mathbf{return} \\ F_T \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\ttemperature (float): Temperature during testing\n\n\nReturns:\n\ttemperature_correction (float): Correction for hydrometer test temperature (not 20°C)\n\n',
        'get_uniformity_coefficient':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_uniformity\\_coefficient}(D_{10}, D_{60}) \\\\ \\hspace{1em} C_u \\gets \\frac{D_{60}}{D_{10}} \\\\ \\hspace{1em} \\mathbf{return} \\ C_u \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdiameter_at_10_percent_finer (float): Diameter at 10% finer from sieve analysis\n\tdiameter_at_60_percent_finer (float): Diameter at 60% finer from sieve analysis\n\n\nReturns:\n\tuniformity_coefficient (float): Uniformity coefficient for particle size distribution\n\n',
        'get_water_content':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_water\\_content}(w_c) \\\\ \\hspace{1em} w_c \\gets \\mathrm{np}.\\mathrm{nanmean} \\mathopen{}\\left( w_c \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ w_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\twater_content_trials (float): Natural water content for each trial\n\n\nReturns:\n\twater_content (float): Natural water content of soil\n\n',
        'get_water_content_liquid_limit_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_water\\_content\\_liquid\\_limit\\_ratio}(w_c, LL) \\\\ \\hspace{1em} w_c\\ /\\ LL \\gets \\frac{w_c}{LL} \\\\ \\hspace{1em} \\mathbf{return} \\ w_c\\ /\\ LL \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\twater_content (float): Natural water content of soil\n\tliquid_limit (float): Liquid limit of soil\n\n\nReturns:\n\twater_content_liquid_limit_ratio (float): Ratio of water content to liquid limit\n\n',
        'get_water_content_trials':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_water\\_content\\_trials}(W_{moisture}, W_{dry\\ soil}) \\\\ \\hspace{1em} w_c \\gets \\frac{W_{moisture} \\cdot 100}{W_{dry\\ soil}} \\\\ \\hspace{1em} \\mathbf{return} \\ w_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tmoisture_mass (float): Mass of moisture in soil sample\n\tdry_soil_mass (float): Dry soil mass in sample\n\n\nReturns:\n\twater_content_trials (float): Natural water content for each trial\n\n'
    },
    'spt': {
        'get_borehole_diameter_correction__skempton1986standard':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_borehole\\_diameter\\_correction\\_\\_skempton1986standard}(D_{bh}, \\mathrm{use\\_simplified\\_blows\\_correction}, z) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{use\\_simplified\\_blows\\_correction} \\\\ \\hspace{2em} C_B \\gets 1 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} C_B \\gets \\mathrm{PARAMETERS}_{\\textrm{"borehole\\_diameter"}}.\\mathrm{data\\_bins}_{\\textrm{"borehole\\_diameter\\_correction"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( D_{bh} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} C_B \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( z, C_B \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ C_B \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tborehole_diameter (float): Diameter of borehole for SPT or sampling\n\tuse_simplified_blows_correction (bool): Applies SPT blow count correction for energy only\n\tdepth (float): Depth below ground surface to bottom of layer\n\n\nReturns:\n\tborehole_diameter_correction (float): SPT correction factor for borehole diameter\n\n',
        'get_clean_sand_normalized_blow_count__cetin2004standard':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_clean\\_sand\\_normalized\\_blow\\_count\\_\\_cetin2004standard}(N_{160}, C_{FINES}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} N_{160cs} \\gets N_{160} \\cdot C_{FINES} \\\\ \\hspace{1em} \\mathbf{return} \\ N_{160cs} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\tfines_content_factor (float): Fines content factor for liquefaction analysis\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\n',
        'get_clean_sand_normalized_blow_count__seed1987design':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_clean\\_sand\\_normalized\\_blow\\_count\\_\\_seed1987design}(N_{160}, ΔN_{160}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} N_{160cs} \\gets N_{160} + ΔN_{160} \\\\ \\hspace{1em} \\mathbf{return} \\ N_{160cs} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\tnormalized_blow_count_fines_inc (float): Fines content increment to normalized blow count\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\n',
        'get_clean_sand_normalized_blow_count_sr__idriss2003estimating':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_clean\\_sand\\_normalized\\_blow\\_count\\_sr\\_\\_idriss2003estimating}(N_{160}, ΔN_{160-Sr}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{get\\_clean\\_sand\\_normalized\\_blow\\_count\\_\\_seed1987design} \\mathopen{}\\left( N_{160}, ΔN_{160-Sr} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\tnormalized_blow_count_fines_inc_sr (float): Fines content increment to normalized blow count for residual shear strength\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tclean_sand_normalized_blow_count_sr (float): Equivalent clean sand N_160 for residual shear strength\n\n',
        'get_coefficient_of_consolidation__navfac1982soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_coefficient\\_of\\_consolidation\\_\\_navfac1982soil}(LL, \\mathrm{is\\_disturbed\\_soil}, \\mathrm{consolidation\\_state}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} \\mathrm{remolded} \\gets \\mathrm{CoefficientOfConsolidationNAVFAC1982Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( LL \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{virgin} \\gets \\mathrm{CoefficientOfConsolidationNAVFAC1982Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( LL \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{reloading} \\gets \\mathrm{CoefficientOfConsolidationNAVFAC1982Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( LL \\mathclose{}\\right) \\\\ \\hspace{1em} C_v \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{is\\_disturbed\\_soil}, \\mathrm{consolidation\\_state} = \\textrm{"NC"}, \\mathrm{np}.\\mathrm{isin} \\mathopen{}\\left( \\mathrm{consolidation\\_state}, \\mathopen{}\\left[ \\textrm{"LOC"}, \\textrm{"MOC"}, \\textrm{"HOC"} \\mathclose{}\\right] \\mathclose{}\\right) \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{remolded}, \\mathrm{virgin}, \\mathrm{reloading} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ C_v \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquid_limit (float): Liquid limit of soil\n\tis_disturbed_soil (bool): Indicates if soil sample is disturbed\n\tconsolidation_state (str): Soil consolidation state description\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tcoefficient_of_consolidation (float): Coefficient of consolidation for soil\n\n',
        'get_compression_index__rendon1983closure':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_compression\\_index\\_\\_rendon1983closure}(w_c, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} C_c \\gets 0.01 \\mathopen{}\\left( w_c - 7.549 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ C_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\twater_content (float): Natural water content of soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tcompression_index (float): Compression index for soil consolidation\n\n',
        'get_compression_ratio__lambe1969soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_compression\\_ratio\\_\\_lambe1969soil}(w_c, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} CR \\gets \\mathrm{CompressionRatioLambe1969Figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( w_c \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ CR \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\twater_content (float): Natural water content of soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tcompression_ratio (float): Compression ratio for soil\n\n',
        'get_constrained_modulus__janbu1985soil':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_constrained\\_modulus\\_\\_janbu1985soil}(w_c, σ_v', \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} m \\gets 107.3 \\exp \\mathopen{}\\left( -0.05042 w_c \\mathclose{}\\right) + 2.834 \\\\ \\hspace{1em} M \\gets 0.001 \\cdot m \\cdot σ_v' \\\\ \\hspace{1em} \\mathbf{return} \\ M \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\twater_content (float): Natural water content of soil\n\teffective_stress (float): Effective vertical stress in soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tconstrained_modulus (float): Constrained modulus of soil\n\n",
        'get_corrected_blow_count__skempton1986standard':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_corrected\\_blow\\_count\\_\\_skempton1986standard}(N, C_E, C_B, C_R, C_S) \\\\ \\hspace{1em} N_{60} \\gets N \\cdot C_E \\cdot C_B \\cdot C_R \\cdot C_S \\\\ \\hspace{1em} \\mathbf{return} \\ N_{60} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tblow_count (float): SPT measured blow count\n\tenergy_ratio_correction (float): SPT correction factor for energy ratio\n\tborehole_diameter_correction (float): SPT correction factor for borehole diameter\n\trod_length_correction (float): SPT correction factor for rod length\n\tsampler_correction (float): SPT correction factor for sampling method\n\n\nReturns:\n\tcorrected_blow_count (float): Blow count corrected for field conditions\n\n',
        'get_energy_ratio_correction__skempton1986standard':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_energy\\_ratio\\_correction\\_\\_skempton1986standard}(ER, z) \\\\ \\hspace{1em} C_E \\gets \\frac{ER}{60} \\\\ \\hspace{1em} C_E \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( z, C_E \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ C_E \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tenergy_ratio (float): SPT equipment measured energy ratio\n\tdepth (float): Depth below ground surface to bottom of layer\n\n\nReturns:\n\tenergy_ratio_correction (float): SPT correction factor for energy ratio\n\n',
        'get_fines_content_factor__cetin2004standard':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_fines\\_content\\_factor\\_\\_cetin2004standard}(N_{160}, FC, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} FC \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( FC, 5, 35 \\mathclose{}\\right) \\\\ \\hspace{1em} C_{FINES} \\gets 1 + 0.004 FC + 0.05 \\frac{FC}{N_{160}} \\\\ \\hspace{1em} \\mathbf{return} \\ C_{FINES} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tfines_content_factor (float): Fines content factor for liquefaction analysis\n\n',
        'get_friction_angle__schnaid2009prediction':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_friction\\_angle\\_\\_schnaid2009prediction}(N_{160}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} ϕ \\gets 18 N_{160}^{0.234} \\\\ \\hspace{1em} \\mathbf{return} \\ ϕ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tfriction_angle (float): Friction angle of soil\n\n',
        'get_is_fine_soil_spt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_is\\_fine\\_soil\\_spt}(\\mathrm{soil\\_type2}) \\\\ \\hspace{1em} \\mathrm{is\\_fine\\_soil} \\gets \\mathrm{soil\\_type2} \\ne \\textrm{"Coarse"} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{is\\_fine\\_soil} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_type2 (str): Secondary soil type description\n\n\nReturns:\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n',
        'get_iterative_parameters_spt__idriss2008soil':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_iterative\\_parameters\\_spt\\_\\_idriss2008soil}(N_{60}, ΔN_{160}, σ_v', \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} \\mathrm{max\\_iter} \\gets 10 \\\\ \\hspace{1em} \\mathrm{tol} \\gets 0.0001 \\\\ \\hspace{1em} n \\gets \\mathrm{None} \\\\ \\hspace{1em} C_n \\gets \\mathrm{None} \\\\ \\hspace{1em} N_{160cs} \\gets \\mathrm{np}.\\mathrm{ones\\_like} \\mathopen{}\\left( N_{60} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{for} \\ \\mathrm{\\_} \\in \\mathrm{range} \\mathopen{}\\left( \\mathrm{max\\_iter} \\mathclose{}\\right) \\ \\mathbf{do} \\\\ \\hspace{2em} \\mathrm{clean\\_sand\\_normalized\\_blow\\_count\\_old} \\gets N_{160cs}.\\mathrm{copy} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{2em} n \\gets 0.784 - 0.0768 \\sqrt{ \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( N_{160cs}, 1, 46 \\mathclose{}\\right) } \\\\ \\hspace{2em} C_n \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( \\mathopen{}\\left( \\frac{101.325}{σ_v'} \\mathclose{}\\right)^{n}, 0, 1.7 \\mathclose{}\\right) \\\\ \\hspace{2em} N_{160cs} \\gets N_{60} \\cdot C_n + ΔN_{160} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{np}.\\mathrm{nanmax} \\mathopen{}\\left( \\mathopen{}\\left| N_{160cs} - \\mathrm{clean\\_sand\\_normalized\\_blow\\_count\\_old} \\mathclose{}\\right| \\mathclose{}\\right) < \\mathrm{tol} \\\\ \\hspace{3em} \\mathbf{break} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ for} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( n, C_n, N_{160cs} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_blow_count (float): Blow count corrected for field conditions\n\tnormalized_blow_count_fines_inc (float): Fines content increment to normalized blow count\n\teffective_stress (float): Effective vertical stress in soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\toverburden_stress_exponent (float): Stress exponent for overburden correction\n\toverburden_correction (float): Overburden correction factor for SPT\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\n",
        'get_normalized_blow_count__liao1986overburden':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_blow\\_count\\_\\_liao1986overburden}(N_{60}, C_n, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} \\textrm{" coduto: Although Liao and Whitman did not place any limits on this correction, it is probably best to keep\n  (N1)60 < 2 corrected\\_blow\\_count. This limit avoids excessively high values at shallow depths "} \\\\ \\hspace{1em} \\textrm{" SPTCorr uses 0.4 <= overburden\\_correction <= 1.7 limits "} \\\\ \\hspace{1em} \\textrm{" boulanger2014cpt shows 0.0 <= overburden\\_correction <= 1.7 limits "} \\\\ \\hspace{1em} \\textrm{" Also used by cetin2004standard who limits it to 1.6 "} \\\\ \\hspace{1em} \\textrm{" Also used by cetin2018use who limits it to 2.0 "} \\\\ \\hspace{1em} N_{160} \\gets N_{60} \\cdot C_n \\\\ \\hspace{1em} \\mathbf{return} \\ N_{160} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_blow_count (float): Blow count corrected for field conditions\n\toverburden_correction (float): Overburden correction factor for SPT\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\n',
        'get_normalized_blow_count_fines_inc__cetin2018use':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_blow\\_count\\_fines\\_inc\\_\\_cetin2018use}(N_{160}, FC, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} \\mathrm{cetineayy\\_coeffs} \\gets \\mathrm{ReferenceData}.\\mathrm{ModelCoefficientsCetin}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"theta"}, \\textrm{"2018"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathopen{}\\left( \\mathrm{theta1}, \\mathrm{theta4} \\mathclose{}\\right) \\gets \\mathopen{}\\left( \\mathrm{cetineayy\\_coeffs}_{\\textrm{"1"}}, \\mathrm{cetineayy\\_coeffs}_{\\textrm{"4"}} \\mathclose{}\\right) \\\\ \\hspace{1em} FC \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( FC, 5, 35 \\mathclose{}\\right) \\\\ \\hspace{1em} ΔN_{160} \\gets FC \\cdot \\mathopen{}\\left( \\mathrm{theta1} \\cdot N_{160} + \\mathrm{theta4} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ΔN_{160} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tnormalized_blow_count_fines_inc (float): Fines content increment to normalized blow count\n\n',
        'get_normalized_blow_count_fines_inc__idriss2006semi':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_blow\\_count\\_fines\\_inc\\_\\_idriss2006semi}(FC, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} ΔN_{160} \\gets \\exp \\mathopen{}\\left( 1.63 + \\frac{9.7}{FC + 0.01} - \\mathopen{}\\left( \\frac{15.7}{FC + 0.01} \\mathclose{}\\right)^{2} \\mathclose{}\\right) \\\\ \\hspace{1em} ΔN_{160} \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( ΔN_{160} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( ΔN_{160}, \\mathrm{np}.\\mathrm{isclose} \\mathopen{}\\left( ΔN_{160}, 0 \\mathclose{}\\right), 0 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ΔN_{160} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tnormalized_blow_count_fines_inc (float): Fines content increment to normalized blow count\n\n',
        'get_normalized_blow_count_fines_inc_sr__seed1987design':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_blow\\_count\\_fines\\_inc\\_sr\\_\\_seed1987design}(FC, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} ΔN_{160} \\gets \\mathrm{PARAMETERS}_{\\textrm{"fines\\_content"}}.\\mathrm{data\\_bins}_{\\textrm{"normalized\\_blow\\_count\\_fines\\_inc"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( FC \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ΔN_{160} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfines_content (float): Percentage of fines passing No. 200 sieve\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tnormalized_blow_count_fines_inc_sr (float): Fines content increment to normalized blow count for residual shear strength\n\n',
        'get_normalized_residual_shear_strength__kramer2015empirical':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_residual\\_shear\\_strength\\_\\_kramer2015empirical}(N_{160}, σ_v', \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} S_r \\gets 101.325 \\cdot \\exp \\mathopen{}\\left( -8.444 + 0.109 N_{160} + 5.379 \\mathopen{}\\left( \\frac{σ_v'}{101.325} \\mathclose{}\\right)^{0.1} \\mathclose{}\\right) \\\\ \\hspace{1em} S_r \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( N_{160} \\le 15, S_r, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} S_{r\\ ratio} \\gets \\frac{S_r}{σ_v'} \\\\ \\hspace{1em} \\mathbf{return} \\ S_{r\\ ratio} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\teffective_stress (float): Effective vertical stress in soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tnormalized_residual_shear_strength (float): Post-liquefaction residual shear strength to effective stress ratio\n\n",
        'get_normalized_residual_shear_strength__weber2015engineering':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_residual\\_shear\\_strength\\_\\_weber2015engineering}(N_{160cs}, σ_v', \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} S_r \\gets 0.048 \\cdot \\mathopen{}\\left( \\exp \\mathopen{}\\left( 0.1407 N_{160cs} + 4.2399 \\mathopen{}\\left( \\frac{σ_v'}{101.325} \\mathclose{}\\right)^{0.12} \\mathclose{}\\right) - 0.43991 \\mathopen{}\\left( N_{160cs}^{1.45} + 0.2 N_{160cs} \\cdot \\mathopen{}\\left( \\frac{σ_v'}{101.325} \\mathclose{}\\right)^{2.48} + 41.13 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} S_r \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( S_r, \\mathrm{None}, 0.29 σ_v' \\mathclose{}\\right) \\\\ \\hspace{1em} S_{r\\ ratio} \\gets \\frac{S_r}{σ_v'} \\\\ \\hspace{1em} \\mathbf{return} \\ S_{r\\ ratio} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\teffective_stress (float): Effective vertical stress in soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tnormalized_residual_shear_strength (float): Post-liquefaction residual shear strength to effective stress ratio\n\n",
        'get_normalized_residual_shear_strength_spt__idriss2007spt':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_residual\\_shear\\_strength\\_spt\\_\\_idriss2007spt}(N_{160cs}, \\mathrm{void\\_redistribution\\_is\\_significant}) \\\\ \\hspace{1em} \\textrm{" Equation obtained from idriss2008soil "} \\\\ \\hspace{1em} S_{r\\ ratio} \\gets \\exp \\mathopen{}\\left( \\frac{N_{160cs}}{16} + \\mathopen{}\\left( \\frac{N_{160cs} - 16}{21.2} \\mathclose{}\\right)^{3} - 3 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{void\\_redistribution\\_is\\_significant} \\\\ \\hspace{2em} S_{r\\ ratio} \\gets S_{r\\ ratio} \\cdot \\mathopen{}\\left( 1 + \\exp \\mathopen{}\\left( \\frac{N_{160cs}}{2.4} - 6.6 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} S_{r\\ ratio} \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( S_{r\\ ratio}, 0, \\mathrm{tandg} \\mathopen{}\\left( 25 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ S_{r\\ ratio} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_blow_count (float): Equivalent clean sand SPT blow count (N_160)\n\tvoid_redistribution_is_significant (bool): Applies for I&B residual shear strength calculations\n\n\nReturns:\n\tnormalized_residual_shear_strength (float): Post-liquefaction residual shear strength to effective stress ratio\n\n',
        'get_normalized_residual_shear_strength_spt__idriss2008soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_normalized\\_residual\\_shear\\_strength\\_spt\\_\\_idriss2008soil}(N_{160cs-Sr}, \\mathrm{void\\_redistribution\\_is\\_significant}) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{get\\_normalized\\_residual\\_shear\\_strength\\_spt\\_\\_idriss2007spt} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tclean_sand_normalized_blow_count_sr (float): Equivalent clean sand N_160 for residual shear strength\n\tvoid_redistribution_is_significant (bool): Applies for I&B residual shear strength calculations\n\n\nReturns:\n\tnormalized_residual_shear_strength (float): Post-liquefaction residual shear strength to effective stress ratio\n\n',
        'get_overburden_correction__cetin2004standard':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_correction\\_\\_cetin2004standard}(σ_v', n) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{get\\_overburden\\_correction\\_\\_liao1986overburden} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\teffective_stress (float): Effective vertical stress in soil\n\toverburden_stress_exponent (float): Stress exponent for overburden correction\n\toverburden_correction_limit (float): Limit for overburden correction factor\n\n\nReturns:\n\toverburden_correction (float): Overburden correction factor for SPT\n\n",
        'get_overburden_correction__cetin2018use':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_correction\\_\\_cetin2018use}(σ_v', n) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{get\\_overburden\\_correction\\_\\_liao1986overburden} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\teffective_stress (float): Effective vertical stress in soil\n\toverburden_stress_exponent (float): Stress exponent for overburden correction\n\toverburden_correction_limit (float): Limit for overburden correction factor\n\n\nReturns:\n\toverburden_correction (float): Overburden correction factor for SPT\n\n",
        'get_overburden_correction__liao1986overburden':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_correction\\_\\_liao1986overburden}(n, σ_v') \\\\ \\hspace{1em} C_n \\gets \\mathopen{}\\left( \\frac{101.325}{σ_v'} \\mathclose{}\\right)^{n} \\\\ \\hspace{1em} C_n \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( C_n, 0, C_{n\\ lim} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ C_n \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\toverburden_stress_exponent (float): Stress exponent for overburden correction\n\teffective_stress (float): Effective vertical stress in soil\n\toverburden_correction_limit (float): Limit for overburden correction factor\n\n\nReturns:\n\toverburden_correction (float): Overburden correction factor for SPT\n\n",
        'get_overburden_stress_exponent__liao1986overburden':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_overburden\\_stress\\_exponent\\_\\_liao1986overburden}(z) \\\\ \\hspace{1em} n \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( z, 0.5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ n \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\n\nReturns:\n\toverburden_stress_exponent (float): Stress exponent for overburden correction\n\n',
        'get_peak_friction_angle__sorensen2013correlation':
            "\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_peak\\_friction\\_angle\\_\\_sorensen2013correlation}(PI, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} ϕ' \\gets 43 - 10 \\log_{10} PI \\\\ \\hspace{1em} \\mathbf{return} \\ ϕ' \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tplasticity_index (float): Plasticity index of soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tpeak_friction_angle (float): Peak friction angle of soil\n\n",
        'get_permeability__chapuis2004predicting':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_permeability\\_\\_chapuis2004predicting}(e, D_{10}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} k \\gets 0.01 \\cdot 2.4622 \\mathopen{}\\left( D_{10}^{2} \\cdot \\frac{e^{3}}{1 + e} \\mathclose{}\\right)^{0.7825} \\\\ \\hspace{1em} \\mathbf{return} \\ k \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvoid_ratio (float): Void ratio of soil\n\tdiameter_at_10_percent_finer (float): Diameter at 10% finer from sieve analysis\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tpermeability (float): Soil permeability\n\n',
        'get_permeability__chapuis2012predicting':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_permeability\\_\\_chapuis2012predicting}(e, D_{10}, LL, γ, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} \\mathrm{k\\_is\\_fine\\_soil} \\gets \\mathrm{get\\_permeability\\_\\_mbonimpa2002practical} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{k\\_is\\_granular} \\gets \\mathrm{get\\_permeability\\_\\_chapuis2004predicting} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} k \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{is\\_fine\\_soil}, \\mathrm{k\\_is\\_fine\\_soil}, \\mathrm{k\\_is\\_granular} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ k \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvoid_ratio (float): Void ratio of soil\n\tdiameter_at_10_percent_finer (float): Diameter at 10% finer from sieve analysis\n\tliquid_limit (float): Liquid limit of soil\n\tunit_weight (float): Unit weight of soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\twater_unit_weight (float): Unit weight of water\n\n\nReturns:\n\tpermeability (float): Soil permeability\n\n',
        'get_permeability__mbonimpa2002practical':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_permeability\\_\\_mbonimpa2002practical}(e, LL, γ, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} \\mathrm{C\\_p} \\gets 5.6 \\\\ \\hspace{1em} \\mathrm{mu\\_w} \\gets 0.001 \\\\ \\hspace{1em} x \\gets 7.7 LL^{-0.15} - 3 \\\\ \\hspace{1em} \\chi \\gets 1.5 \\\\ \\hspace{1em} \\mathrm{rho\\_s} \\gets \\frac{1000 γ}{g} \\\\ \\hspace{1em} k \\gets 0.01 \\mathrm{C\\_p} \\frac{γ_w}{\\mathrm{mu\\_w}} \\frac{e^{3 + x}}{1 + e} \\frac{1}{\\mathrm{rho\\_s}^{2} \\cdot LL^{2 \\chi}} \\\\ \\hspace{1em} \\mathbf{return} \\ k \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvoid_ratio (float): Void ratio of soil\n\tliquid_limit (float): Liquid limit of soil\n\tunit_weight (float): Unit weight of soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\twater_unit_weight (float): Unit weight of water\n\n\nReturns:\n\tpermeability (float): Soil permeability\n\n',
        'get_poisson_ratio__bowles1996foundation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_poisson\\_ratio\\_\\_bowles1996foundation}(\\mathrm{soil\\_type}, \\mathrm{below\\_water\\_table}) \\\\ \\hspace{1em} \\textrm{" Table 7.2 Values or value ranges for Poisson\'s ratio ν by bowles1996foundation "} \\\\ \\begin{array}{l} \\hspace{1em} \\mathbf{function} \\ \\mathrm{get\\_mean\\_value}(\\mathrm{key}) \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathrm{np}.\\mathrm{mean} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{mapping\\_min}_{\\mathrm{key}}, \\mathrm{mapping\\_max}_{\\mathrm{key}} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ function} \\end{array} \\\\ \\hspace{1em} \\mathrm{mapping\\_min} \\gets \\mathrm{ReferenceData}.\\mathrm{PoissonRatioBowles1996}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"material"}, \\textrm{"min"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{mapping\\_max} \\gets \\mathrm{ReferenceData}.\\mathrm{PoissonRatioBowles1996}.\\mathrm{get\\_mapping} \\mathopen{}\\left( \\textrm{"material"}, \\textrm{"max"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathopen{}\\left( \\mathrm{soil\\_type} = \\textrm{"Clay"} \\mathclose{}\\right) \\mathbin{\\&} \\mathord{\\sim} \\mathrm{below\\_water\\_table} \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets \\mathrm{get\\_mean\\_value} \\mathopen{}\\left( \\textrm{"Clay.Unsaturated"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathopen{}\\left( \\mathrm{soil\\_type} = \\textrm{"Clay"} \\mathclose{}\\right) \\mathbin{\\&} \\mathrm{below\\_water\\_table} \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets \\mathrm{get\\_mean\\_value} \\mathopen{}\\left( \\textrm{"Clay.Saturated"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_3} \\gets \\mathopen{}\\left( \\mathrm{soil\\_type} = \\textrm{"Sand"} \\mathclose{}\\right) \\mathbin{|} \\mathopen{}\\left( \\mathrm{soil\\_type} = \\textrm{"Gravel"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_3} \\gets \\mathrm{get\\_mean\\_value} \\mathopen{}\\left( \\textrm{"Sand, gravelly sand"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_4} \\gets \\mathopen{}\\left( \\mathrm{soil\\_type} = \\textrm{"Peat"} \\mathclose{}\\right) \\mathbin{|} \\mathopen{}\\left( \\mathrm{soil\\_type} = \\textrm{"Organic"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_4} \\gets \\mathrm{get\\_mean\\_value} \\mathopen{}\\left( \\textrm{"Peat, organic (from Long et al. (2022))"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{condition\\_5} \\gets \\mathrm{soil\\_type} = \\textrm{"Other"} \\\\ \\hspace{1em} \\mathrm{choice\\_5} \\gets \\mathrm{get\\_mean\\_value} \\mathopen{}\\left( \\textrm{"All soils"} \\mathclose{}\\right) \\\\ \\hspace{1em} ν \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3}, \\mathrm{condition\\_4}, \\mathrm{condition\\_5} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3}, \\mathrm{choice\\_4}, \\mathrm{choice\\_5} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ν \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tsoil_type (str): Primary soil type description\n\tbelow_water_table (bool): Indicates if soil layer is below water table\n\n\nReturns:\n\tpoisson_ratio (float): Poisson’s ratio of soil\n\n',
        'get_recompression_index__lo1982prediction':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_recompression\\_index\\_\\_lo1982prediction}(C_c, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} C_r \\gets -0.00327 + 0.139 C_c \\\\ \\hspace{1em} \\mathbf{return} \\ C_r \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcompression_index (float): Compression index for soil consolidation\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\trecompression_index (float): Recompression (swelling) index of soil\n\n',
        'get_recompression_ratio__lo1982prediction':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_recompression\\_ratio\\_\\_lo1982prediction}(CR, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} RR \\gets \\mathrm{get\\_recompression\\_index\\_\\_lo1982prediction} \\mathopen{}\\left( CR \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ RR \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcompression_ratio (float): Compression ratio for soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\trecompression_ratio (float): Recompression ratio of soil\n\n',
        'get_relative_density__idriss2003estimating':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_relative\\_density\\_\\_idriss2003estimating}(N_{160}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} D_r \\gets 100 \\sqrt{ \\frac{N_{160}}{46} } \\\\ \\hspace{1em} \\mathbf{return} \\ D_r \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnormalized_blow_count (float): N_60 corrected to 1 atm effective overburden stress\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\trelative_density (float): Relative density of soil\n\n',
        'get_remolded_undrained_shear_strength__degroot2019engineering':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_remolded\\_undrained\\_shear\\_strength\\_\\_degroot2019engineering}(LI, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} \\textrm{" Based on ngi database for liquidity\\_index > 0 "} \\\\ \\hspace{1em} S_{ur} \\gets 4.5 LI^{-1.5} \\\\ \\hspace{1em} S_{ur} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( LI > 0, S_{ur}, \\mathrm{np}.\\mathrm{nan} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ S_{ur} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tliquidity_index (float): Liquidity index of soil\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tremolded_undrained_shear_strength (float): Remolded undrained shear strength of soil\n\n',
        'get_rod_length_correction__cetin2004standard':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_rod\\_length\\_correction\\_\\_cetin2004standard}(z, \\mathrm{rod\\_length}, \\mathrm{use\\_simplified\\_blows\\_correction}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{use\\_simplified\\_blows\\_correction} \\\\ \\hspace{2em} C_R \\gets 1 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} C_R \\gets \\frac{1}{0.9898 + \\frac{4.3166}{\\mathopen{}\\left( \\mathrm{rod\\_length} + z \\mathclose{}\\right)^{2}}} \\\\ \\hspace{2em} C_R \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( C_R, 0.75, 1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ C_R \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\trod_length (float): Total length of SPT rods\n\tuse_simplified_blows_correction (bool): Applies SPT blow count correction for energy only\n\n\nReturns:\n\trod_length_correction (float): SPT correction factor for rod length\n\n',
        'get_rod_length_correction__cetin2018use':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_rod\\_length\\_correction\\_\\_cetin2018use}(z, \\mathrm{rod\\_length}, \\mathrm{use\\_simplified\\_blows\\_correction}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{use\\_simplified\\_blows\\_correction} \\\\ \\hspace{2em} C_R \\gets 1 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} C_R \\gets 0.48 + 0.225 \\log \\mathopen{}\\left( \\mathrm{rod\\_length} + z \\mathclose{}\\right) \\\\ \\hspace{2em} C_R \\gets \\mathrm{np}.\\mathrm{asarray} \\mathopen{}\\left( C_R \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathrm{np}.\\mathrm{putmask} \\mathopen{}\\left( C_R, \\mathrm{rod\\_length} + z > 10, 1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ C_R \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\trod_length (float): Total length of SPT rods\n\tuse_simplified_blows_correction (bool): Applies SPT blow count correction for energy only\n\n\nReturns:\n\trod_length_correction (float): SPT correction factor for rod length\n\n',
        'get_rod_length_correction__skempton1986standard':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_rod\\_length\\_correction\\_\\_skempton1986standard}(z, \\mathrm{rod\\_length}, \\mathrm{use\\_simplified\\_blows\\_correction}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{use\\_simplified\\_blows\\_correction} \\\\ \\hspace{2em} C_R \\gets \\mathrm{np}.\\mathrm{full\\_like} \\mathopen{}\\left( z, 1 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} C_R \\gets \\mathrm{PARAMETERS}_{\\textrm{"depth\\_plus\\_rod\\_length"}}.\\mathrm{data\\_bins}_{\\textrm{"rod\\_length\\_correction"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( z + \\mathrm{rod\\_length} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ C_R \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdepth (float): Depth below ground surface to bottom of layer\n\trod_length (float): Total length of SPT rods\n\tuse_simplified_blows_correction (bool): Applies SPT blow count correction for energy only\n\n\nReturns:\n\trod_length_correction (float): SPT correction factor for rod length\n\n',
        'get_shear_velocity__wair2012guidelines':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shear\\_velocity\\_\\_wair2012guidelines}(N_{60}, σ_v\', \\mathrm{soil\\_type}, \\mathrm{geological\\_epoch}) \\\\ \\hspace{1em} \\textrm{" Age scaling factors are provided too: [All, Clay \\& Silt, Sand]: 0.87, 0.88, 0.90 for Holocene and\n   1.13, 1.12, 1.17 for Pleistocene "} \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathopen{}\\left( \\mathrm{soil\\_type} = \\textrm{"Clay"} \\mathclose{}\\right) \\mathbin{|} \\mathopen{}\\left( \\mathrm{soil\\_type} = \\textrm{"Silt"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 26 N_{60}^{0.17} \\cdot σ_v\'^{0.32} \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathrm{soil\\_type} = \\textrm{"Sand"} \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets 30 N_{60}^{0.23} \\cdot σ_v\'^{0.23} \\\\ \\hspace{1em} \\mathrm{condition\\_3} \\gets \\mathopen{}\\left( \\mathrm{soil\\_type} = \\textrm{"Gravel"} \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( \\mathrm{geological\\_epoch} = \\textrm{"Holocene"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_3} \\gets 53 N_{60}^{0.19} \\cdot σ_v\'^{0.18} \\\\ \\hspace{1em} \\mathrm{condition\\_4} \\gets \\mathopen{}\\left( \\mathrm{soil\\_type} = \\textrm{"Gravel"} \\mathclose{}\\right) \\mathbin{\\&} \\mathopen{}\\left( \\mathrm{geological\\_epoch} = \\textrm{"Pleistocene"} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{choice\\_4} \\gets 115 N_{60}^{0.17} \\cdot σ_v\'^{0.12} \\\\ \\hspace{1em} \\mathrm{default} \\gets 30 N_{60}^{0.215} \\cdot σ_v\'^{0.275} \\\\ \\hspace{1em} V_s \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3}, \\mathrm{condition\\_4} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3}, \\mathrm{choice\\_4} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ V_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_blow_count (float): Blow count corrected for field conditions\n\teffective_stress (float): Effective vertical stress in soil\n\tsoil_type (str): Primary soil type description\n\tgeological_epoch (str): Geological epoch of soil formation\n\n\nReturns:\n\tshear_velocity (float): Shear wave velocity of soil\n\n',
        'get_undrained_shear_strength__sivrikaya2006determination':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_undrained\\_shear\\_strength\\_\\_sivrikaya2006determination}(N_{60}, \\mathrm{uscs\\_symbol}, \\mathrm{soil\\_type}, \\mathrm{is\\_fine\\_soil}) \\\\ \\hspace{1em} \\mathrm{condition\\_1} \\gets \\mathrm{uscs\\_symbol} = \\textrm{"CH"} \\\\ \\hspace{1em} \\mathrm{choice\\_1} \\gets 7.8 N_{60} \\\\ \\hspace{1em} \\mathrm{condition\\_2} \\gets \\mathrm{uscs\\_symbol} = \\textrm{"CL"} \\\\ \\hspace{1em} \\mathrm{choice\\_2} \\gets 5.35 N_{60} \\\\ \\hspace{1em} \\mathrm{condition\\_3} \\gets \\mathrm{uscs\\_symbol} = \\textrm{"Clay"} \\\\ \\hspace{1em} \\mathrm{choice\\_3} \\gets 6.9 N_{60} \\\\ \\hspace{1em} \\mathrm{condition\\_4} \\gets \\mathrm{is\\_fine\\_soil} \\\\ \\hspace{1em} \\mathrm{choice\\_4} \\gets 6.35 N_{60} \\\\ \\hspace{1em} S_u \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathrm{condition\\_1}, \\mathrm{condition\\_2}, \\mathrm{condition\\_3}, \\mathrm{condition\\_4} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{choice\\_1}, \\mathrm{choice\\_2}, \\mathrm{choice\\_3}, \\mathrm{choice\\_4} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ S_u \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_blow_count (float): Blow count corrected for field conditions\n\tuscs_symbol (str): Unified Soil Classification System symbol\n\tsoil_type (str): Primary soil type description\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\n\nReturns:\n\tundrained_shear_strength (float): Undrained shear strength of soil\n\n',
        'get_unit_weight__cetin2018use':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_unit\\_weight\\_\\_cetin2018use}(N_{60}, \\mathrm{is\\_fine\\_soil}, \\mathrm{below\\_water\\_table}, γ_{default}) \\\\ \\hspace{1em} \\mathrm{coarse\\_moist} \\gets \\mathrm{PARAMETERS}_{\\textrm{"corrected\\_blow\\_count"}}.\\mathrm{data\\_bins}_{\\textrm{"unit\\_weight.Coarse.Moist"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( N_{60} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{coarse\\_saturated} \\gets \\mathrm{PARAMETERS}_{\\textrm{"corrected\\_blow\\_count"}}.\\mathrm{data\\_bins}_{\\textrm{"unit\\_weight.Coarse.Saturated"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( N_{60} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{fine\\_moist} \\gets \\mathrm{PARAMETERS}_{\\textrm{"corrected\\_blow\\_count"}}.\\mathrm{data\\_bins}_{\\textrm{"unit\\_weight.Fine.Moist"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( N_{60} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{fine\\_saturated} \\gets \\mathrm{PARAMETERS}_{\\textrm{"corrected\\_blow\\_count"}}.\\mathrm{data\\_bins}_{\\textrm{"unit\\_weight.Fine.Saturated"}}.\\mathrm{bin\\_data} \\mathopen{}\\left( N_{60} \\mathclose{}\\right) \\\\ \\hspace{1em} γ \\gets \\mathrm{np}.\\mathrm{select} \\mathopen{}\\left( \\mathopen{}\\left[ \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathord{\\sim} \\mathrm{below\\_water\\_table}, \\mathord{\\sim} \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathrm{below\\_water\\_table}, \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathord{\\sim} \\mathrm{below\\_water\\_table}, \\mathrm{is\\_fine\\_soil} \\mathbin{\\&} \\mathrm{below\\_water\\_table} \\mathclose{}\\right], \\mathopen{}\\left[ \\mathrm{coarse\\_moist}, \\mathrm{coarse\\_saturated}, \\mathrm{fine\\_moist}, \\mathrm{fine\\_saturated} \\mathclose{}\\right] \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ γ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tcorrected_blow_count (float): Blow count corrected for field conditions\n\tis_fine_soil (bool): Indicates if soil is fine-grained\n\tbelow_water_table (bool): Indicates if soil layer is below water table\n\tdefault_unit_weight (float): Unit weight used for missing or undefined values\n\n\nReturns:\n\tunit_weight (float): Unit weight of soil\n\n'
    },
    'ssi': {
        'get_active_pile_length':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_active\\_pile\\_length}(E_s, E_p, D, \\mathrm{is\\_homogeneous\\_soil}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{is\\_homogeneous\\_soil} \\\\ \\hspace{2em} \\mathopen{}\\left( χ, n \\mathclose{}\\right) \\gets \\mathopen{}\\left( 2.4, 0.25 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathopen{}\\left( χ, n \\mathclose{}\\right) \\gets \\mathopen{}\\left( 2.5, 0.2 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} L_a \\gets χ \\cdot \\mathopen{}\\left( \\frac{E_p}{E_s} \\mathclose{}\\right)^{n} D \\\\ \\hspace{1em} \\mathbf{return} \\ L_a \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\tpile_diameter (float): Outside diameter of pile\n\tis_homogeneous_soil (bool): Indicates if soil is homogeneous\n\n\nReturns:\n\tactive_pile_length (float): Active pile length in lateral mode (typically < L_p)\n\n',
        'get_average_bottom_depth':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_average\\_bottom\\_depth}(D_f, z_p) \\\\ \\hspace{1em} z_{bottom} \\gets D_f + z_p \\\\ \\hspace{1em} \\mathbf{return} \\ z_{bottom} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_embedment (float): Depth of footing embedment\n\teffective_profile_depth (float): Effective profile depth for analysis\n\n\nReturns:\n\taverage_bottom_depth (float): Special average bottom depth\n\n',
        'get_average_effective_shear_velocity':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_average\\_effective\\_shear\\_velocity}(V_s, z, z_{top}, z_{bottom}, G/G_0, γ) \\\\ \\hspace{1em} V_{s,avg} \\gets \\mathrm{\\_get\\_average\\_effective\\_shear\\_velocity} \\mathopen{}\\left( V_s, z, z_{top}, z_{bottom} \\mathclose{}\\right) \\\\ \\hspace{1em} V_{s,avg\\ red} \\gets V_{s,avg} \\cdot \\sqrt{ G/G_0 } \\\\ \\hspace{1em} G \\gets \\mathrm{get\\_small\\_strain\\_shear\\_modulus\\_\\_landau1959theory} \\mathopen{}\\left( γ, V_{s,avg\\ red} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( V_{s,avg}, V_{s,avg\\ red}, G \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tshear_velocity (float): Shear wave velocity of soil\n\tdepth (float): Depth below ground surface to bottom of layer\n\taverage_top_depth (float): Special average top depth\n\taverage_bottom_depth (float): Special average bottom depth\n\tshear_modulus_reduction_factor (float): Shear modulus reduction factor for soil\n\tunit_weight (float): Unit weight of soil\n\n\nReturns:\n\taverage_effective_shear_velocity (float): Average effective profile velocity\n\taverage_effective_shear_velocity_reduced (float): Average effective profile velocity reduced for strain compatibility\n\tshear_modulus (float): Shear modulus of soil\n\n',
        'get_average_effective_shear_velocity_xx':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_average\\_effective\\_shear\\_velocity\\_xx}(V_s, z, z_p) \\\\ \\hspace{1em} \\mathrm{average\\_effective\\_shear\\_velocity\\_xx} \\gets \\mathrm{get\\_site\\_class\\_average} \\mathopen{}\\left( V_s, z \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{average\\_effective\\_shear\\_velocity\\_xx} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tshear_velocity (float): Shear wave velocity of soil\n\tdepth (float): Depth below ground surface to bottom of layer\n\teffective_profile_depth_rotation (float): Effective profile depth for foundation rotation\n\n\nReturns:\n\taverage_effective_shear_velocity (float): Average effective profile velocity\n\n',
        'get_average_top_depth':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_average\\_top\\_depth}(\\mathrm{foundation\\_is\\_embedded}, D_f) \\\\ \\hspace{1em} z_{top} \\gets \\mathrm{np}.\\mathrm{where} \\mathopen{}\\left( \\mathrm{foundation\\_is\\_embedded}, D_f, 0 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ z_{top} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfoundation_is_embedded (bool): Indicates if foundation is embedded\n\tfooting_embedment (float): Depth of footing embedment\n\n\nReturns:\n\taverage_top_depth (float): Special average top depth\n\n',
        'get_dashpot_coefficient':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dashpot\\_coefficient}(k, β, β_s, ω) \\\\ \\hspace{1em} c \\gets 2 k \\frac{β + β_s}{ω} \\\\ \\hspace{1em} \\mathbf{return} \\ c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstiffness (float): Dynamic stiffness for mode j (translation or rotation)\n\tradiation_damping_ratio (float): Radiation damping ratio for soil\n\tsoil_damping_ratio (float): Hysteretic damping ratio of soil\n\tnatural_frequency (float): Undamped natural vibration frequency\n\n\nReturns:\n\tdashpot_coefficient (float): Dashpot coefficient for translation (MN-s/m) or rotation (MN-m/rad)\n\n',
        'get_dashpot_coefficient_intensity':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dashpot\\_coefficient\\_intensity}(c_z^i, R_k, R_c) \\\\ \\hspace{1em} ci \\gets c_z^i \\cdot R_k \\cdot R_c \\\\ \\hspace{1em} \\mathbf{return} \\ ci \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdashpot_coefficient_intensity_vertical (float): Vertical dashpot coefficient intensity\n\tstiffness_edge_factor (float): Stiffness edge increase factor\n\tdashpot_edge_factor (float): Dashpot edge decrease factor\n\n\nReturns:\n\tdashpot_coefficient_intensity (float): Dashpot coefficient intensity\n\n',
        'get_dashpot_coefficient_intensity_vertical':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dashpot\\_coefficient\\_intensity\\_vertical}(j, c, B_h, L_h) \\\\ \\hspace{1em} \\mathrm{dashpot\\_coefficient\\_map} \\gets \\mathrm{dict} \\mathopen{}\\left( \\mathrm{zip} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( j \\mathclose{}\\right), \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( c \\mathclose{}\\right) \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} c_z \\gets \\mathrm{dashpot\\_coefficient\\_map}_{\\textrm{"z"}} \\\\ \\hspace{1em} c_z^i \\gets \\frac{c_z}{4 B_h \\cdot L_h} \\\\ \\hspace{1em} \\mathbf{return} \\ c_z^i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tdashpot_coefficient (float): Dashpot coefficient for translation (MN-s/m) or rotation (MN-m/rad)\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\n\nReturns:\n\tdashpot_coefficient_intensity_vertical (float): Vertical dashpot coefficient intensity\n\n',
        'get_dashpot_edge_factor':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dashpot\\_edge\\_factor}(R_e, c, R_k, c_z^i, B_h, L_h, j) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_dashpot\\_edge\\_factor\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tend_length_ratio (float): End length ratio\n\tdashpot_coefficient (float): Dashpot coefficient for translation (MN-s/m) or rotation (MN-m/rad)\n\tstiffness_edge_factor (float): Stiffness edge increase factor\n\tdashpot_coefficient_intensity_vertical (float): Vertical dashpot coefficient intensity\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tdashpot_edge_factor (float): Dashpot edge decrease factor\n\n',
        'get_dashpot_edge_factor_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dashpot\\_edge\\_factor\\_scalar}(R_e, c, R_k, c_z^i, B_h, L_h, j) \\\\ \\hspace{1em} R_c \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"xx"} \\\\ \\hspace{2em} R_c \\gets \\frac{\\frac{3 c}{4 c_z^i \\cdot B_h^{3} \\cdot L_h}}{R_k \\cdot \\mathopen{}\\left( 1 - \\mathopen{}\\left( 1 - R_e \\mathclose{}\\right)^{3} \\mathclose{}\\right) + \\mathopen{}\\left( 1 - R_e \\mathclose{}\\right)^{3}} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{3em} R_c \\gets \\frac{\\frac{3 c}{4 c_z^i \\cdot B_h \\cdot L_h^{3}}}{R_k \\cdot \\mathopen{}\\left( 1 - \\mathopen{}\\left( 1 - R_e \\mathclose{}\\right)^{3} \\mathclose{}\\right) + \\mathopen{}\\left( 1 - R_e \\mathclose{}\\right)^{3}} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{4em} R_c \\gets 1 \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ R_c \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tend_length_ratio (float): End length ratio\n\tdashpot_coefficient (float): Dashpot coefficient for translation (MN-s/m) or rotation (MN-m/rad)\n\tstiffness_edge_factor (float): Stiffness edge increase factor\n\tdashpot_coefficient_intensity_vertical (float): Vertical dashpot coefficient intensity\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tdashpot_edge_factor (float): Dashpot edge decrease factor\n\n',
        'get_dimensionless_frequency':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dimensionless\\_frequency}(ω, B_h, V_{s,avg\\ red}) \\\\ \\hspace{1em} a_0 \\gets \\frac{ω \\cdot B_h}{V_{s,avg\\ red}} \\\\ \\hspace{1em} \\mathbf{return} \\ a_0 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnatural_frequency (float): Undamped natural vibration frequency\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\taverage_effective_shear_velocity_reduced (float): Average effective profile velocity reduced for strain compatibility\n\n\nReturns:\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\n',
        'get_dimensionless_frequency_pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dimensionless\\_frequency\\_pile}(ω, D, V_{s,avg\\ red}) \\\\ \\hspace{1em} a_0 \\gets \\frac{ω \\cdot D}{V_{s,avg\\ red}} \\\\ \\hspace{1em} \\mathbf{return} \\ a_0 \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tnatural_frequency (float): Undamped natural vibration frequency\n\tpile_diameter (float): Outside diameter of pile\n\taverage_effective_shear_velocity_reduced (float): Average effective profile velocity reduced for strain compatibility\n\n\nReturns:\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\n',
        'get_dimensionless_pile_length_parameter':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dimensionless\\_pile\\_length\\_parameter}(E_p, E_s, δ, D, L, j) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_dimensionless\\_pile\\_length\\_parameter\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\tpile_diameter (float): Outside diameter of pile\n\tpile_embedment_length (float): Embedment length of pile\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tdimensionless_pile_length_parameter (float): Dimensionless pile length parameter\n\n',
        'get_dimensionless_pile_length_parameter_ksd':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dimensionless\\_pile\\_length\\_parameter\\_ksd}(E_p, I_p, j, k_{sd}) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_dimensionless\\_pile\\_length\\_parameter\\_ksd\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\tpile_moment_of_inertia (float): Moment of inertia of equivalent solid pile\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tsubgrade_reaction_modulus_at_diameter (float): Subgrade reaction modulus at one pile diameter\n\n\nReturns:\n\tdimensionless_pile_length_parameter (float): Dimensionless pile length parameter\n\n',
        'get_dimensionless_pile_length_parameter_ksd_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dimensionless\\_pile\\_length\\_parameter\\_ksd\\_scalar}(E_p, I_p, j, k_{sd}) \\\\ \\hspace{1em} λL \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{2em} λL \\gets \\mathopen{}\\left( \\frac{k_{sd}}{4 E_p \\cdot I_p} \\mathclose{}\\right)^{\\frac{1}{4}} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ λL \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\tpile_moment_of_inertia (float): Moment of inertia of equivalent solid pile\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tsubgrade_reaction_modulus_at_diameter (float): Subgrade reaction modulus at one pile diameter\n\n\nReturns:\n\tdimensionless_pile_length_parameter (float): Dimensionless pile length parameter\n\n',
        'get_dimensionless_pile_length_parameter_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dimensionless\\_pile\\_length\\_parameter\\_scalar}(E_p, E_s, δ, D, L, j) \\\\ \\hspace{1em} λL \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"z"} \\land D \\ne 0 \\\\ \\hspace{2em} λL \\gets \\mathopen{}\\left( \\frac{4 δ}{\\mathrm{np}.\\pi} \\mathclose{}\\right)^{\\frac{1}{2}} \\mathopen{}\\left( \\frac{E_p}{E_s} \\mathclose{}\\right)^{\\frac{-1}{2}} \\frac{L}{D} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ λL \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\tpile_diameter (float): Outside diameter of pile\n\tpile_embedment_length (float): Embedment length of pile\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tdimensionless_pile_length_parameter (float): Dimensionless pile length parameter\n\n',
        'get_dimensionless_pile_tip_stiffness':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dimensionless\\_pile\\_tip\\_stiffness}(E_p, E_s, δ, ν, j) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_dimensionless\\_pile\\_tip\\_stiffness\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\tpoisson_ratio (float): Poisson’s ratio of soil\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tdimensionless_pile_tip_stiffness (float): Dimensionless pile tip stiffness\n\n',
        'get_dimensionless_pile_tip_stiffness_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dimensionless\\_pile\\_tip\\_stiffness\\_scalar}(E_p, E_s, δ, ν, j) \\\\ \\hspace{1em} Ω \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{2em} Ω \\gets \\frac{2}{\\sqrt{ \\mathrm{np}.\\pi \\cdot δ } \\cdot \\mathopen{}\\left( 1 - ν^{2} \\mathclose{}\\right)} \\mathopen{}\\left( \\frac{E_p}{E_s} \\mathclose{}\\right)^{\\frac{-1}{2}} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ Ω \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\tpoisson_ratio (float): Poisson’s ratio of soil\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tdimensionless_pile_tip_stiffness (float): Dimensionless pile tip stiffness\n\n',
        'get_dimensionless_subgrade_reaction_modulus':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dimensionless\\_subgrade\\_reaction\\_modulus}(E_p, E_s, j) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_dimensionless\\_subgrade\\_reaction\\_modulus\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\n',
        'get_dimensionless_subgrade_reaction_modulus_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dimensionless\\_subgrade\\_reaction\\_modulus\\_scalar}(E_p, E_s, j) \\\\ \\hspace{1em} δ \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j \\in \\mathopen{}\\left( \\textrm{"x"}, \\textrm{"y"} \\mathclose{}\\right) \\\\ \\hspace{2em} δ \\gets 2 \\mathopen{}\\left( \\frac{E_p}{E_s} \\mathclose{}\\right)^{\\frac{-3}{40}} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{3em} δ \\gets 0.6 \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{4em} δ \\gets 1.2 \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ δ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\n',
        'get_displacement_rotation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_displacement\\_rotation}(K_{hh}, K_{rr}, K_{hr}, \\mathrm{pile\\_head\\_lateral\\_load}, \\mathrm{pile\\_head\\_moment}) \\\\ \\hspace{1em} \\mathrm{stiffness\\_matrix\\_inverted} \\gets \\frac{1}{K_{hh} \\cdot K_{rr} - K_{hr}^{2}} \\cdot \\begin{bmatrix} K_{rr}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) & -K_{hr}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ -K_{hr}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) & K_{hh}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\end{bmatrix} \\\\ \\hspace{1em} \\mathopen{}\\left( u, θ \\mathclose{}\\right) \\gets \\mathrm{np}.\\mathrm{matmul} \\mathopen{}\\left( \\mathrm{stiffness\\_matrix\\_inverted}, \\begin{bmatrix} \\mathrm{pile\\_head\\_lateral\\_load}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathrm{pile\\_head\\_moment}.\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\end{bmatrix} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( u, θ \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_swaying_stiffness (float): Swaying stiffness of pile\n\tpile_rocking_stiffness (float): Rocking stiffness of pile\n\tpile_cross_swaying_rocking_stiffness (float): Cross-swaying-rocking stiffness of pile\n\tpile_head_lateral_load (float): Lateral load at pile head\n\tpile_head_moment (float): Moment at pile head\n\n\nReturns:\n\tpile_head_displacement (float): Displacement at pile head\n\tpile_head_rotation (float): Rotation at pile head\n\n',
        'get_dynamic_stiffness_modifier':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dynamic\\_stiffness\\_modifier}(a_0, L_h, B_h, j) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_dynamic\\_stiffness\\_modifier\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tdynamic_stiffness_modifier (float): Frequency-dependent stiffness modifier for mode j\n\n',
        'get_dynamic_stiffness_modifier_pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dynamic\\_stiffness\\_modifier\\_pile}(δ, γ_p, γ, ν, a_0, j, w_s) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_dynamic\\_stiffness\\_modifier\\_pile\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\tpile_unit_weight (float): Unit weight of pile material\n\tunit_weight (float): Unit weight of soil\n\tpoisson_ratio (float): Poisson’s ratio of soil\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tstiffness_weight_factor_soil (float): Weight factor for soil stiffness contribution\n\n\nReturns:\n\tdynamic_stiffness_modifier (float): Frequency-dependent stiffness modifier for mode j\n\n',
        'get_dynamic_stiffness_modifier_pile_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dynamic\\_stiffness\\_modifier\\_pile\\_scalar}(δ, γ_p, γ, ν, a_0, j, w_s) \\\\ \\hspace{1em} α \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"x"} \\\\ \\hspace{2em} α \\gets 1 - \\frac{3 \\mathrm{np}.\\pi}{32 δ} \\frac{\\frac{γ_p}{γ}}{1 + ν} \\cdot a_0^{2} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{3em} α \\gets 1 - w_s \\cdot \\mathopen{}\\left( \\frac{\\mathrm{np}.\\pi}{8 δ} \\frac{\\frac{γ_p}{γ}}{1 + ν} \\cdot a_0^{2} - \\frac{1}{2} \\cdot a_0^{\\frac{1}{2}} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ α \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\tpile_unit_weight (float): Unit weight of pile material\n\tunit_weight (float): Unit weight of soil\n\tpoisson_ratio (float): Poisson’s ratio of soil\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tstiffness_weight_factor_soil (float): Weight factor for soil stiffness contribution\n\n\nReturns:\n\tdynamic_stiffness_modifier (float): Frequency-dependent stiffness modifier for mode j\n\n',
        'get_dynamic_stiffness_modifier_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_dynamic\\_stiffness\\_modifier\\_scalar}(a_0, L_h, B_h, j) \\\\ \\hspace{1em} α \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j \\in \\mathopen{}\\left( \\textrm{"x"}, \\textrm{"y"} \\mathclose{}\\right) \\\\ \\hspace{2em} α \\gets 1 \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{3em} α \\gets 1 - \\frac{\\mathopen{}\\left( 0.4 + \\frac{0.2}{\\frac{L_h}{B_h}} \\mathclose{}\\right) a_0^{2}}{\\frac{10}{1 + 3 \\mathopen{}\\left( \\frac{L_h}{B_h} - 1 \\mathclose{}\\right)} + a_0^{2}} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ j = \\textrm{"xx"} \\\\ \\hspace{4em} α \\gets 1 - \\frac{\\mathopen{}\\left( 0.55 + 0.01 \\sqrt{ \\frac{L_h}{B_h} - 1 } \\mathclose{}\\right) a_0^{2}}{2.4 - \\frac{0.4}{\\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{3}} + a_0^{2}} \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{5em} α \\gets 1 - \\frac{0.55 a_0^{2}}{0.6 + \\frac{1.4}{\\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{3}} + a_0^{2}} \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} \\mathbf{if} \\ j = \\textrm{"zz"} \\\\ \\hspace{6em} α \\gets 1 - \\frac{0.33 - 0.03 \\sqrt{ \\frac{L_h}{B_h} - 1 } \\cdot a_0^{2}}{\\frac{0.8}{1 + 0.33 \\mathopen{}\\left( \\frac{L_h}{B_h} - 1 \\mathclose{}\\right)} + a_0^{2}} \\\\ \\hspace{5em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ α \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tdynamic_stiffness_modifier (float): Frequency-dependent stiffness modifier for mode j\n\n',
        'get_effective_profile_depth':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_profile\\_depth}(j, B_h, L_h) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_effective\\_profile\\_depth\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\n\nReturns:\n\teffective_profile_depth (float): Effective profile depth for analysis\n\n',
        'get_effective_profile_depth_pile':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_profile\\_depth\\_pile}(j, L, L_a) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_effective\\_profile\\_depth\\_pile\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tpile_embedment_length (float): Embedment length of pile\n\tactive_pile_length (float): Active pile length in lateral mode (typically < L_p)\n\n\nReturns:\n\teffective_profile_depth (float): Effective profile depth for analysis\n\n',
        'get_effective_profile_depth_pile_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_profile\\_depth\\_pile\\_scalar}(j, L, L_a) \\\\ \\hspace{1em} z_p \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{2em} z_p \\gets L \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j \\in \\mathopen{}\\left( \\textrm{"x"}, \\textrm{"y"} \\mathclose{}\\right) \\\\ \\hspace{3em} z_p \\gets L_a \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ z_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tpile_embedment_length (float): Embedment length of pile\n\tactive_pile_length (float): Active pile length in lateral mode (typically < L_p)\n\n\nReturns:\n\teffective_profile_depth (float): Effective profile depth for analysis\n\n',
        'get_effective_profile_depth_rotation':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_profile\\_depth\\_rotation}(D_f, B_h, L_h) \\\\ \\hspace{1em} z_p \\gets D_f + \\mathrm{get\\_effective\\_profile\\_depth\\_scalar} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ z_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_embedment (float): Depth of footing embedment\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\n\nReturns:\n\teffective_profile_depth_rotation (float): Effective profile depth for foundation rotation\n\n',
        'get_effective_profile_depth_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_effective\\_profile\\_depth\\_scalar}(j, B_h, L_h) \\\\ \\hspace{1em} z_p \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j \\in \\mathopen{}\\left( \\textrm{"x"}, \\textrm{"y"}, \\textrm{"z"} \\mathclose{}\\right) \\\\ \\hspace{2em} z_p \\gets \\mathopen{}\\left( B_h \\cdot L_h \\mathclose{}\\right)^{0.5} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"xx"} \\\\ \\hspace{3em} z_p \\gets \\mathopen{}\\left( B_h^{3} \\cdot L_h \\mathclose{}\\right)^{0.25} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{4em} z_p \\gets \\mathopen{}\\left( B_h \\cdot L_h^{3} \\mathclose{}\\right)^{0.25} \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ j = \\textrm{"zz"} \\\\ \\hspace{5em} z_p \\gets \\mathopen{}\\left( B_h^{3} \\cdot L_h + B_h \\cdot L_h^{3} \\mathclose{}\\right)^{0.25} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ z_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\n\nReturns:\n\teffective_profile_depth (float): Effective profile depth for analysis\n\n',
        'get_elasticity_modulus_z':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_elasticity\\_modulus\\_z}(E_s, z, D, a, n, \\mathrm{soil\\_profile\\_shape}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{soil\\_profile\\_shape} = \\textrm{"linear"} \\\\ \\hspace{2em} n \\gets 1 \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{elasticity\\_modulus\\_z} \\gets E_s \\cdot \\mathopen{}\\left( a + \\frac{\\mathopen{}\\left( 1 - a \\mathclose{}\\right) z}{D} \\mathclose{}\\right)^{n} \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{elasticity\\_modulus\\_z} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tdepth (float): Depth below ground surface to bottom of layer\n\tpile_diameter (float): Outside diameter of pile\n\tinhomogeneity_alpha (float): Inhomogeneity alpha parameter\n\tinhomogeneity_exponent (float): Inhomogeneity exponent for soil\n\tsoil_profile_shape (str): Shape of soil profile\n\n\nReturns:\n\telasticity_modulus (float): Modulus of elasticity of soil\n\n',
        'get_embedment_factor':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_embedment\\_factor}(D_f, L_h, B_h, j, \\mathrm{foundation\\_is\\_embedded}) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_embedment\\_factor\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_embedment (float): Depth of footing embedment\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tfoundation_is_embedded (bool): Indicates if foundation is embedded\n\n\nReturns:\n\tembedment_factor (float): Embedment correction factor for rigid footing spring constants\n\n',
        'get_embedment_factor_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_embedment\\_factor\\_scalar}(D_f, L_h, B_h, j, \\mathrm{foundation\\_is\\_embedded}) \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{foundation\\_is\\_embedded} \\\\ \\hspace{2em} \\mathbf{return} \\ \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} η \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j \\in \\mathopen{}\\left( \\textrm{"x"}, \\textrm{"y"} \\mathclose{}\\right) \\\\ \\hspace{2em} η \\gets 1 + \\mathopen{}\\left( 0.33 + \\frac{1.34}{1 + \\frac{L_h}{B_h}} \\mathclose{}\\right) \\mathopen{}\\left( \\frac{D_f}{B_h} \\mathclose{}\\right)^{0.8} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{3em} η \\gets 1 + \\mathopen{}\\left( 0.25 + \\frac{0.25}{\\frac{L_h}{B_h}} \\mathclose{}\\right) \\mathopen{}\\left( \\frac{D_f}{B_h} \\mathclose{}\\right)^{0.8} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ j = \\textrm{"xx"} \\\\ \\hspace{4em} η \\gets 1 + \\frac{D_f}{B_h} + \\frac{1.6}{0.35 + \\frac{L_h}{B_h}} \\cdot \\mathopen{}\\left( \\frac{D_f}{B_h} \\mathclose{}\\right)^{2} \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{5em} η \\gets 1 + \\frac{D_f}{B_h} + \\frac{1.6}{0.35 + \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{4}} \\mathopen{}\\left( \\frac{D_f}{B_h} \\mathclose{}\\right)^{2} \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} \\mathbf{if} \\ j = \\textrm{"zz"} \\\\ \\hspace{6em} η \\gets 1 + \\mathopen{}\\left( 1.3 + \\frac{1.32}{\\frac{L_h}{B_h}} \\mathclose{}\\right) \\mathopen{}\\left( \\frac{D_f}{B_h} \\mathclose{}\\right)^{0.9} \\\\ \\hspace{5em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ η \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_embedment (float): Depth of footing embedment\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tfoundation_is_embedded (bool): Indicates if foundation is embedded\n\n\nReturns:\n\tembedment_factor (float): Embedment correction factor for rigid footing spring constants\n\n',
        'get_footing_half_length':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_half\\_length}(L) \\\\ \\hspace{1em} L_h \\gets \\frac{L}{2} \\\\ \\hspace{1em} \\mathbf{return} \\ L_h \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_length (float): Footing length (large plan dimension)\n\n\nReturns:\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\n',
        'get_footing_half_width':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_half\\_width}(B) \\\\ \\hspace{1em} B_h \\gets \\frac{B}{2} \\\\ \\hspace{1em} \\mathbf{return} \\ B_h \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_width (float): Footing width (small plan dimension)\n\n\nReturns:\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\n',
        'get_footing_router':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_router}() \\\\ \\hspace{1em} j_{group} \\gets \\mathopen{}\\left[ \\textrm{"x overall"}, \\textrm{"y overall"}, \\textrm{"x base spring"}, \\textrm{"y base spring"}, \\textrm{"z"}, \\textrm{"xx"}, \\textrm{"yy"}, \\textrm{"zz"} \\mathclose{}\\right] \\\\ \\hspace{1em} j \\gets \\mathopen{}\\left[ \\textrm{"x"}, \\textrm{"y"}, \\textrm{"x"}, \\textrm{"y"}, \\textrm{"z"}, \\textrm{"xx"}, \\textrm{"yy"}, \\textrm{"zz"} \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathrm{foundation\\_is\\_embedded} \\gets \\mathopen{}\\left[ \\mathrm{False}, \\mathrm{False}, \\mathrm{True}, \\mathrm{True}, \\mathrm{False}, \\mathrm{False}, \\mathrm{False}, \\mathrm{False} \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( j_{group}, j, \\mathrm{foundation\\_is\\_embedded} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\n\nReturns:\n\tvibration_mode_group (str): Vibration mode group\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tfoundation_is_embedded (bool): Indicates if foundation is embedded\n\n',
        'get_footing_zone':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_footing\\_zone}(j, k, c) \\\\ \\hspace{1em} \\mathrm{stiffness\\_map} \\gets \\mathrm{dict} \\mathopen{}\\left( \\mathrm{zip} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( j \\mathclose{}\\right), \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( k \\mathclose{}\\right) \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathrm{dashpot\\_coefficient\\_map} \\gets \\mathrm{dict} \\mathopen{}\\left( \\mathrm{zip} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( j \\mathclose{}\\right), \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( c \\mathclose{}\\right) \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} j \\gets \\mathopen{}\\left[ \\textrm{"z"}, \\textrm{"xx"}, \\textrm{"yy"}, \\textrm{"xx and yy"} \\mathclose{}\\right] \\\\ \\hspace{1em} k \\gets \\mathopen{}\\left[ \\mathrm{stiffness\\_map}.\\mathrm{get} \\mathopen{}\\left( k \\mathclose{}\\right) \\mid k \\in j \\mathclose{}\\right] \\\\ \\hspace{1em} c \\gets \\mathopen{}\\left[ \\mathrm{dashpot\\_coefficient\\_map}.\\mathrm{get} \\mathopen{}\\left( k \\mathclose{}\\right) \\mid k \\in j \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathrm{footing\\_zone} \\gets \\mathopen{}\\left[ \\textrm{"center"}, \\textrm{"y edge"}, \\textrm{"x edge"}, \\textrm{"corner"} \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathrm{color} \\gets \\mathopen{}\\left[ \\textrm{"grey"}, \\textrm{"dodgerblue"}, \\textrm{"yellow"}, \\textrm{"red"} \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{footing\\_zone}, \\mathrm{color}, j, k, c \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tstiffness (float): Dynamic stiffness for mode j (translation or rotation)\n\tdashpot_coefficient (float): Dashpot coefficient for translation (MN-s/m) or rotation (MN-m/rad)\n\n\nReturns:\n\tfooting_zone (str): Footing intensity zone description\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tstiffness (float): Dynamic stiffness for mode j (translation or rotation)\n\tdashpot_coefficient (float): Dashpot coefficient for translation (MN-s/m) or rotation (MN-m/rad)\n\n',
        'get_natural_frequency':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_natural\\_frequency}(T_{flexible}) \\\\ \\hspace{1em} ω \\gets \\frac{2 \\mathrm{np}.\\pi}{T_{flexible}} \\\\ \\hspace{1em} \\mathbf{return} \\ ω \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstructure_flexible_period (float): Flexible-base period of structure\n\n\nReturns:\n\tnatural_frequency (float): Undamped natural vibration frequency\n\n',
        'get_period_lengthening_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_period\\_lengthening\\_ratio}(h/{V_s\\ T}, h, B_h) \\\\ \\hspace{1em} \\mathrm{height\\_width\\_ratio} \\gets \\frac{h}{B_h} \\\\ \\hspace{1em} T_{flexible}/T \\gets \\mathrm{PeriodLengtheningRatioFigure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( \\mathclose{}\\right).\\mathrm{item} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ T_{flexible}/T \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstructure_to_soil_stiffness_ratio (float): Ratio of structure to soil stiffness\n\tstructure_effective_modal_height (float): Height of center of mass for first-mode shape\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\n\nReturns:\n\tperiod_lengthening_ratio (float): Ratio of flexible-base to rigid-base period\n\n',
        'get_pile_cross_swaying_rocking_stiffness':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_cross\\_swaying\\_rocking\\_stiffness}(E_p, I_p, μ, k_{sd}, D, \\mathrm{soil\\_profile\\_shape}, a, n) \\\\ \\hspace{1em} K_{hr} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{soil\\_profile\\_shape} = \\textrm{"linear"} \\\\ \\hspace{2em} \\mathbf{if} \\ a = 1 \\\\ \\hspace{3em} K_{hr} \\gets 2 E_p \\cdot I_p \\cdot μ^{2} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} K_{hr} \\gets E_p \\cdot I_p \\cdot μ^{2} + \\frac{k_{sd}}{16 D \\cdot μ^{3}} \\cdot \\mathopen{}\\left( 3 + a \\cdot \\mathopen{}\\left( 4 D \\cdot μ - 3 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{soil\\_profile\\_shape} = \\textrm{"parabolic"} \\\\ \\hspace{3em} K_{hr} \\gets E_p \\cdot I_p \\cdot μ^{2} + k_{sd} \\cdot 2^{\\frac{-9 - 3 n}{2}} \\cdot \\mathopen{}\\left( \\frac{1}{μ \\cdot D} \\mathclose{}\\right)^{n} \\frac{\\Gamma \\mathopen{}\\left( 1 + n \\mathclose{}\\right)}{μ^{2}} \\mathopen{}\\left( 2^{\\frac{5 + n}{2}} - 4 \\cos \\mathopen{}\\left( \\frac{\\mathopen{}\\left( 1 + n \\mathclose{}\\right) \\mathrm{np}.\\pi}{4} \\mathclose{}\\right) + 4 \\sin \\mathopen{}\\left( \\frac{\\mathopen{}\\left( 1 + n \\mathclose{}\\right) \\mathrm{np}.\\pi}{4} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ K_{hr} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\tpile_moment_of_inertia (float): Moment of inertia of equivalent solid pile\n\tshape_parameter (float): Shape parameter analogous to a wavenumber\n\tsubgrade_reaction_modulus_at_diameter (float): Subgrade reaction modulus at one pile diameter\n\tpile_diameter (float): Outside diameter of pile\n\tsoil_profile_shape (str): Shape of soil profile\n\tinhomogeneity_alpha (float): Inhomogeneity alpha parameter\n\tinhomogeneity_exponent (float): Inhomogeneity exponent for soil\n\n\nReturns:\n\tpile_cross_swaying_rocking_stiffness (float): Cross-swaying-rocking stiffness of pile\n\n',
        'get_pile_elasticity_modulus_solid_from_tubular_section':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_elasticity\\_modulus\\_solid\\_from\\_tubular\\_section}(E_p, t, D) \\\\ \\hspace{1em} E_p \\gets E_p \\cdot \\mathopen{}\\left( 1 - \\mathopen{}\\left( 1 - \\frac{2 t}{D} \\mathclose{}\\right)^{1} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ E_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\tpile_wall_thickness (float): Wall thickness of pile\n\tpile_diameter (float): Outside diameter of pile\n\n\nReturns:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\n',
        'get_pile_group_damping_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_group\\_damping\\_ratio}(a_0, j, \\mathrm{pile\\_group\\_configuration}) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_pile\\_group\\_damping\\_ratio\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tpile_group_configuration (str): Configuration of pile group\n\n\nReturns:\n\tpile_group_damping_ratio (float): Damping ratio for pile group\n\n',
        'get_pile_group_damping_ratio_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_group\\_damping\\_ratio\\_scalar}(a_0, j, \\mathrm{pile\\_group\\_configuration}) \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"y"} \\\\ \\hspace{2em} j \\gets \\textrm{"x"} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{figure} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"x"} \\\\ \\hspace{2em} \\mathrm{figure} \\gets \\mathrm{PileGroupDampingRatioXFigure} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{3em} \\mathrm{figure} \\gets \\mathrm{PileGroupDampingRatioYYFigure} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{4em} \\mathrm{figure} \\gets \\mathrm{PileGroupDampingRatioZFigure} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} β_G \\gets \\mathrm{figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ β_G \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tpile_group_configuration (str): Configuration of pile group\n\n\nReturns:\n\tpile_group_damping_ratio (float): Damping ratio for pile group\n\n',
        'get_pile_group_efficiency_factor':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_group\\_efficiency\\_factor}(a_0, j, \\mathrm{pile\\_group\\_configuration}) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_pile\\_group\\_efficiency\\_factor} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tpile_group_configuration (str): Configuration of pile group\n\n\nReturns:\n\tpile_group_efficiency_factor (float): Efficiency factor for pile group\n\n',
        'get_pile_group_efficiency_factor_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_group\\_efficiency\\_factor\\_scalar}(a_0, j, \\mathrm{pile\\_group\\_configuration}) \\\\ \\hspace{1em} \\mathbf{if} \\ j \\in \\mathopen{}\\left[ \\textrm{"x and y"}, \\textrm{"y"} \\mathclose{}\\right] \\\\ \\hspace{2em} j \\gets \\textrm{"x"} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathrm{figure} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"x"} \\\\ \\hspace{2em} \\mathrm{figure} \\gets \\mathrm{PileGroupEfficiencyFactorXFigure} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{3em} \\mathrm{figure} \\gets \\mathrm{PileGroupEfficiencyFactorYYFigure} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{4em} \\mathrm{figure} \\gets \\mathrm{PileGroupEfficiencyFactorZFigure} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} EF \\gets \\mathrm{figure}.\\mathrm{interpolate\\_at\\_x} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ EF \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tpile_group_configuration (str): Configuration of pile group\n\n\nReturns:\n\tpile_group_efficiency_factor (float): Efficiency factor for pile group\n\n',
        'get_pile_moment_of_inertia':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_moment\\_of\\_inertia}(D, \\mathrm{pile\\_shape}) \\\\ \\hspace{1em} I_p \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{pile\\_shape} \\in \\mathopen{}\\left( \\textrm{"tubular"}, \\textrm{"circle"} \\mathclose{}\\right) \\\\ \\hspace{2em} I_p \\gets \\frac{\\mathrm{np}.\\pi \\cdot D^{4}}{64} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ I_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_diameter (float): Outside diameter of pile\n\tpile_shape (str): Shape of pile\n\n\nReturns:\n\tpile_moment_of_inertia (float): Moment of inertia of equivalent solid pile\n\n',
        'get_pile_rocking_stiffness':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_rocking\\_stiffness}(E_p, I_p, μ, k_{sd}, D, \\mathrm{soil\\_profile\\_shape}, a, n) \\\\ \\hspace{1em} K_{rr} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{soil\\_profile\\_shape} = \\textrm{"linear"} \\\\ \\hspace{2em} \\mathbf{if} \\ a = 1 \\\\ \\hspace{3em} K_{rr} \\gets 2 E_p \\cdot I_p \\cdot μ \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} K_{rr} \\gets \\frac{3}{2} \\cdot E_p \\cdot I_p \\cdot μ + \\frac{k_{sd}}{8 D \\cdot μ^{4}} \\cdot \\mathopen{}\\left( 1 + a \\cdot \\mathopen{}\\left( D \\cdot μ - 1 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{soil\\_profile\\_shape} = \\textrm{"parabolic"} \\\\ \\hspace{3em} K_{rr} \\gets \\frac{3}{2} \\cdot E_p \\cdot I_p \\cdot μ + k_{sd} \\cdot 2^{\\frac{-9 - 3 n}{2}} \\cdot \\mathopen{}\\left( \\frac{1}{μ \\cdot D} \\mathclose{}\\right)^{n} \\frac{\\Gamma \\mathopen{}\\left( 1 + n \\mathclose{}\\right)}{μ^{3}} \\mathopen{}\\left( 2^{\\frac{5 + n}{2}} - 4 \\cos \\mathopen{}\\left( \\frac{\\mathopen{}\\left( 1 + n \\mathclose{}\\right) \\mathrm{np}.\\pi}{4} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ K_{rr} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\tpile_moment_of_inertia (float): Moment of inertia of equivalent solid pile\n\tshape_parameter (float): Shape parameter analogous to a wavenumber\n\tsubgrade_reaction_modulus_at_diameter (float): Subgrade reaction modulus at one pile diameter\n\tpile_diameter (float): Outside diameter of pile\n\tsoil_profile_shape (str): Shape of soil profile\n\tinhomogeneity_alpha (float): Inhomogeneity alpha parameter\n\tinhomogeneity_exponent (float): Inhomogeneity exponent for soil\n\n\nReturns:\n\tpile_rocking_stiffness (float): Rocking stiffness of pile\n\n',
        'get_pile_router':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_router}() \\\\ \\hspace{1em} j_{group} \\gets \\mathopen{}\\left[ \\textrm{"x and y"}, \\textrm{"z"} \\mathclose{}\\right] \\\\ \\hspace{1em} j \\gets \\mathopen{}\\left[ \\textrm{"x"}, \\textrm{"z"} \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathrm{foundation\\_is\\_embedded} \\gets \\mathopen{}\\left[ \\mathrm{True}, \\mathrm{True} \\mathclose{}\\right] \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( j_{group}, j, \\mathrm{foundation\\_is\\_embedded} \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\n\nReturns:\n\tvibration_mode_group (str): Vibration mode group\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tfoundation_is_embedded (bool): Indicates if foundation is embedded\n\n',
        'get_pile_stiffness_in_group':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_stiffness\\_in\\_group}(EF, k_p) \\\\ \\hspace{1em} k_{pG} \\gets EF \\cdot k_p \\\\ \\hspace{1em} \\mathbf{return} \\ k_{pG} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_group_efficiency_factor (float): Efficiency factor for pile group\n\tpile_stiffness (float): Dynamic stiffness of single pile for mode j (translation or rotation)\n\n\nReturns:\n\tpile_stiffness_in_group (float): Dynamic stiffness of pile in group for mode j\n\n',
        'get_pile_swaying_stiffness':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_pile\\_swaying\\_stiffness}(E_p, I_p, μ, k_{sd}, D, \\mathrm{soil\\_profile\\_shape}, a, n) \\\\ \\hspace{1em} K_{hh} \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{soil\\_profile\\_shape} = \\textrm{"linear"} \\\\ \\hspace{2em} \\mathbf{if} \\ a = 1 \\\\ \\hspace{3em} K_{hh} \\gets 4 E_p \\cdot I_p \\cdot μ^{3} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} K_{hh} \\gets E_p \\cdot I_p \\cdot μ^{3} + \\frac{3 k_{sd}}{8 D \\cdot μ^{2}} \\cdot \\mathopen{}\\left( 1 + a \\cdot \\mathopen{}\\left( 2 D \\cdot μ - 1 \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{soil\\_profile\\_shape} = \\textrm{"parabolic"} \\\\ \\hspace{3em} K_{hh} \\gets E_p \\cdot I_p \\cdot μ^{3} + k_{sd} \\cdot 2^{\\frac{-5 - 3 n}{2}} \\cdot \\mathopen{}\\left( \\frac{1}{μ \\cdot D} \\mathclose{}\\right)^{n} \\frac{\\Gamma \\mathopen{}\\left( 1 + n \\mathclose{}\\right)}{μ} \\mathopen{}\\left( 2^{\\frac{3 + n}{2}} + 2 \\sin \\mathopen{}\\left( \\frac{\\mathopen{}\\left( 1 + n \\mathclose{}\\right) \\mathrm{np}.\\pi}{4} \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ K_{hh} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\tpile_moment_of_inertia (float): Moment of inertia of equivalent solid pile\n\tshape_parameter (float): Shape parameter analogous to a wavenumber\n\tsubgrade_reaction_modulus_at_diameter (float): Subgrade reaction modulus at one pile diameter\n\tpile_diameter (float): Outside diameter of pile\n\tsoil_profile_shape (str): Shape of soil profile\n\tinhomogeneity_alpha (float): Inhomogeneity alpha parameter\n\tinhomogeneity_exponent (float): Inhomogeneity exponent for soil\n\n\nReturns:\n\tpile_swaying_stiffness (float): Swaying stiffness of pile\n\n',
        'get_poisson_adjustment_factor':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_poisson\\_adjustment\\_factor}(ν) \\\\ \\hspace{1em} ψ \\gets \\sqrt{ \\frac{2 \\mathopen{}\\left( 1 - ν \\mathclose{}\\right)}{1 - 2 ν} } \\\\ \\hspace{1em} ψ \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( ψ, \\mathrm{None}, 2.5 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ ψ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpoisson_ratio (float): Poisson’s ratio of soil\n\n\nReturns:\n\tpoisson_adjustment_factor (float): Adjustment factor for Poisson’s ratio\n\n',
        'get_radiation_damping_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_radiation\\_damping\\_ratio}(G, L_h, B_h, a_0, α, K, j, \\mathrm{foundation\\_is\\_embedded}, ψ, D_f) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_radiation\\_damping\\_ratio\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tshear_modulus (float): Shear modulus of soil\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tdynamic_stiffness_modifier (float): Frequency-dependent stiffness modifier for mode j\n\tstatic_stiffness (float): Static stiffness for mode j (translation or rotation)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tfoundation_is_embedded (bool): Indicates if foundation is embedded\n\tpoisson_adjustment_factor (float): Adjustment factor for Poisson’s ratio\n\tfooting_embedment (float): Depth of footing embedment\n\n\nReturns:\n\tradiation_damping_ratio (float): Radiation damping ratio for soil\n\n',
        'get_radiation_damping_ratio_rx':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_radiation\\_damping\\_ratio\\_rx}(α, δ, ν, a_0) \\\\ \\hspace{1em} β \\gets \\frac{3}{2 α \\cdot \\mathopen{}\\left( 1 + ν \\mathclose{}\\right) δ} \\cdot a_0^{\\frac{3}{4}} \\\\ \\hspace{1em} \\mathbf{return} \\ β \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdynamic_stiffness_modifier (float): Frequency-dependent stiffness modifier for mode j\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\tpoisson_ratio (float): Poisson’s ratio of soil\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\n\nReturns:\n\tradiation_damping_ratio (float): Radiation damping ratio for soil\n\n',
        'get_radiation_damping_ratio_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_radiation\\_damping\\_ratio\\_scalar}(G, L_h, B_h, a_0, α, K, j, \\mathrm{foundation\\_is\\_embedded}, ψ, D_f) \\\\ \\hspace{1em} β \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{foundation\\_is\\_embedded} \\\\ \\hspace{2em} \\mathbf{if} \\ j \\in \\mathopen{}\\left( \\textrm{"x"}, \\textrm{"y"} \\mathclose{}\\right) \\\\ \\hspace{3em} β \\gets \\frac{4 \\frac{L_h}{B_h}}{\\frac{K}{G \\cdot B_h}} \\frac{a_0}{2 α} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{4em} β \\gets \\frac{4 ψ \\frac{L_h}{B_h}}{\\frac{K}{G \\cdot B_h}} \\frac{a_0}{2 α} \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ j = \\textrm{"xx"} \\\\ \\hspace{5em} β \\gets \\frac{\\frac{4 ψ}{3} \\frac{L_h}{B_h} \\cdot a_0^{2}}{\\frac{K}{G \\cdot B_h^{3}} \\cdot \\mathopen{}\\left( 2.2 - \\frac{0.4}{\\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{3}} + a_0^{2} \\mathclose{}\\right)} \\frac{a_0}{2 α} \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{6em} β \\gets \\frac{\\frac{4 ψ}{3} \\cdot \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{3} a_0^{2}}{\\frac{K}{G \\cdot B_h^{3}} \\cdot \\mathopen{}\\left( \\frac{1.8}{1 + 1.75 \\mathopen{}\\left( \\frac{L_h}{B_h} - 1 \\mathclose{}\\right)} + a_0^{2} \\mathclose{}\\right)} \\frac{a_0}{2 α} \\\\ \\hspace{5em} \\mathbf{else} \\\\ \\hspace{6em} \\mathbf{if} \\ j = \\textrm{"zz"} \\\\ \\hspace{7em} β \\gets \\frac{\\frac{4}{3} \\cdot \\mathopen{}\\left( \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{3} + \\frac{L_h}{B_h} \\mathclose{}\\right) a_0^{2}}{\\frac{K}{G \\cdot B_h^{3}} \\cdot \\mathopen{}\\left( \\frac{1.4}{1 + 3 \\mathopen{}\\left( \\frac{L_h}{B_h} - 1 \\mathclose{}\\right)^{0.7}} + a_0^{2} \\mathclose{}\\right)} \\frac{a_0}{2 α} \\\\ \\hspace{6em} \\mathbf{end \\ if} \\\\ \\hspace{5em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"x"} \\\\ \\hspace{3em} β \\gets \\frac{4 \\mathopen{}\\left( \\frac{L_h}{B_h} + \\frac{D_f}{B_h} \\cdot \\mathopen{}\\left( ψ + \\frac{L_h}{B_h} \\mathclose{}\\right) \\mathclose{}\\right)}{\\frac{K}{G \\cdot B_h}} \\frac{a_0}{2 α} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ j = \\textrm{"y"} \\\\ \\hspace{4em} β \\gets \\frac{4 \\mathopen{}\\left( \\frac{L_h}{B_h} + \\frac{D_f}{B_h} \\cdot \\mathopen{}\\left( 1 + ψ \\cdot \\frac{L_h}{B_h} \\mathclose{}\\right) \\mathclose{}\\right)}{\\frac{K}{G \\cdot B_h}} \\frac{a_0}{2 α} \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{5em} β \\gets \\frac{4 \\mathopen{}\\left( ψ \\cdot \\frac{L_h}{B_h} + \\frac{D_f}{B_h} \\cdot \\mathopen{}\\left( 1 + \\frac{L_h}{B_h} \\mathclose{}\\right) \\mathclose{}\\right)}{\\frac{K}{G \\cdot B_h}} \\frac{a_0}{2 α} \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} \\mathbf{if} \\ j = \\textrm{"xx"} \\\\ \\hspace{6em} β \\gets \\mathopen{}\\left( \\frac{\\frac{4}{3} \\cdot \\mathopen{}\\left( \\frac{D_f}{B_h} + \\mathopen{}\\left( \\frac{D_f}{B_h} \\mathclose{}\\right)^{3} + ψ \\cdot \\frac{L_h}{B_h} \\cdot \\mathopen{}\\left( \\frac{D_f}{B_h} \\mathclose{}\\right)^{3} + 3 \\frac{D_f}{B_h} \\frac{L_h}{B_h} + ψ \\cdot \\frac{L_h}{B_h} \\mathclose{}\\right) a_0^{2}}{\\frac{K}{G \\cdot B_h^{3}} \\cdot \\mathopen{}\\left( \\frac{1.8}{1 + 1.75 \\mathopen{}\\left( \\frac{L_h}{B_h} - 1 \\mathclose{}\\right)} + a_0^{2} \\mathclose{}\\right)} + \\frac{\\frac{4}{3} \\cdot \\mathopen{}\\left( ψ \\cdot \\frac{L_h}{B_h} + 1 \\mathclose{}\\right) \\mathopen{}\\left( \\frac{D_f}{B_h} \\mathclose{}\\right)^{3}}{\\frac{K}{G \\cdot B_h^{3}}} \\mathclose{}\\right) \\frac{a_0}{2 α} \\\\ \\hspace{5em} \\mathbf{else} \\\\ \\hspace{6em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{7em} β \\gets \\mathopen{}\\left( \\frac{\\frac{4}{3} \\cdot \\mathopen{}\\left( \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{3} \\frac{D_f}{B_h} + ψ \\cdot \\mathopen{}\\left( \\frac{D_f}{B_h} \\mathclose{}\\right)^{3} \\frac{L_h}{B_h} + \\mathopen{}\\left( \\frac{D_f}{B_h} \\mathclose{}\\right)^{3} + 3 \\frac{D_f}{B_h} \\cdot \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{2} + ψ \\cdot \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{3} \\mathclose{}\\right) a_0^{2}}{\\frac{K}{G \\cdot B_h^{3}} \\cdot \\mathopen{}\\left( \\frac{1.8}{1 + 1.75 \\mathopen{}\\left( \\frac{L_h}{B_h} - 1 \\mathclose{}\\right)} + a_0^{2} \\mathclose{}\\right)} + \\frac{\\frac{4}{3} \\cdot \\mathopen{}\\left( \\frac{L_h}{B_h} + ψ \\mathclose{}\\right) \\mathopen{}\\left( \\frac{D_f}{B_h} \\mathclose{}\\right)^{3}}{\\frac{K}{G \\cdot B_h^{3}}} \\mathclose{}\\right) \\frac{a_0}{2 α} \\\\ \\hspace{6em} \\mathbf{else} \\\\ \\hspace{7em} \\mathbf{if} \\ j = \\textrm{"zz"} \\\\ \\hspace{8em} β \\gets \\frac{\\frac{4}{3} \\cdot \\mathopen{}\\left( 3 \\frac{L_h}{B_h} \\frac{D_f}{B_h} + ψ \\cdot \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{3} \\frac{D_f}{B_h} + 3 \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{2} \\frac{D_f}{B_h} + ψ \\cdot \\frac{D_f}{B_h} + \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{3} + \\frac{L_h}{B_h} \\mathclose{}\\right) a_0^{2}}{\\frac{K}{G \\cdot B_h^{3}}} \\cdot \\mathopen{}\\left( \\frac{1.4}{1 + 3 \\mathopen{}\\left( \\frac{L_h}{B_h} - 1 \\mathclose{}\\right)^{0.7}} + a_0^{2} \\mathclose{}\\right) \\frac{a_0}{2 α} \\\\ \\hspace{7em} \\mathbf{end \\ if} \\\\ \\hspace{6em} \\mathbf{end \\ if} \\\\ \\hspace{5em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ β \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tshear_modulus (float): Shear modulus of soil\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tdynamic_stiffness_modifier (float): Frequency-dependent stiffness modifier for mode j\n\tstatic_stiffness (float): Static stiffness for mode j (translation or rotation)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tfoundation_is_embedded (bool): Indicates if foundation is embedded\n\tpoisson_adjustment_factor (float): Adjustment factor for Poisson’s ratio\n\tfooting_embedment (float): Depth of footing embedment\n\n\nReturns:\n\tradiation_damping_ratio (float): Radiation damping ratio for soil\n\n',
        'get_response_embedment_modification__lizundia2020practical':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_response\\_embedment\\_modification\\_\\_lizundia2020practical}(D_f, V_{s,avg}, T) \\\\ \\hspace{1em} T \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( T, 0.2, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} RRS_e \\gets 0.25 + 0.75 \\cos \\mathopen{}\\left( \\frac{2 \\mathrm{np}.\\pi \\cdot D_f}{T \\cdot V_{s,avg}} \\mathclose{}\\right) \\\\ \\hspace{1em} RRS_e \\gets \\mathrm{np}.\\mathrm{clip} \\mathopen{}\\left( RRS_e, 0.7, \\mathrm{None} \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ RRS_e \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tfooting_embedment (float): Depth of footing embedment\n\taverage_effective_shear_velocity (float): Average effective profile velocity\n\tperiod (float): Vibration period of structure or soil\n\n\nReturns:\n\tresponse_embedment_modification (float): Response spectrum modification for embedment\n\n',
        'get_shape_parameter':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_shape\\_parameter}(L_a, D, λL, \\mathrm{soil\\_profile\\_shape}, a, n) \\\\ \\hspace{1em} μ \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ \\mathrm{soil\\_profile\\_shape} = \\textrm{"linear"} \\\\ \\hspace{2em} \\mathbf{if} \\ a = 1 \\\\ \\hspace{3em} μ \\gets λL \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} μ \\gets \\frac{4 λL}{5 D^{\\frac{1}{4}} \\cdot L_a \\cdot \\mathopen{}\\left( a - 1 \\mathclose{}\\right)} \\mathopen{}\\left( \\mathopen{}\\left( a \\cdot D \\mathclose{}\\right)^{\\frac{5}{4}} - \\mathopen{}\\left( a \\cdot D - a \\cdot L_a + L_a \\mathclose{}\\right)^{\\frac{5}{4}} \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ \\mathrm{soil\\_profile\\_shape} = \\textrm{"parabolic"} \\\\ \\hspace{3em} μ \\gets \\frac{4}{4 + n} \\cdot \\mathopen{}\\left( \\frac{L_a}{D} \\mathclose{}\\right)^{\\frac{n}{4}} λL \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ μ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tactive_pile_length (float): Active pile length in lateral mode (typically < L_p)\n\tpile_diameter (float): Outside diameter of pile\n\tdimensionless_pile_length_parameter (float): Dimensionless pile length parameter\n\tsoil_profile_shape (str): Shape of soil profile\n\tinhomogeneity_alpha (float): Inhomogeneity alpha parameter\n\tinhomogeneity_exponent (float): Inhomogeneity exponent for soil\n\n\nReturns:\n\tshape_parameter (float): Shape parameter analogous to a wavenumber\n\n',
        'get_square_equivalent_circle_diameter':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_square\\_equivalent\\_circle\\_diameter}(D) \\\\ \\hspace{1em} D \\gets 2 \\mathopen{}\\left( \\frac{D^{2}}{\\mathrm{np}.\\pi} \\mathclose{}\\right)^{0.5} \\\\ \\hspace{1em} \\mathbf{return} \\ D \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_diameter (float): Outside diameter of pile\n\n\nReturns:\n\tpile_diameter (float): Outside diameter of pile\n\n',
        'get_ssi_effects_expected':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_ssi\\_effects\\_expected}(h/{V_s\\ T}) \\\\ \\hspace{1em} \\mathrm{ssi\\_effects\\_expected} \\gets h/{V_s\\ T} > 0.1 \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{ssi\\_effects\\_expected} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstructure_to_soil_stiffness_ratio (float): Ratio of structure to soil stiffness\n\n\nReturns:\n\tssi_effects_expected (bool): Indicates expected soil-structure interaction effects\n\n',
        'get_static_pile_stiffness':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_static\\_pile\\_stiffness}(E_s, D, χ) \\\\ \\hspace{1em} K \\gets χ \\cdot E_s \\cdot D \\\\ \\hspace{1em} \\mathbf{return} \\ K \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tpile_diameter (float): Outside diameter of pile\n\tvibration_constant (float): Dimensionless constant for vibration for mode j\n\n\nReturns:\n\tstatic_stiffness (float): Static stiffness for mode j (translation or rotation)\n\n',
        'get_static_stiffness':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_static\\_stiffness}(G, L_h, B_h, j, \\mathrm{foundation\\_is\\_embedded}, ν, η) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_static\\_stiffness\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tshear_modulus (float): Shear modulus of soil\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tfoundation_is_embedded (bool): Indicates if foundation is embedded\n\tpoisson_ratio (float): Poisson’s ratio of soil\n\tembedment_factor (float): Embedment correction factor for rigid footing spring constants\n\n\nReturns:\n\tstatic_stiffness (float): Static stiffness for mode j (translation or rotation)\n\n',
        'get_static_stiffness_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_static\\_stiffness\\_scalar}(G, L_h, B_h, j, \\mathrm{foundation\\_is\\_embedded}, ν, η) \\\\ \\hspace{1em} K \\gets \\mathrm{np}.\\mathrm{nan} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"x"} \\\\ \\hspace{2em} K \\gets \\frac{G \\cdot B_h}{2 - ν} \\cdot \\mathopen{}\\left( 6.8 \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{0.65} + 2.4 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"y"} \\\\ \\hspace{3em} K \\gets \\frac{G \\cdot B_h}{2 - ν} \\cdot \\mathopen{}\\left( 6.8 \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{0.65} + 0.8 \\frac{L_h}{B_h} + 1.6 \\mathclose{}\\right) \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{4em} K \\gets \\frac{G \\cdot B_h}{1 - ν} \\cdot \\mathopen{}\\left( 3.1 \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{0.75} + 1.6 \\mathclose{}\\right) \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} \\mathbf{if} \\ j = \\textrm{"xx"} \\\\ \\hspace{5em} K \\gets \\frac{G \\cdot B_h^{3}}{1 - ν} \\cdot \\mathopen{}\\left( 3.2 \\frac{L_h}{B_h} + 0.8 \\mathclose{}\\right) \\\\ \\hspace{4em} \\mathbf{else} \\\\ \\hspace{5em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{6em} K \\gets \\frac{G \\cdot B_h^{3}}{1 - ν} \\cdot \\mathopen{}\\left( 3.73 \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{2.4} + 0.27 \\mathclose{}\\right) \\\\ \\hspace{5em} \\mathbf{else} \\\\ \\hspace{6em} \\mathbf{if} \\ j = \\textrm{"zz"} \\\\ \\hspace{7em} K \\gets G \\cdot B_h^{3} \\cdot \\mathopen{}\\left( 4.25 \\mathopen{}\\left( \\frac{L_h}{B_h} \\mathclose{}\\right)^{2.45} + 4.06 \\mathclose{}\\right) \\\\ \\hspace{6em} \\mathbf{end \\ if} \\\\ \\hspace{5em} \\mathbf{end \\ if} \\\\ \\hspace{4em} \\mathbf{end \\ if} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{if} \\ \\lnot \\mathrm{foundation\\_is\\_embedded} \\\\ \\hspace{2em} K \\gets K \\cdot η \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ K \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tshear_modulus (float): Shear modulus of soil\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tfoundation_is_embedded (bool): Indicates if foundation is embedded\n\tpoisson_ratio (float): Poisson’s ratio of soil\n\tembedment_factor (float): Embedment correction factor for rigid footing spring constants\n\n\nReturns:\n\tstatic_stiffness (float): Static stiffness for mode j (translation or rotation)\n\n',
        'get_stiffness':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stiffness}(α, K) \\\\ \\hspace{1em} k \\gets α \\cdot K \\\\ \\hspace{1em} \\mathbf{return} \\ k \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdynamic_stiffness_modifier (float): Frequency-dependent stiffness modifier for mode j\n\tstatic_stiffness (float): Static stiffness for mode j (translation or rotation)\n\n\nReturns:\n\tstiffness (float): Dynamic stiffness for mode j (translation or rotation)\n\n',
        'get_stiffness_edge_factor':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stiffness\\_edge\\_factor}(R_e, k, k_z^i, B_h, L_h, j) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_stiffness\\_edge\\_factor\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tend_length_ratio (float): End length ratio\n\tstiffness (float): Dynamic stiffness for mode j (translation or rotation)\n\tvertical_stiffness_intensity (float): Vertical stiffness intensity for foundation\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tstiffness_edge_factor (float): Stiffness edge increase factor\n\n',
        'get_stiffness_edge_factor_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stiffness\\_edge\\_factor\\_scalar}(R_e, k, k_z^i, B_h, L_h, j) \\\\ \\hspace{1em} R_k \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"xx"} \\\\ \\hspace{2em} \\mathbf{if} \\ R_e = 0 \\\\ \\hspace{3em} R_k \\gets 0 \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} R_k \\gets \\frac{\\frac{3 k}{4 k_z^i \\cdot B_h^{3} \\cdot L_h} - \\mathopen{}\\left( 1 - R_e \\mathclose{}\\right)^{3}}{1 - \\mathopen{}\\left( 1 - R_e \\mathclose{}\\right)^{3}} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"yy"} \\\\ \\hspace{3em} \\mathbf{if} \\ R_e = 0 \\\\ \\hspace{4em} R_k \\gets 0 \\\\ \\hspace{3em} \\mathbf{else} \\\\ \\hspace{4em} R_k \\gets \\frac{\\frac{3 k}{4 k_z^i \\cdot B_h \\cdot L_h^{3}} - \\mathopen{}\\left( 1 - R_e \\mathclose{}\\right)^{3}}{1 - \\mathopen{}\\left( 1 - R_e \\mathclose{}\\right)^{3}} \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{else} \\\\ \\hspace{3em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{4em} R_k \\gets 1 \\\\ \\hspace{3em} \\mathbf{end \\ if} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ R_k \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tend_length_ratio (float): End length ratio\n\tstiffness (float): Dynamic stiffness for mode j (translation or rotation)\n\tvertical_stiffness_intensity (float): Vertical stiffness intensity for foundation\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tstiffness_edge_factor (float): Stiffness edge increase factor\n\n',
        'get_stiffness_intensity':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stiffness\\_intensity}(k_z^i, R_k) \\\\ \\hspace{1em} k_i \\gets k_z^i \\cdot R_k \\\\ \\hspace{1em} \\mathbf{return} \\ k_i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvertical_stiffness_intensity (float): Vertical stiffness intensity for foundation\n\tstiffness_edge_factor (float): Stiffness edge increase factor\n\n\nReturns:\n\tstiffness_intensity (float): Stiffness intensity for foundation\n\n',
        'get_stiffness_weight_factor_pile_tip_x':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stiffness\\_weight\\_factor\\_pile\\_tip\\_x}() \\\\ \\hspace{1em} w_b \\gets 0 \\\\ \\hspace{1em} \\mathbf{return} \\ w_b \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\n\nReturns:\n\tstiffness_weight_factor_pile_tip (float): Weight factor for pile tip stiffness contribution\n\n',
        'get_stiffness_weight_factor_pile_tip_z':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stiffness\\_weight\\_factor\\_pile\\_tip\\_z}(λL, Ω) \\\\ \\hspace{1em} w_b \\gets \\frac{2 Ω}{2 Ω \\cdot \\cosh λL \\cdot \\mathopen{}\\left( 1 + Ω^{2} \\mathclose{}\\right) \\sinh λL} \\\\ \\hspace{1em} \\mathbf{return} \\ w_b \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_pile_length_parameter (float): Dimensionless pile length parameter\n\tdimensionless_pile_tip_stiffness (float): Dimensionless pile tip stiffness\n\n\nReturns:\n\tstiffness_weight_factor_pile_tip (float): Weight factor for pile tip stiffness contribution\n\n',
        'get_stiffness_weight_factor_pile_x':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stiffness\\_weight\\_factor\\_pile\\_x}() \\\\ \\hspace{1em} w_p \\gets \\frac{1}{4} \\\\ \\hspace{1em} \\mathbf{return} \\ w_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\n\nReturns:\n\tstiffness_weight_factor_pile (float): Weight factor for pile stiffness contribution\n\n',
        'get_stiffness_weight_factor_pile_z':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stiffness\\_weight\\_factor\\_pile\\_z}(w_s, w_b) \\\\ \\hspace{1em} w_p \\gets 1 - \\mathopen{}\\left( w_s + w_b \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ w_p \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstiffness_weight_factor_soil (float): Weight factor for soil stiffness contribution\n\tstiffness_weight_factor_pile_tip (float): Weight factor for pile tip stiffness contribution\n\n\nReturns:\n\tstiffness_weight_factor_pile (float): Weight factor for pile stiffness contribution\n\n',
        'get_stiffness_weight_factor_soil':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stiffness\\_weight\\_factor\\_soil}(λL, Ω, j) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_stiffness\\_weight\\_factor\\_soil\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_pile_length_parameter (float): Dimensionless pile length parameter\n\tdimensionless_pile_tip_stiffness (float): Dimensionless pile tip stiffness\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tstiffness_weight_factor_soil (float): Weight factor for soil stiffness contribution\n\n',
        'get_stiffness_weight_factor_soil_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_stiffness\\_weight\\_factor\\_soil\\_scalar}(λL, Ω, j) \\\\ \\hspace{1em} w_s \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"x"} \\\\ \\hspace{2em} w_s \\gets \\frac{3}{4} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{3em} w_s \\gets \\frac{-2 \\mathopen{}\\left( λL \\cdot \\mathopen{}\\left( Ω^{2} - 1 \\mathclose{}\\right) + Ω \\mathclose{}\\right) + 2 Ω \\cdot \\cosh \\mathopen{}\\left( 2 λL \\mathclose{}\\right) + \\mathopen{}\\left( 1 + Ω^{2} \\mathclose{}\\right) \\sinh \\mathopen{}\\left( 2 λL \\mathclose{}\\right)}{4 \\mathopen{}\\left( \\cosh λL \\mathclose{}\\right)^{2} \\mathopen{}\\left( Ω + \\tanh λL \\mathclose{}\\right) \\mathopen{}\\left( 1 + Ω \\cdot \\tanh λL \\mathclose{}\\right)} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ w_s \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_pile_length_parameter (float): Dimensionless pile length parameter\n\tdimensionless_pile_tip_stiffness (float): Dimensionless pile tip stiffness\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\n\nReturns:\n\tstiffness_weight_factor_soil (float): Weight factor for soil stiffness contribution\n\n',
        'get_structure_effective_modal_height':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_structure\\_effective\\_modal\\_height}(h_{total}) \\\\ \\hspace{1em} h \\gets \\frac{2}{3} \\cdot h_{total} \\\\ \\hspace{1em} \\mathbf{return} \\ h \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstructure_total_height (float): Building height from foundation to roof\n\n\nReturns:\n\tstructure_effective_modal_height (float): Height of center of mass for first-mode shape\n\n',
        'get_structure_to_soil_stiffness_ratio':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_structure\\_to\\_soil\\_stiffness\\_ratio}(h, V_{s,avg}, T) \\\\ \\hspace{1em} h/{V_s\\ T} \\gets \\frac{h}{V_{s,avg} \\cdot T} \\\\ \\hspace{1em} \\mathbf{return} \\ h/{V_s\\ T} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tstructure_effective_modal_height (float): Height of center of mass for first-mode shape\n\taverage_effective_shear_velocity (float): Average effective profile velocity\n\tstructure_rigid_period (float): Undamped natural vibration period of structure\n\n\nReturns:\n\tstructure_to_soil_stiffness_ratio (float): Ratio of structure to soil stiffness\n\n',
        'get_subgrade_reaction_modulus_at_diameter':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_subgrade\\_reaction\\_modulus\\_at\\_diameter}(δ, E_s) \\\\ \\hspace{1em} k_{sd} \\gets δ \\cdot E_s \\\\ \\hspace{1em} \\mathbf{return} \\ k_{sd} \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\telasticity_modulus (float): Modulus of elasticity of soil\n\n\nReturns:\n\tsubgrade_reaction_modulus_at_diameter (float): Subgrade reaction modulus at one pile diameter\n\n',
        'get_vertical_stiffness_intensity':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_vertical\\_stiffness\\_intensity}(j, k, B_h, L_h) \\\\ \\hspace{1em} \\mathrm{stiffness\\_map} \\gets \\mathrm{dict} \\mathopen{}\\left( \\mathrm{zip} \\mathopen{}\\left( \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( j \\mathclose{}\\right), \\mathrm{np}.\\mathrm{atleast\\_1d} \\mathopen{}\\left( k \\mathclose{}\\right) \\mathclose{}\\right) \\mathclose{}\\right) \\\\ \\hspace{1em} k_z \\gets \\mathrm{stiffness\\_map}_{\\textrm{"z"}} \\\\ \\hspace{1em} k_z^i \\gets \\frac{k_z}{4 B_h \\cdot L_h} \\\\ \\hspace{1em} \\mathbf{return} \\ k_z^i \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tstiffness (float): Dynamic stiffness for mode j (translation or rotation)\n\tfooting_half_width (float): Footing half-width (small plan dimension)\n\tfooting_half_length (float): Footing half-length (large plan dimension)\n\n\nReturns:\n\tvertical_stiffness_intensity (float): Vertical stiffness intensity for foundation\n\n',
        'get_vibration_constant':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_vibration\\_constant}(E_p, E_s, δ, j, λL, Ω) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathrm{\\_vibration\\_constant\\_vec} \\mathopen{}\\left( \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tdimensionless_pile_length_parameter (float): Dimensionless pile length parameter\n\tdimensionless_pile_tip_stiffness (float): Dimensionless pile tip stiffness\n\n\nReturns:\n\tvibration_constant (float): Dimensionless constant for vibration for mode j\n\n',
        'get_vibration_constant_scalar':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{get\\_vibration\\_constant\\_scalar}(E_p, E_s, δ, j, λL, Ω) \\\\ \\hspace{1em} χ \\gets \\mathrm{None} \\\\ \\hspace{1em} \\mathbf{if} \\ j = \\textrm{"x"} \\\\ \\hspace{2em} χ \\gets \\frac{1}{2} \\cdot \\mathrm{np}.\\pi^{\\frac{1}{4}} \\cdot δ^{\\frac{3}{4}} \\cdot \\mathopen{}\\left( \\frac{E_p}{E_s} \\mathclose{}\\right)^{\\frac{1}{4}} \\\\ \\hspace{1em} \\mathbf{else} \\\\ \\hspace{2em} \\mathbf{if} \\ j = \\textrm{"z"} \\\\ \\hspace{3em} χ \\gets \\mathopen{}\\left( \\frac{\\mathrm{np}.\\pi \\cdot δ}{2} \\mathclose{}\\right)^{\\frac{1}{2}} \\mathopen{}\\left( \\frac{E_p}{E_s} \\mathclose{}\\right)^{\\frac{1}{2}} \\frac{Ω + \\tanh λL}{1 + Ω \\cdot \\tanh λL} \\\\ \\hspace{2em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{end \\ if} \\\\ \\hspace{1em} \\mathbf{return} \\ χ \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tpile_elasticity_modulus (float): Young’s modulus of pile material\n\telasticity_modulus (float): Modulus of elasticity of soil\n\tdimensionless_subgrade_reaction_modulus (float): Dimensionless modulus of subgrade reaction\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tdimensionless_pile_length_parameter (float): Dimensionless pile length parameter\n\tdimensionless_pile_tip_stiffness (float): Dimensionless pile tip stiffness\n\n\nReturns:\n\tvibration_constant (float): Dimensionless constant for vibration for mode j\n\n',
        'pile_group_router':
            '\nCalculation function.\n\n$$\n\\begin{array}{l} \\mathbf{function} \\ \\mathrm{pile\\_group\\_router}(j, a_0, k) \\\\ \\hspace{1em} \\mathrm{pile\\_group\\_configuration} \\gets \\mathopen{}\\left[ \\textrm{"2X2"}, \\textrm{"2X2"}, \\textrm{"3X3"}, \\textrm{"3X3"}, \\textrm{"4X4"}, \\textrm{"4X4"} \\mathclose{}\\right] \\\\ \\hspace{1em} j \\gets \\mathrm{np}.\\mathrm{tile} \\mathopen{}\\left( j, 3 \\mathclose{}\\right) \\\\ \\hspace{1em} a_0 \\gets \\mathrm{np}.\\mathrm{tile} \\mathopen{}\\left( a_0, 3 \\mathclose{}\\right) \\\\ \\hspace{1em} k \\gets \\mathrm{np}.\\mathrm{tile} \\mathopen{}\\left( k, 3 \\mathclose{}\\right) \\\\ \\hspace{1em} \\mathbf{return} \\ \\mathopen{}\\left( \\mathrm{pile\\_group\\_configuration}, j, a_0, k \\mathclose{}\\right) \\\\ \\mathbf{end \\ function} \\end{array}\n$$\n\nArgs:\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tstiffness (float): Dynamic stiffness for mode j (translation or rotation)\n\n\nReturns:\n\tpile_group_configuration (str): Configuration of pile group\n\tvibration_mode (str): Vibration mode for dynamic analysis\n\tdimensionless_frequency (float): Dimensionless frequency for dynamic analysis\n\tpile_stiffness (float): Dynamic stiffness of single pile for mode j (translation or rotation)\n\n'
    }
}
